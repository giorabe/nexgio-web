function xv(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function bv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pd={exports:{}},Ba={},gd={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function nb(){if(kp)return Ge;kp=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function E(R,H,ne){this.props=R,this.context=H,this.refs=_,this.updater=ne||y}E.prototype.isReactComponent={},E.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=E.prototype;function j(R,H,ne){this.props=R,this.context=H,this.refs=_,this.updater=ne||y}var T=j.prototype=new C;T.constructor=j,S(T,E.prototype),T.isPureReactComponent=!0;var L=Array.isArray,N=Object.prototype.hasOwnProperty,$={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function z(R,H,ne){var ce,ge={},_e=null,ee=null;if(H!=null)for(ce in H.ref!==void 0&&(ee=H.ref),H.key!==void 0&&(_e=""+H.key),H)N.call(H,ce)&&!k.hasOwnProperty(ce)&&(ge[ce]=H[ce]);var me=arguments.length-2;if(me===1)ge.children=ne;else if(1<me){for(var ye=Array(me),Ce=0;Ce<me;Ce++)ye[Ce]=arguments[Ce+2];ge.children=ye}if(R&&R.defaultProps)for(ce in me=R.defaultProps,me)ge[ce]===void 0&&(ge[ce]=me[ce]);return{$$typeof:e,type:R,key:_e,ref:ee,props:ge,_owner:$.current}}function W(R,H){return{$$typeof:e,type:R.type,key:H,ref:R.ref,props:R.props,_owner:R._owner}}function J(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function ae(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ne){return H[ne]})}var de=/\/+/g;function fe(R,H){return typeof R=="object"&&R!==null&&R.key!=null?ae(""+R.key):H.toString(36)}function le(R,H,ne,ce,ge){var _e=typeof R;(_e==="undefined"||_e==="boolean")&&(R=null);var ee=!1;if(R===null)ee=!0;else switch(_e){case"string":case"number":ee=!0;break;case"object":switch(R.$$typeof){case e:case t:ee=!0}}if(ee)return ee=R,ge=ge(ee),R=ce===""?"."+fe(ee,0):ce,L(ge)?(ne="",R!=null&&(ne=R.replace(de,"$&/")+"/"),le(ge,H,ne,"",function(Ce){return Ce})):ge!=null&&(J(ge)&&(ge=W(ge,ne+(!ge.key||ee&&ee.key===ge.key?"":(""+ge.key).replace(de,"$&/")+"/")+R)),H.push(ge)),1;if(ee=0,ce=ce===""?".":ce+":",L(R))for(var me=0;me<R.length;me++){_e=R[me];var ye=ce+fe(_e,me);ee+=le(_e,H,ne,ye,ge)}else if(ye=b(R),typeof ye=="function")for(R=ye.call(R),me=0;!(_e=R.next()).done;)_e=_e.value,ye=ce+fe(_e,me++),ee+=le(_e,H,ne,ye,ge);else if(_e==="object")throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ee}function te(R,H,ne){if(R==null)return R;var ce=[],ge=0;return le(R,ce,"","",function(_e){return H.call(ne,_e,ge++)}),ce}function Q(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(ne){(R._status===0||R._status===-1)&&(R._status=1,R._result=ne)},function(ne){(R._status===0||R._status===-1)&&(R._status=2,R._result=ne)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var V={current:null},P={transition:null},Z={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:P,ReactCurrentOwner:$};function X(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:te,forEach:function(R,H,ne){te(R,function(){H.apply(this,arguments)},ne)},count:function(R){var H=0;return te(R,function(){H++}),H},toArray:function(R){return te(R,function(H){return H})||[]},only:function(R){if(!J(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ge.Component=E,Ge.Fragment=r,Ge.Profiler=a,Ge.PureComponent=j,Ge.StrictMode=i,Ge.Suspense=f,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ge.act=X,Ge.cloneElement=function(R,H,ne){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ce=S({},R.props),ge=R.key,_e=R.ref,ee=R._owner;if(H!=null){if(H.ref!==void 0&&(_e=H.ref,ee=$.current),H.key!==void 0&&(ge=""+H.key),R.type&&R.type.defaultProps)var me=R.type.defaultProps;for(ye in H)N.call(H,ye)&&!k.hasOwnProperty(ye)&&(ce[ye]=H[ye]===void 0&&me!==void 0?me[ye]:H[ye])}var ye=arguments.length-2;if(ye===1)ce.children=ne;else if(1<ye){me=Array(ye);for(var Ce=0;Ce<ye;Ce++)me[Ce]=arguments[Ce+2];ce.children=me}return{$$typeof:e,type:R.type,key:ge,ref:_e,props:ce,_owner:ee}},Ge.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},Ge.createElement=z,Ge.createFactory=function(R){var H=z.bind(null,R);return H.type=R,H},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(R){return{$$typeof:d,render:R}},Ge.isValidElement=J,Ge.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:Q}},Ge.memo=function(R,H){return{$$typeof:m,type:R,compare:H===void 0?null:H}},Ge.startTransition=function(R){var H=P.transition;P.transition={};try{R()}finally{P.transition=H}},Ge.unstable_act=X,Ge.useCallback=function(R,H){return V.current.useCallback(R,H)},Ge.useContext=function(R){return V.current.useContext(R)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(R){return V.current.useDeferredValue(R)},Ge.useEffect=function(R,H){return V.current.useEffect(R,H)},Ge.useId=function(){return V.current.useId()},Ge.useImperativeHandle=function(R,H,ne){return V.current.useImperativeHandle(R,H,ne)},Ge.useInsertionEffect=function(R,H){return V.current.useInsertionEffect(R,H)},Ge.useLayoutEffect=function(R,H){return V.current.useLayoutEffect(R,H)},Ge.useMemo=function(R,H){return V.current.useMemo(R,H)},Ge.useReducer=function(R,H,ne){return V.current.useReducer(R,H,ne)},Ge.useRef=function(R){return V.current.useRef(R)},Ge.useState=function(R){return V.current.useState(R)},Ge.useSyncExternalStore=function(R,H,ne){return V.current.useSyncExternalStore(R,H,ne)},Ge.useTransition=function(){return V.current.useTransition()},Ge.version="18.3.1",Ge}var Cp;function _h(){return Cp||(Cp=1,gd.exports=nb()),gd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function rb(){if(Rp)return Ba;Rp=1;var e=_h(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var g,w={},b=null,y=null;m!==void 0&&(b=""+m),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(y=f.ref);for(g in f)i.call(f,g)&&!l.hasOwnProperty(g)&&(w[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:t,type:d,key:b,ref:y,props:w,_owner:a.current}}return Ba.Fragment=r,Ba.jsx=c,Ba.jsxs=c,Ba}var Pp;function sb(){return Pp||(Pp=1,pd.exports=rb()),pd.exports}var u=sb(),Rl={},vd={exports:{}},nn={},yd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function ib(){return Tp||(Tp=1,(function(e){function t(P,Z){var X=P.length;P.push(Z);e:for(;0<X;){var R=X-1>>>1,H=P[R];if(0<a(H,Z))P[R]=Z,P[X]=H,X=R;else break e}}function r(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var Z=P[0],X=P.pop();if(X!==Z){P[0]=X;e:for(var R=0,H=P.length,ne=H>>>1;R<ne;){var ce=2*(R+1)-1,ge=P[ce],_e=ce+1,ee=P[_e];if(0>a(ge,X))_e<H&&0>a(ee,ge)?(P[R]=ee,P[_e]=X,R=_e):(P[R]=ge,P[ce]=X,R=ce);else if(_e<H&&0>a(ee,X))P[R]=ee,P[_e]=X,R=_e;else break e}}return Z}function a(P,Z){var X=P.sortIndex-Z.sortIndex;return X!==0?X:P.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],g=1,w=null,b=3,y=!1,S=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(P){for(var Z=r(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=P)i(m),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=r(m)}}function L(P){if(_=!1,T(P),!S)if(r(f)!==null)S=!0,Q(N);else{var Z=r(m);Z!==null&&V(L,Z.startTime-P)}}function N(P,Z){S=!1,_&&(_=!1,C(z),z=-1),y=!0;var X=b;try{for(T(Z),w=r(f);w!==null&&(!(w.expirationTime>Z)||P&&!ae());){var R=w.callback;if(typeof R=="function"){w.callback=null,b=w.priorityLevel;var H=R(w.expirationTime<=Z);Z=e.unstable_now(),typeof H=="function"?w.callback=H:w===r(f)&&i(f),T(Z)}else i(f);w=r(f)}if(w!==null)var ne=!0;else{var ce=r(m);ce!==null&&V(L,ce.startTime-Z),ne=!1}return ne}finally{w=null,b=X,y=!1}}var $=!1,k=null,z=-1,W=5,J=-1;function ae(){return!(e.unstable_now()-J<W)}function de(){if(k!==null){var P=e.unstable_now();J=P;var Z=!0;try{Z=k(!0,P)}finally{Z?fe():($=!1,k=null)}}else $=!1}var fe;if(typeof j=="function")fe=function(){j(de)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,te=le.port2;le.port1.onmessage=de,fe=function(){te.postMessage(null)}}else fe=function(){E(de,0)};function Q(P){k=P,$||($=!0,fe())}function V(P,Z){z=E(function(){P(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,Q(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var X=b;b=Z;try{return P()}finally{b=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=b;b=P;try{return Z()}finally{b=X}},e.unstable_scheduleCallback=function(P,Z,X){var R=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?R+X:R):X=R,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=X+H,P={id:g++,callback:Z,priorityLevel:P,startTime:X,expirationTime:H,sortIndex:-1},X>R?(P.sortIndex=X,t(m,P),r(f)===null&&P===r(m)&&(_?(C(z),z=-1):_=!0,V(L,X-R))):(P.sortIndex=H,t(f,P),S||y||(S=!0,Q(N))),P},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(P){var Z=b;return function(){var X=b;b=Z;try{return P.apply(this,arguments)}finally{b=X}}}})(wd)),wd}var Op;function ab(){return Op||(Op=1,yd.exports=ib()),yd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function ob(){if(Dp)return nn;Dp=1;var e=_h(),t=ab();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function b(n){return f.call(w,n)?!0:f.call(g,n)?!1:m.test(n)?w[n]=!0:(g[n]=!0,!1)}function y(n,s,o,h){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function S(n,s,o,h){if(s===null||typeof s>"u"||y(n,s,o,h))return!0;if(h)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(n,s,o,h,p,v,A){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=v,this.removeEmptyString=A}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];E[s]=new _(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(C,j);E[s]=new _(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(C,j);E[s]=new _(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(C,j);E[s]=new _(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function T(n,s,o,h){var p=E.hasOwnProperty(s)?E[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,o,p,h)&&(o=null),h||p===null?b(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):p.mustUseProperty?n[p.propertyName]=o===null?p.type===3?!1:"":o:(s=p.attributeName,h=p.attributeNamespace,o===null?n.removeAttribute(s):(p=p.type,o=p===3||p===4&&o===!0?"":""+o,h?n.setAttributeNS(h,s,o):n.setAttribute(s,o))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),$=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ae=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),P=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var X=Object.assign,R;function H(n){if(R===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+n}var ne=!1;function ce(n,s){if(!n||ne)return"";ne=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var h=Y}Reflect.construct(n,[],s)}else{try{s.call()}catch(Y){h=Y}n.call(s.prototype)}else{try{throw Error()}catch(Y){h=Y}n()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),v=h.stack.split(`
`),A=p.length-1,O=v.length-1;1<=A&&0<=O&&p[A]!==v[O];)O--;for(;1<=A&&0<=O;A--,O--)if(p[A]!==v[O]){if(A!==1||O!==1)do if(A--,O--,0>O||p[A]!==v[O]){var M=`
`+p[A].replace(" at new "," at ");return n.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",n.displayName)),M}while(1<=A&&0<=O);break}}}finally{ne=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?H(n):""}function ge(n){switch(n.tag){case 5:return H(n.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return n=ce(n.type,!1),n;case 11:return n=ce(n.type.render,!1),n;case 1:return n=ce(n.type,!0),n;default:return""}}function _e(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case $:return"Portal";case W:return"Profiler";case z:return"StrictMode";case fe:return"Suspense";case le:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ae:return(n.displayName||"Context")+".Consumer";case J:return(n._context.displayName||"Context")+".Provider";case de:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case te:return s=n.displayName||null,s!==null?s:_e(n.type)||"Memo";case Q:s=n._payload,n=n._init;try{return _e(n(s))}catch{}}return null}function ee(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ye(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ce(n){var s=ye(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,v=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(A){h=""+A,v.call(this,A)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function F(n){n._valueTracker||(n._valueTracker=Ce(n))}function I(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),h="";return n&&(h=ye(n)?n.checked?"true":"false":n.value),n=h,n!==o?(s.setValue(n),!0):!1}function re(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ve(n,s){var o=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function Ze(n,s){var o=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;o=me(s.value!=null?s.value:o),n._wrapperState={initialChecked:h,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ht(n,s){s=s.checked,s!=null&&T(n,"checked",s,!1)}function jt(n,s){ht(n,s);var o=me(s.value),h=s.type;if(o!=null)h==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?sn(n,s.type,o):s.hasOwnProperty("defaultValue")&&sn(n,s.type,me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Bn(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function sn(n,s,o){(s!=="number"||re(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var vs=Array.isArray;function Nr(n,s,o,h){if(n=n.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=s.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&h&&(n[o].defaultSelected=!0)}else{for(o=""+me(o),s=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,h&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function na(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ao(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(r(92));if(vs(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:me(o)}}function Wn(n,s){var o=me(s.value),h=me(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),h!=null&&(n.defaultValue=""+h)}function kr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function ra(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ys(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?ra(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Yt,vn=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,h,p){MSApp.execUnsafeLocalFunction(function(){return n(s,o,h,p)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Yt=Yt||document.createElement("div"),Yt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Yt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Cr(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sa=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(n){sa.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ws[s]=ws[n]})});function Eo(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||ws.hasOwnProperty(n)&&ws[n]?(""+s).trim():s+"px"}function yn(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var h=o.indexOf("--")===0,p=Eo(o,s[o],h);o==="float"&&(o="cssFloat"),h?n.setProperty(o,p):n[o]=p}}var jo=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xs(n,s){if(s){if(jo[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Zs(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function ei(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Rr=null,or=null,Hn=null;function No(n){if(n=Na(n)){if(typeof Rr!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Vo(s),Rr(n.stateNode,n.type,s))}}function aa(n){or?Hn?Hn.push(n):Hn=[n]:or=n}function ko(){if(or){var n=or,s=Hn;if(Hn=or=null,No(n),s)for(n=0;n<s.length;n++)No(s[n])}}function oa(n,s){return n(s)}function xs(){}var Pr=!1;function la(n,s,o){if(Pr)return n(s,o);Pr=!0;try{return oa(n,s,o)}finally{Pr=!1,(or!==null||Hn!==null)&&(xs(),ko())}}function bs(n,s){var o=n.stateNode;if(o===null)return null;var h=Vo(o);if(h===null)return null;o=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ca=!1;if(d)try{var D={};Object.defineProperty(D,"passive",{get:function(){ca=!0}}),window.addEventListener("test",D,D),window.removeEventListener("test",D,D)}catch{ca=!1}function B(n,s,o,h,p,v,A,O,M){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(o,Y)}catch(oe){this.onError(oe)}}var G=!1,ie=null,pe=!1,Pe=null,Ie={onError:function(n){G=!0,ie=n}};function we(n,s,o,h,p,v,A,O,M){G=!1,ie=null,B.apply(Ie,arguments)}function Se(n,s,o,h,p,v,A,O,M){if(we.apply(this,arguments),G){if(G){var Y=ie;G=!1,ie=null}else throw Error(r(198));pe||(pe=!0,Pe=Y)}}function Ne(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function ze(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Oe(n){if(Ne(n)!==n)throw Error(r(188))}function He(n){var s=n.alternate;if(!s){if(s=Ne(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,h=s;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){o=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return Oe(p),n;if(v===h)return Oe(p),s;v=v.sibling}throw Error(r(188))}if(o.return!==h.return)o=p,h=v;else{for(var A=!1,O=p.child;O;){if(O===o){A=!0,o=p,h=v;break}if(O===h){A=!0,h=p,o=v;break}O=O.sibling}if(!A){for(O=v.child;O;){if(O===o){A=!0,o=v,h=p;break}if(O===h){A=!0,h=v,o=p;break}O=O.sibling}if(!A)throw Error(r(189))}}if(o.alternate!==h)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function Ye(n){return n=He(n),n!==null?St(n):null}function St(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=St(n);if(s!==null)return s;n=n.sibling}return null}var wt=t.unstable_scheduleCallback,Pt=t.unstable_cancelCallback,et=t.unstable_shouldYield,Jt=t.unstable_requestPaint,tt=t.unstable_now,_s=t.unstable_getCurrentPriorityLevel,wn=t.unstable_ImmediatePriority,an=t.unstable_UserBlockingPriority,Tr=t.unstable_NormalPriority,Ss=t.unstable_LowPriority,Vn=t.unstable_IdlePriority,lr=null,Ht=null;function Je(n){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(lr,n,void 0,(n.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:ft,Or=Math.log,cr=Math.LN2;function ft(n){return n>>>=0,n===0?32:31-(Or(n)/cr|0)|0}var ur=64,As=4194304;function Es(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Co(n,s){var o=n.pendingLanes;if(o===0)return 0;var h=0,p=n.suspendedLanes,v=n.pingedLanes,A=o&268435455;if(A!==0){var O=A&~p;O!==0?h=Es(O):(v&=A,v!==0&&(h=Es(v)))}else A=o&~p,A!==0?h=Es(A):v!==0&&(h=Es(v));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if((h&4)!==0&&(h|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)o=31-rt(s),p=1<<o,h|=n[o],s&=~p;return h}function bw(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _w(n,s){for(var o=n.suspendedLanes,h=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes;0<v;){var A=31-rt(v),O=1<<A,M=p[A];M===-1?((O&o)===0||(O&h)!==0)&&(p[A]=bw(O,s)):M<=s&&(n.expiredLanes|=O),v&=~O}}function Lc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function sf(){var n=ur;return ur<<=1,(ur&4194240)===0&&(ur=64),n}function Mc(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function ua(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-rt(s),n[s]=o}function Sw(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<o;){var p=31-rt(o),v=1<<p;s[p]=0,h[p]=-1,n[p]=-1,o&=~v}}function Fc(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var h=31-rt(o),p=1<<h;p&s|n[h]&s&&(n[h]|=s),o&=~p}}var nt=0;function af(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var of,$c,lf,cf,uf,Uc=!1,Ro=[],Dr=null,Ir=null,Lr=null,da=new Map,ha=new Map,Mr=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function df(n,s){switch(n){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":da.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(s.pointerId)}}function fa(n,s,o,h,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:s,domEventName:o,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},s!==null&&(s=Na(s),s!==null&&$c(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function Ew(n,s,o,h,p){switch(s){case"focusin":return Dr=fa(Dr,n,s,o,h,p),!0;case"dragenter":return Ir=fa(Ir,n,s,o,h,p),!0;case"mouseover":return Lr=fa(Lr,n,s,o,h,p),!0;case"pointerover":var v=p.pointerId;return da.set(v,fa(da.get(v)||null,n,s,o,h,p)),!0;case"gotpointercapture":return v=p.pointerId,ha.set(v,fa(ha.get(v)||null,n,s,o,h,p)),!0}return!1}function hf(n){var s=js(n.target);if(s!==null){var o=Ne(s);if(o!==null){if(s=o.tag,s===13){if(s=ze(o),s!==null){n.blockedOn=s,uf(n.priority,function(){lf(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Po(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Bc(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var h=new o.constructor(o.type,o);ia=h,o.target.dispatchEvent(h),ia=null}else return s=Na(o),s!==null&&$c(s),n.blockedOn=o,!1;s.shift()}return!0}function ff(n,s,o){Po(n)&&o.delete(s)}function jw(){Uc=!1,Dr!==null&&Po(Dr)&&(Dr=null),Ir!==null&&Po(Ir)&&(Ir=null),Lr!==null&&Po(Lr)&&(Lr=null),da.forEach(ff),ha.forEach(ff)}function ma(n,s){n.blockedOn===s&&(n.blockedOn=null,Uc||(Uc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jw)))}function pa(n){function s(p){return ma(p,n)}if(0<Ro.length){ma(Ro[0],n);for(var o=1;o<Ro.length;o++){var h=Ro[o];h.blockedOn===n&&(h.blockedOn=null)}}for(Dr!==null&&ma(Dr,n),Ir!==null&&ma(Ir,n),Lr!==null&&ma(Lr,n),da.forEach(s),ha.forEach(s),o=0;o<Mr.length;o++)h=Mr[o],h.blockedOn===n&&(h.blockedOn=null);for(;0<Mr.length&&(o=Mr[0],o.blockedOn===null);)hf(o),o.blockedOn===null&&Mr.shift()}var ti=L.ReactCurrentBatchConfig,To=!0;function Nw(n,s,o,h){var p=nt,v=ti.transition;ti.transition=null;try{nt=1,zc(n,s,o,h)}finally{nt=p,ti.transition=v}}function kw(n,s,o,h){var p=nt,v=ti.transition;ti.transition=null;try{nt=4,zc(n,s,o,h)}finally{nt=p,ti.transition=v}}function zc(n,s,o,h){if(To){var p=Bc(n,s,o,h);if(p===null)iu(n,s,h,Oo,o),df(n,h);else if(Ew(p,n,s,o,h))h.stopPropagation();else if(df(n,h),s&4&&-1<Aw.indexOf(n)){for(;p!==null;){var v=Na(p);if(v!==null&&of(v),v=Bc(n,s,o,h),v===null&&iu(n,s,h,Oo,o),v===p)break;p=v}p!==null&&h.stopPropagation()}else iu(n,s,h,null,o)}}var Oo=null;function Bc(n,s,o,h){if(Oo=null,n=ei(h),n=js(n),n!==null)if(s=Ne(n),s===null)n=null;else if(o=s.tag,o===13){if(n=ze(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Oo=n,null}function mf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_s()){case wn:return 1;case an:return 4;case Tr:case Ss:return 16;case Vn:return 536870912;default:return 16}default:return 16}}var Fr=null,Wc=null,Do=null;function pf(){if(Do)return Do;var n,s=Wc,o=s.length,h,p="value"in Fr?Fr.value:Fr.textContent,v=p.length;for(n=0;n<o&&s[n]===p[n];n++);var A=o-n;for(h=1;h<=A&&s[o-h]===p[v-h];h++);return Do=p.slice(n,1<h?1-h:void 0)}function Io(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Lo(){return!0}function gf(){return!1}function on(n){function s(o,h,p,v,A){this._reactName=o,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var O in n)n.hasOwnProperty(O)&&(o=n[O],this[O]=o?o(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Lo:gf,this.isPropagationStopped=gf,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),s}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=on(ni),ga=X({},ni,{view:0,detail:0}),Cw=on(ga),Vc,qc,va,Mo=X({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==va&&(va&&n.type==="mousemove"?(Vc=n.screenX-va.screenX,qc=n.screenY-va.screenY):qc=Vc=0,va=n),Vc)},movementY:function(n){return"movementY"in n?n.movementY:qc}}),vf=on(Mo),Rw=X({},Mo,{dataTransfer:0}),Pw=on(Rw),Tw=X({},ga,{relatedTarget:0}),Kc=on(Tw),Ow=X({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Dw=on(Ow),Iw=X({},ni,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Lw=on(Iw),Mw=X({},ni,{data:0}),yf=on(Mw),Fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$w={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Uw[n])?!!s[n]:!1}function Gc(){return zw}var Bw=X({},ga,{key:function(n){if(n.key){var s=Fw[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Io(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$w[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(n){return n.type==="keypress"?Io(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Io(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ww=on(Bw),Hw=X({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=on(Hw),Vw=X({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),qw=on(Vw),Kw=X({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gw=on(Kw),Yw=X({},Mo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=on(Yw),Qw=[9,13,27,32],Yc=d&&"CompositionEvent"in window,ya=null;d&&"documentMode"in document&&(ya=document.documentMode);var Xw=d&&"TextEvent"in window&&!ya,xf=d&&(!Yc||ya&&8<ya&&11>=ya),bf=" ",_f=!1;function Sf(n,s){switch(n){case"keyup":return Qw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ri=!1;function Zw(n,s){switch(n){case"compositionend":return Af(s);case"keypress":return s.which!==32?null:(_f=!0,bf);case"textInput":return n=s.data,n===bf&&_f?null:n;default:return null}}function ex(n,s){if(ri)return n==="compositionend"||!Yc&&Sf(n,s)?(n=pf(),Do=Wc=Fr=null,ri=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xf&&s.locale!=="ko"?null:s.data;default:return null}}var tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!tx[n.type]:s==="textarea"}function jf(n,s,o,h){aa(h),s=Bo(s,"onChange"),0<s.length&&(o=new Hc("onChange","change",null,o,h),n.push({event:o,listeners:s}))}var wa=null,xa=null;function nx(n){Hf(n,0)}function Fo(n){var s=li(n);if(I(s))return n}function rx(n,s){if(n==="change")return s}var Nf=!1;if(d){var Jc;if(d){var Qc="oninput"in document;if(!Qc){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),Qc=typeof kf.oninput=="function"}Jc=Qc}else Jc=!1;Nf=Jc&&(!document.documentMode||9<document.documentMode)}function Cf(){wa&&(wa.detachEvent("onpropertychange",Rf),xa=wa=null)}function Rf(n){if(n.propertyName==="value"&&Fo(xa)){var s=[];jf(s,xa,n,ei(n)),la(nx,s)}}function sx(n,s,o){n==="focusin"?(Cf(),wa=s,xa=o,wa.attachEvent("onpropertychange",Rf)):n==="focusout"&&Cf()}function ix(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fo(xa)}function ax(n,s){if(n==="click")return Fo(s)}function ox(n,s){if(n==="input"||n==="change")return Fo(s)}function lx(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var kn=typeof Object.is=="function"?Object.is:lx;function ba(n,s){if(kn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),h=Object.keys(s);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var p=o[h];if(!f.call(s,p)||!kn(n[p],s[p]))return!1}return!0}function Pf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tf(n,s){var o=Pf(n);n=0;for(var h;o;){if(o.nodeType===3){if(h=n+o.textContent.length,n<=s&&h>=s)return{node:o,offset:s-n};n=h}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Pf(o)}}function Of(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Of(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Df(){for(var n=window,s=re();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=re(n.document)}return s}function Xc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function cx(n){var s=Df(),o=n.focusedElem,h=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&Of(o.ownerDocument.documentElement,o)){if(h!==null&&Xc(o)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var p=o.textContent.length,v=Math.min(h.start,p);h=h.end===void 0?v:Math.min(h.end,p),!n.extend&&v>h&&(p=h,h=v,v=p),p=Tf(o,v);var A=Tf(o,h);p&&A&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==A.node||n.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),n.removeAllRanges(),v>h?(n.addRange(s),n.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ux=d&&"documentMode"in document&&11>=document.documentMode,si=null,Zc=null,_a=null,eu=!1;function If(n,s,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;eu||si==null||si!==re(h)||(h=si,"selectionStart"in h&&Xc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_a&&ba(_a,h)||(_a=h,h=Bo(Zc,"onSelect"),0<h.length&&(s=new Hc("onSelect","select",null,s,o),n.push({event:s,listeners:h}),s.target=si)))}function $o(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var ii={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionend:$o("Transition","TransitionEnd")},tu={},Lf={};d&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Uo(n){if(tu[n])return tu[n];if(!ii[n])return n;var s=ii[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Lf)return tu[n]=s[o];return n}var Mf=Uo("animationend"),Ff=Uo("animationiteration"),$f=Uo("animationstart"),Uf=Uo("transitionend"),zf=new Map,Bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(n,s){zf.set(n,s),l(s,[n])}for(var nu=0;nu<Bf.length;nu++){var ru=Bf[nu],dx=ru.toLowerCase(),hx=ru[0].toUpperCase()+ru.slice(1);$r(dx,"on"+hx)}$r(Mf,"onAnimationEnd"),$r(Ff,"onAnimationIteration"),$r($f,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(Uf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Wf(n,s,o){var h=n.type||"unknown-event";n.currentTarget=o,Se(h,s,void 0,n),n.currentTarget=null}function Hf(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var h=n[o],p=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var A=h.length-1;0<=A;A--){var O=h[A],M=O.instance,Y=O.currentTarget;if(O=O.listener,M!==v&&p.isPropagationStopped())break e;Wf(p,O,Y),v=M}else for(A=0;A<h.length;A++){if(O=h[A],M=O.instance,Y=O.currentTarget,O=O.listener,M!==v&&p.isPropagationStopped())break e;Wf(p,O,Y),v=M}}}if(pe)throw n=Pe,pe=!1,Pe=null,n}function ct(n,s){var o=s[du];o===void 0&&(o=s[du]=new Set);var h=n+"__bubble";o.has(h)||(Vf(s,n,2,!1),o.add(h))}function su(n,s,o){var h=0;s&&(h|=4),Vf(o,n,h,s)}var zo="_reactListening"+Math.random().toString(36).slice(2);function Aa(n){if(!n[zo]){n[zo]=!0,i.forEach(function(o){o!=="selectionchange"&&(fx.has(o)||su(o,!1,n),su(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[zo]||(s[zo]=!0,su("selectionchange",!1,s))}}function Vf(n,s,o,h){switch(mf(s)){case 1:var p=Nw;break;case 4:p=kw;break;default:p=zc}o=p.bind(null,s,o,n),p=void 0,!ca||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?n.addEventListener(s,o,{capture:!0,passive:p}):n.addEventListener(s,o,!0):p!==void 0?n.addEventListener(s,o,{passive:p}):n.addEventListener(s,o,!1)}function iu(n,s,o,h,p){var v=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var O=h.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(A===4)for(A=h.return;A!==null;){var M=A.tag;if((M===3||M===4)&&(M=A.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;A=A.return}for(;O!==null;){if(A=js(O),A===null)return;if(M=A.tag,M===5||M===6){h=v=A;continue e}O=O.parentNode}}h=h.return}la(function(){var Y=v,oe=ei(o),ue=[];e:{var se=zf.get(n);if(se!==void 0){var ve=Hc,Ae=n;switch(n){case"keypress":if(Io(o)===0)break e;case"keydown":case"keyup":ve=Ww;break;case"focusin":Ae="focus",ve=Kc;break;case"focusout":Ae="blur",ve=Kc;break;case"beforeblur":case"afterblur":ve=Kc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=qw;break;case Mf:case Ff:case $f:ve=Dw;break;case Uf:ve=Gw;break;case"scroll":ve=Cw;break;case"wheel":ve=Jw;break;case"copy":case"cut":case"paste":ve=Lw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=wf}var ke=(s&4)!==0,xt=!ke&&n==="scroll",q=ke?se!==null?se+"Capture":null:se;ke=[];for(var U=Y,K;U!==null;){K=U;var he=K.stateNode;if(K.tag===5&&he!==null&&(K=he,q!==null&&(he=bs(U,q),he!=null&&ke.push(Ea(U,he,K)))),xt)break;U=U.return}0<ke.length&&(se=new ve(se,Ae,null,o,oe),ue.push({event:se,listeners:ke}))}}if((s&7)===0){e:{if(se=n==="mouseover"||n==="pointerover",ve=n==="mouseout"||n==="pointerout",se&&o!==ia&&(Ae=o.relatedTarget||o.fromElement)&&(js(Ae)||Ae[dr]))break e;if((ve||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ve?(Ae=o.relatedTarget||o.toElement,ve=Y,Ae=Ae?js(Ae):null,Ae!==null&&(xt=Ne(Ae),Ae!==xt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(ve=null,Ae=Y),ve!==Ae)){if(ke=vf,he="onMouseLeave",q="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(ke=wf,he="onPointerLeave",q="onPointerEnter",U="pointer"),xt=ve==null?se:li(ve),K=Ae==null?se:li(Ae),se=new ke(he,U+"leave",ve,o,oe),se.target=xt,se.relatedTarget=K,he=null,js(oe)===Y&&(ke=new ke(q,U+"enter",Ae,o,oe),ke.target=K,ke.relatedTarget=xt,he=ke),xt=he,ve&&Ae)t:{for(ke=ve,q=Ae,U=0,K=ke;K;K=ai(K))U++;for(K=0,he=q;he;he=ai(he))K++;for(;0<U-K;)ke=ai(ke),U--;for(;0<K-U;)q=ai(q),K--;for(;U--;){if(ke===q||q!==null&&ke===q.alternate)break t;ke=ai(ke),q=ai(q)}ke=null}else ke=null;ve!==null&&qf(ue,se,ve,ke,!1),Ae!==null&&xt!==null&&qf(ue,xt,Ae,ke,!0)}}e:{if(se=Y?li(Y):window,ve=se.nodeName&&se.nodeName.toLowerCase(),ve==="select"||ve==="input"&&se.type==="file")var Te=rx;else if(Ef(se))if(Nf)Te=ox;else{Te=ix;var Le=sx}else(ve=se.nodeName)&&ve.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=ax);if(Te&&(Te=Te(n,Y))){jf(ue,Te,o,oe);break e}Le&&Le(n,se,Y),n==="focusout"&&(Le=se._wrapperState)&&Le.controlled&&se.type==="number"&&sn(se,"number",se.value)}switch(Le=Y?li(Y):window,n){case"focusin":(Ef(Le)||Le.contentEditable==="true")&&(si=Le,Zc=Y,_a=null);break;case"focusout":_a=Zc=si=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,If(ue,o,oe);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":If(ue,o,oe)}var Me;if(Yc)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ri?Sf(n,o)&&(Ue="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ue="onCompositionStart");Ue&&(xf&&o.locale!=="ko"&&(ri||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ri&&(Me=pf()):(Fr=oe,Wc="value"in Fr?Fr.value:Fr.textContent,ri=!0)),Le=Bo(Y,Ue),0<Le.length&&(Ue=new yf(Ue,n,null,o,oe),ue.push({event:Ue,listeners:Le}),Me?Ue.data=Me:(Me=Af(o),Me!==null&&(Ue.data=Me)))),(Me=Xw?Zw(n,o):ex(n,o))&&(Y=Bo(Y,"onBeforeInput"),0<Y.length&&(oe=new yf("onBeforeInput","beforeinput",null,o,oe),ue.push({event:oe,listeners:Y}),oe.data=Me))}Hf(ue,s)})}function Ea(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Bo(n,s){for(var o=s+"Capture",h=[];n!==null;){var p=n,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=bs(n,o),v!=null&&h.unshift(Ea(n,v,p)),v=bs(n,s),v!=null&&h.push(Ea(n,v,p))),n=n.return}return h}function ai(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function qf(n,s,o,h,p){for(var v=s._reactName,A=[];o!==null&&o!==h;){var O=o,M=O.alternate,Y=O.stateNode;if(M!==null&&M===h)break;O.tag===5&&Y!==null&&(O=Y,p?(M=bs(o,v),M!=null&&A.unshift(Ea(o,M,O))):p||(M=bs(o,v),M!=null&&A.push(Ea(o,M,O)))),o=o.return}A.length!==0&&n.push({event:s,listeners:A})}var mx=/\r\n?/g,px=/\u0000|\uFFFD/g;function Kf(n){return(typeof n=="string"?n:""+n).replace(mx,`
`).replace(px,"")}function Wo(n,s,o){if(s=Kf(s),Kf(n)!==s&&o)throw Error(r(425))}function Ho(){}var au=null,ou=null;function lu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,gx=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(n){return Gf.resolve(null).then(n).catch(yx)}:cu;function yx(n){setTimeout(function(){throw n})}function uu(n,s){var o=s,h=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(h===0){n.removeChild(p),pa(s);return}h--}else o!=="$"&&o!=="$?"&&o!=="$!"||h++;o=p}while(o);pa(s)}function Ur(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Yf(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var oi=Math.random().toString(36).slice(2),qn="__reactFiber$"+oi,ja="__reactProps$"+oi,dr="__reactContainer$"+oi,du="__reactEvents$"+oi,wx="__reactListeners$"+oi,xx="__reactHandles$"+oi;function js(n){var s=n[qn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[dr]||o[qn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Yf(n);n!==null;){if(o=n[qn])return o;n=Yf(n)}return s}n=o,o=n.parentNode}return null}function Na(n){return n=n[qn]||n[dr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function li(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Vo(n){return n[ja]||null}var hu=[],ci=-1;function zr(n){return{current:n}}function ut(n){0>ci||(n.current=hu[ci],hu[ci]=null,ci--)}function st(n,s){ci++,hu[ci]=n.current,n.current=s}var Br={},$t=zr(Br),Qt=zr(!1),Ns=Br;function ui(n,s){var o=n.type.contextTypes;if(!o)return Br;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in o)p[v]=s[v];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=p),p}function Xt(n){return n=n.childContextTypes,n!=null}function qo(){ut(Qt),ut($t)}function Jf(n,s,o){if($t.current!==Br)throw Error(r(168));st($t,s),st(Qt,o)}function Qf(n,s,o){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return o;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(r(108,ee(n)||"Unknown",p));return X({},o,h)}function Ko(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Br,Ns=$t.current,st($t,n),st(Qt,Qt.current),!0}function Xf(n,s,o){var h=n.stateNode;if(!h)throw Error(r(169));o?(n=Qf(n,s,Ns),h.__reactInternalMemoizedMergedChildContext=n,ut(Qt),ut($t),st($t,n)):ut(Qt),st(Qt,o)}var hr=null,Go=!1,fu=!1;function Zf(n){hr===null?hr=[n]:hr.push(n)}function bx(n){Go=!0,Zf(n)}function Wr(){if(!fu&&hr!==null){fu=!0;var n=0,s=nt;try{var o=hr;for(nt=1;n<o.length;n++){var h=o[n];do h=h(!0);while(h!==null)}hr=null,Go=!1}catch(p){throw hr!==null&&(hr=hr.slice(n+1)),wt(wn,Wr),p}finally{nt=s,fu=!1}}return null}var di=[],hi=0,Yo=null,Jo=0,xn=[],bn=0,ks=null,fr=1,mr="";function Cs(n,s){di[hi++]=Jo,di[hi++]=Yo,Yo=n,Jo=s}function em(n,s,o){xn[bn++]=fr,xn[bn++]=mr,xn[bn++]=ks,ks=n;var h=fr;n=mr;var p=32-rt(h)-1;h&=~(1<<p),o+=1;var v=32-rt(s)+p;if(30<v){var A=p-p%5;v=(h&(1<<A)-1).toString(32),h>>=A,p-=A,fr=1<<32-rt(s)+p|o<<p|h,mr=v+n}else fr=1<<v|o<<p|h,mr=n}function mu(n){n.return!==null&&(Cs(n,1),em(n,1,0))}function pu(n){for(;n===Yo;)Yo=di[--hi],di[hi]=null,Jo=di[--hi],di[hi]=null;for(;n===ks;)ks=xn[--bn],xn[bn]=null,mr=xn[--bn],xn[bn]=null,fr=xn[--bn],xn[bn]=null}var ln=null,cn=null,mt=!1,Cn=null;function tm(n,s){var o=En(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function nm(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,ln=n,cn=Ur(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,ln=n,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=ks!==null?{id:fr,overflow:mr}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=En(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,ln=n,cn=null,!0):!1;default:return!1}}function gu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function vu(n){if(mt){var s=cn;if(s){var o=s;if(!nm(n,s)){if(gu(n))throw Error(r(418));s=Ur(o.nextSibling);var h=ln;s&&nm(n,s)?tm(h,o):(n.flags=n.flags&-4097|2,mt=!1,ln=n)}}else{if(gu(n))throw Error(r(418));n.flags=n.flags&-4097|2,mt=!1,ln=n}}}function rm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ln=n}function Qo(n){if(n!==ln)return!1;if(!mt)return rm(n),mt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!lu(n.type,n.memoizedProps)),s&&(s=cn)){if(gu(n))throw sm(),Error(r(418));for(;s;)tm(n,s),s=Ur(s.nextSibling)}if(rm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){cn=Ur(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}cn=null}}else cn=ln?Ur(n.stateNode.nextSibling):null;return!0}function sm(){for(var n=cn;n;)n=Ur(n.nextSibling)}function fi(){cn=ln=null,mt=!1}function yu(n){Cn===null?Cn=[n]:Cn.push(n)}var _x=L.ReactCurrentBatchConfig;function ka(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var h=o.stateNode}if(!h)throw Error(r(147,n));var p=h,v=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(A){var O=p.refs;A===null?delete O[v]:O[v]=A},s._stringRef=v,s)}if(typeof n!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,n))}return n}function Xo(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function im(n){var s=n._init;return s(n._payload)}function am(n){function s(q,U){if(n){var K=q.deletions;K===null?(q.deletions=[U],q.flags|=16):K.push(U)}}function o(q,U){if(!n)return null;for(;U!==null;)s(q,U),U=U.sibling;return null}function h(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function p(q,U){return q=Qr(q,U),q.index=0,q.sibling=null,q}function v(q,U,K){return q.index=K,n?(K=q.alternate,K!==null?(K=K.index,K<U?(q.flags|=2,U):K):(q.flags|=2,U)):(q.flags|=1048576,U)}function A(q){return n&&q.alternate===null&&(q.flags|=2),q}function O(q,U,K,he){return U===null||U.tag!==6?(U=cd(K,q.mode,he),U.return=q,U):(U=p(U,K),U.return=q,U)}function M(q,U,K,he){var Te=K.type;return Te===k?oe(q,U,K.props.children,he,K.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Q&&im(Te)===U.type)?(he=p(U,K.props),he.ref=ka(q,U,K),he.return=q,he):(he=_l(K.type,K.key,K.props,null,q.mode,he),he.ref=ka(q,U,K),he.return=q,he)}function Y(q,U,K,he){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=ud(K,q.mode,he),U.return=q,U):(U=p(U,K.children||[]),U.return=q,U)}function oe(q,U,K,he,Te){return U===null||U.tag!==7?(U=Ms(K,q.mode,he,Te),U.return=q,U):(U=p(U,K),U.return=q,U)}function ue(q,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=cd(""+U,q.mode,K),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return K=_l(U.type,U.key,U.props,null,q.mode,K),K.ref=ka(q,null,U),K.return=q,K;case $:return U=ud(U,q.mode,K),U.return=q,U;case Q:var he=U._init;return ue(q,he(U._payload),K)}if(vs(U)||Z(U))return U=Ms(U,q.mode,K,null),U.return=q,U;Xo(q,U)}return null}function se(q,U,K,he){var Te=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Te!==null?null:O(q,U,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return K.key===Te?M(q,U,K,he):null;case $:return K.key===Te?Y(q,U,K,he):null;case Q:return Te=K._init,se(q,U,Te(K._payload),he)}if(vs(K)||Z(K))return Te!==null?null:oe(q,U,K,he,null);Xo(q,K)}return null}function ve(q,U,K,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number")return q=q.get(K)||null,O(U,q,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case N:return q=q.get(he.key===null?K:he.key)||null,M(U,q,he,Te);case $:return q=q.get(he.key===null?K:he.key)||null,Y(U,q,he,Te);case Q:var Le=he._init;return ve(q,U,K,Le(he._payload),Te)}if(vs(he)||Z(he))return q=q.get(K)||null,oe(U,q,he,Te,null);Xo(U,he)}return null}function Ae(q,U,K,he){for(var Te=null,Le=null,Me=U,Ue=U=0,Dt=null;Me!==null&&Ue<K.length;Ue++){Me.index>Ue?(Dt=Me,Me=null):Dt=Me.sibling;var Xe=se(q,Me,K[Ue],he);if(Xe===null){Me===null&&(Me=Dt);break}n&&Me&&Xe.alternate===null&&s(q,Me),U=v(Xe,U,Ue),Le===null?Te=Xe:Le.sibling=Xe,Le=Xe,Me=Dt}if(Ue===K.length)return o(q,Me),mt&&Cs(q,Ue),Te;if(Me===null){for(;Ue<K.length;Ue++)Me=ue(q,K[Ue],he),Me!==null&&(U=v(Me,U,Ue),Le===null?Te=Me:Le.sibling=Me,Le=Me);return mt&&Cs(q,Ue),Te}for(Me=h(q,Me);Ue<K.length;Ue++)Dt=ve(Me,q,Ue,K[Ue],he),Dt!==null&&(n&&Dt.alternate!==null&&Me.delete(Dt.key===null?Ue:Dt.key),U=v(Dt,U,Ue),Le===null?Te=Dt:Le.sibling=Dt,Le=Dt);return n&&Me.forEach(function(Xr){return s(q,Xr)}),mt&&Cs(q,Ue),Te}function ke(q,U,K,he){var Te=Z(K);if(typeof Te!="function")throw Error(r(150));if(K=Te.call(K),K==null)throw Error(r(151));for(var Le=Te=null,Me=U,Ue=U=0,Dt=null,Xe=K.next();Me!==null&&!Xe.done;Ue++,Xe=K.next()){Me.index>Ue?(Dt=Me,Me=null):Dt=Me.sibling;var Xr=se(q,Me,Xe.value,he);if(Xr===null){Me===null&&(Me=Dt);break}n&&Me&&Xr.alternate===null&&s(q,Me),U=v(Xr,U,Ue),Le===null?Te=Xr:Le.sibling=Xr,Le=Xr,Me=Dt}if(Xe.done)return o(q,Me),mt&&Cs(q,Ue),Te;if(Me===null){for(;!Xe.done;Ue++,Xe=K.next())Xe=ue(q,Xe.value,he),Xe!==null&&(U=v(Xe,U,Ue),Le===null?Te=Xe:Le.sibling=Xe,Le=Xe);return mt&&Cs(q,Ue),Te}for(Me=h(q,Me);!Xe.done;Ue++,Xe=K.next())Xe=ve(Me,q,Ue,Xe.value,he),Xe!==null&&(n&&Xe.alternate!==null&&Me.delete(Xe.key===null?Ue:Xe.key),U=v(Xe,U,Ue),Le===null?Te=Xe:Le.sibling=Xe,Le=Xe);return n&&Me.forEach(function(tb){return s(q,tb)}),mt&&Cs(q,Ue),Te}function xt(q,U,K,he){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case N:e:{for(var Te=K.key,Le=U;Le!==null;){if(Le.key===Te){if(Te=K.type,Te===k){if(Le.tag===7){o(q,Le.sibling),U=p(Le,K.props.children),U.return=q,q=U;break e}}else if(Le.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Q&&im(Te)===Le.type){o(q,Le.sibling),U=p(Le,K.props),U.ref=ka(q,Le,K),U.return=q,q=U;break e}o(q,Le);break}else s(q,Le);Le=Le.sibling}K.type===k?(U=Ms(K.props.children,q.mode,he,K.key),U.return=q,q=U):(he=_l(K.type,K.key,K.props,null,q.mode,he),he.ref=ka(q,U,K),he.return=q,q=he)}return A(q);case $:e:{for(Le=K.key;U!==null;){if(U.key===Le)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){o(q,U.sibling),U=p(U,K.children||[]),U.return=q,q=U;break e}else{o(q,U);break}else s(q,U);U=U.sibling}U=ud(K,q.mode,he),U.return=q,q=U}return A(q);case Q:return Le=K._init,xt(q,U,Le(K._payload),he)}if(vs(K))return Ae(q,U,K,he);if(Z(K))return ke(q,U,K,he);Xo(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(o(q,U.sibling),U=p(U,K),U.return=q,q=U):(o(q,U),U=cd(K,q.mode,he),U.return=q,q=U),A(q)):o(q,U)}return xt}var mi=am(!0),om=am(!1),Zo=zr(null),el=null,pi=null,wu=null;function xu(){wu=pi=el=null}function bu(n){var s=Zo.current;ut(Zo),n._currentValue=s}function _u(n,s,o){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===o)break;n=n.return}}function gi(n,s){el=n,wu=pi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Zt=!0),n.firstContext=null)}function _n(n){var s=n._currentValue;if(wu!==n)if(n={context:n,memoizedValue:s,next:null},pi===null){if(el===null)throw Error(r(308));pi=n,el.dependencies={lanes:0,firstContext:n}}else pi=pi.next=n;return s}var Rs=null;function Su(n){Rs===null?Rs=[n]:Rs.push(n)}function lm(n,s,o,h){var p=s.interleaved;return p===null?(o.next=o,Su(s)):(o.next=p.next,p.next=o),s.interleaved=o,pr(n,h)}function pr(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Hr=!1;function Au(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function gr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Vr(n,s,o){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Qe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,pr(n,o)}return p=h.interleaved,p===null?(s.next=s,Su(h)):(s.next=p.next,p.next=s),h.interleaved=s,pr(n,o)}function tl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,o|=h,s.lanes=o,Fc(n,o)}}function um(n,s){var o=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var A={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?p=v=A:v=v.next=A,o=o.next}while(o!==null);v===null?p=v=s:v=v.next=s}else p=v=s;o={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,effects:h.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function nl(n,s,o,h){var p=n.updateQueue;Hr=!1;var v=p.firstBaseUpdate,A=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var M=O,Y=M.next;M.next=null,A===null?v=Y:A.next=Y,A=M;var oe=n.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==A&&(O===null?oe.firstBaseUpdate=Y:O.next=Y,oe.lastBaseUpdate=M))}if(v!==null){var ue=p.baseState;A=0,oe=Y=M=null,O=v;do{var se=O.lane,ve=O.eventTime;if((h&se)===se){oe!==null&&(oe=oe.next={eventTime:ve,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ae=n,ke=O;switch(se=s,ve=o,ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){ue=Ae.call(ve,ue,se);break e}ue=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,se=typeof Ae=="function"?Ae.call(ve,ue,se):Ae,se==null)break e;ue=X({},ue,se);break e;case 2:Hr=!0}}O.callback!==null&&O.lane!==0&&(n.flags|=64,se=p.effects,se===null?p.effects=[O]:se.push(O))}else ve={eventTime:ve,lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Y=oe=ve,M=ue):oe=oe.next=ve,A|=se;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;se=O,O=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);if(oe===null&&(M=ue),p.baseState=M,p.firstBaseUpdate=Y,p.lastBaseUpdate=oe,s=p.shared.interleaved,s!==null){p=s;do A|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);Os|=A,n.lanes=A,n.memoizedState=ue}}function dm(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],p=h.callback;if(p!==null){if(h.callback=null,h=o,typeof p!="function")throw Error(r(191,p));p.call(h)}}}var Ca={},Kn=zr(Ca),Ra=zr(Ca),Pa=zr(Ca);function Ps(n){if(n===Ca)throw Error(r(174));return n}function Eu(n,s){switch(st(Pa,s),st(Ra,n),st(Kn,Ca),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ys(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=ys(s,n)}ut(Kn),st(Kn,s)}function vi(){ut(Kn),ut(Ra),ut(Pa)}function hm(n){Ps(Pa.current);var s=Ps(Kn.current),o=ys(s,n.type);s!==o&&(st(Ra,n),st(Kn,o))}function ju(n){Ra.current===n&&(ut(Kn),ut(Ra))}var pt=zr(0);function rl(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nu=[];function ku(){for(var n=0;n<Nu.length;n++)Nu[n]._workInProgressVersionPrimary=null;Nu.length=0}var sl=L.ReactCurrentDispatcher,Cu=L.ReactCurrentBatchConfig,Ts=0,gt=null,Nt=null,Tt=null,il=!1,Ta=!1,Oa=0,Sx=0;function Ut(){throw Error(r(321))}function Ru(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!kn(n[o],s[o]))return!1;return!0}function Pu(n,s,o,h,p,v){if(Ts=v,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,sl.current=n===null||n.memoizedState===null?Nx:kx,n=o(h,p),Ta){v=0;do{if(Ta=!1,Oa=0,25<=v)throw Error(r(301));v+=1,Tt=Nt=null,s.updateQueue=null,sl.current=Cx,n=o(h,p)}while(Ta)}if(sl.current=ll,s=Nt!==null&&Nt.next!==null,Ts=0,Tt=Nt=gt=null,il=!1,s)throw Error(r(300));return n}function Tu(){var n=Oa!==0;return Oa=0,n}function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?gt.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function Sn(){if(Nt===null){var n=gt.alternate;n=n!==null?n.memoizedState:null}else n=Nt.next;var s=Tt===null?gt.memoizedState:Tt.next;if(s!==null)Tt=s,Nt=n;else{if(n===null)throw Error(r(310));Nt=n,n={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Tt===null?gt.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Da(n,s){return typeof s=="function"?s(n):s}function Ou(n){var s=Sn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var h=Nt,p=h.baseQueue,v=o.pending;if(v!==null){if(p!==null){var A=p.next;p.next=v.next,v.next=A}h.baseQueue=p=v,o.pending=null}if(p!==null){v=p.next,h=h.baseState;var O=A=null,M=null,Y=v;do{var oe=Y.lane;if((Ts&oe)===oe)M!==null&&(M=M.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:n(h,Y.action);else{var ue={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};M===null?(O=M=ue,A=h):M=M.next=ue,gt.lanes|=oe,Os|=oe}Y=Y.next}while(Y!==null&&Y!==v);M===null?A=h:M.next=O,kn(h,s.memoizedState)||(Zt=!0),s.memoizedState=h,s.baseState=A,s.baseQueue=M,o.lastRenderedState=h}if(n=o.interleaved,n!==null){p=n;do v=p.lane,gt.lanes|=v,Os|=v,p=p.next;while(p!==n)}else p===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Du(n){var s=Sn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var h=o.dispatch,p=o.pending,v=s.memoizedState;if(p!==null){o.pending=null;var A=p=p.next;do v=n(v,A.action),A=A.next;while(A!==p);kn(v,s.memoizedState)||(Zt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,h]}function fm(){}function mm(n,s){var o=gt,h=Sn(),p=s(),v=!kn(h.memoizedState,p);if(v&&(h.memoizedState=p,Zt=!0),h=h.queue,Iu(vm.bind(null,o,h,n),[n]),h.getSnapshot!==s||v||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,Ia(9,gm.bind(null,o,h,p,s),void 0,null),Ot===null)throw Error(r(349));(Ts&30)!==0||pm(o,s,p)}return p}function pm(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function gm(n,s,o,h){s.value=o,s.getSnapshot=h,ym(s)&&wm(n)}function vm(n,s,o){return o(function(){ym(s)&&wm(n)})}function ym(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!kn(n,o)}catch{return!0}}function wm(n){var s=pr(n,1);s!==null&&On(s,n,1,-1)}function xm(n){var s=Gn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:n},s.queue=n,n=n.dispatch=jx.bind(null,gt,n),[s.memoizedState,n]}function Ia(n,s,o,h){return n={tag:n,create:s,destroy:o,deps:h,next:null},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(h=o.next,o.next=n,n.next=h,s.lastEffect=n)),n}function bm(){return Sn().memoizedState}function al(n,s,o,h){var p=Gn();gt.flags|=n,p.memoizedState=Ia(1|s,o,void 0,h===void 0?null:h)}function ol(n,s,o,h){var p=Sn();h=h===void 0?null:h;var v=void 0;if(Nt!==null){var A=Nt.memoizedState;if(v=A.destroy,h!==null&&Ru(h,A.deps)){p.memoizedState=Ia(s,o,v,h);return}}gt.flags|=n,p.memoizedState=Ia(1|s,o,v,h)}function _m(n,s){return al(8390656,8,n,s)}function Iu(n,s){return ol(2048,8,n,s)}function Sm(n,s){return ol(4,2,n,s)}function Am(n,s){return ol(4,4,n,s)}function Em(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function jm(n,s,o){return o=o!=null?o.concat([n]):null,ol(4,4,Em.bind(null,s,n),o)}function Lu(){}function Nm(n,s){var o=Sn();s=s===void 0?null:s;var h=o.memoizedState;return h!==null&&s!==null&&Ru(s,h[1])?h[0]:(o.memoizedState=[n,s],n)}function km(n,s){var o=Sn();s=s===void 0?null:s;var h=o.memoizedState;return h!==null&&s!==null&&Ru(s,h[1])?h[0]:(n=n(),o.memoizedState=[n,s],n)}function Cm(n,s,o){return(Ts&21)===0?(n.baseState&&(n.baseState=!1,Zt=!0),n.memoizedState=o):(kn(o,s)||(o=sf(),gt.lanes|=o,Os|=o,n.baseState=!0),s)}function Ax(n,s){var o=nt;nt=o!==0&&4>o?o:4,n(!0);var h=Cu.transition;Cu.transition={};try{n(!1),s()}finally{nt=o,Cu.transition=h}}function Rm(){return Sn().memoizedState}function Ex(n,s,o){var h=Yr(n);if(o={lane:h,action:o,hasEagerState:!1,eagerState:null,next:null},Pm(n))Tm(s,o);else if(o=lm(n,s,o,h),o!==null){var p=qt();On(o,n,h,p),Om(o,s,h)}}function jx(n,s,o){var h=Yr(n),p={lane:h,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pm(n))Tm(s,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,O=v(A,o);if(p.hasEagerState=!0,p.eagerState=O,kn(O,A)){var M=s.interleaved;M===null?(p.next=p,Su(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}o=lm(n,s,p,h),o!==null&&(p=qt(),On(o,n,h,p),Om(o,s,h))}}function Pm(n){var s=n.alternate;return n===gt||s!==null&&s===gt}function Tm(n,s){Ta=il=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Om(n,s,o){if((o&4194240)!==0){var h=s.lanes;h&=n.pendingLanes,o|=h,s.lanes=o,Fc(n,o)}}var ll={readContext:_n,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},Nx={readContext:_n,useCallback:function(n,s){return Gn().memoizedState=[n,s===void 0?null:s],n},useContext:_n,useEffect:_m,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,al(4194308,4,Em.bind(null,s,n),o)},useLayoutEffect:function(n,s){return al(4194308,4,n,s)},useInsertionEffect:function(n,s){return al(4,2,n,s)},useMemo:function(n,s){var o=Gn();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var h=Gn();return s=o!==void 0?o(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=Ex.bind(null,gt,n),[h.memoizedState,n]},useRef:function(n){var s=Gn();return n={current:n},s.memoizedState=n},useState:xm,useDebugValue:Lu,useDeferredValue:function(n){return Gn().memoizedState=n},useTransition:function(){var n=xm(!1),s=n[0];return n=Ax.bind(null,n[1]),Gn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var h=gt,p=Gn();if(mt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ot===null)throw Error(r(349));(Ts&30)!==0||pm(h,s,o)}p.memoizedState=o;var v={value:o,getSnapshot:s};return p.queue=v,_m(vm.bind(null,h,v,n),[n]),h.flags|=2048,Ia(9,gm.bind(null,h,v,o,s),void 0,null),o},useId:function(){var n=Gn(),s=Ot.identifierPrefix;if(mt){var o=mr,h=fr;o=(h&~(1<<32-rt(h)-1)).toString(32)+o,s=":"+s+"R"+o,o=Oa++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Sx++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},kx={readContext:_n,useCallback:Nm,useContext:_n,useEffect:Iu,useImperativeHandle:jm,useInsertionEffect:Sm,useLayoutEffect:Am,useMemo:km,useReducer:Ou,useRef:bm,useState:function(){return Ou(Da)},useDebugValue:Lu,useDeferredValue:function(n){var s=Sn();return Cm(s,Nt.memoizedState,n)},useTransition:function(){var n=Ou(Da)[0],s=Sn().memoizedState;return[n,s]},useMutableSource:fm,useSyncExternalStore:mm,useId:Rm,unstable_isNewReconciler:!1},Cx={readContext:_n,useCallback:Nm,useContext:_n,useEffect:Iu,useImperativeHandle:jm,useInsertionEffect:Sm,useLayoutEffect:Am,useMemo:km,useReducer:Du,useRef:bm,useState:function(){return Du(Da)},useDebugValue:Lu,useDeferredValue:function(n){var s=Sn();return Nt===null?s.memoizedState=n:Cm(s,Nt.memoizedState,n)},useTransition:function(){var n=Du(Da)[0],s=Sn().memoizedState;return[n,s]},useMutableSource:fm,useSyncExternalStore:mm,useId:Rm,unstable_isNewReconciler:!1};function Rn(n,s){if(n&&n.defaultProps){s=X({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}function Mu(n,s,o,h){s=n.memoizedState,o=o(h,s),o=o==null?s:X({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var cl={isMounted:function(n){return(n=n._reactInternals)?Ne(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var h=qt(),p=Yr(n),v=gr(h,p);v.payload=s,o!=null&&(v.callback=o),s=Vr(n,v,p),s!==null&&(On(s,n,p,h),tl(s,n,p))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var h=qt(),p=Yr(n),v=gr(h,p);v.tag=1,v.payload=s,o!=null&&(v.callback=o),s=Vr(n,v,p),s!==null&&(On(s,n,p,h),tl(s,n,p))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=qt(),h=Yr(n),p=gr(o,h);p.tag=2,s!=null&&(p.callback=s),s=Vr(n,p,h),s!==null&&(On(s,n,h,o),tl(s,n,h))}};function Dm(n,s,o,h,p,v,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,v,A):s.prototype&&s.prototype.isPureReactComponent?!ba(o,h)||!ba(p,v):!0}function Im(n,s,o){var h=!1,p=Br,v=s.contextType;return typeof v=="object"&&v!==null?v=_n(v):(p=Xt(s)?Ns:$t.current,h=s.contextTypes,v=(h=h!=null)?ui(n,p):Br),s=new s(o,v),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cl,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=v),s}function Lm(n,s,o,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,h),s.state!==n&&cl.enqueueReplaceState(s,s.state,null)}function Fu(n,s,o,h){var p=n.stateNode;p.props=o,p.state=n.memoizedState,p.refs={},Au(n);var v=s.contextType;typeof v=="object"&&v!==null?p.context=_n(v):(v=Xt(s)?Ns:$t.current,p.context=ui(n,v)),p.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Mu(n,s,v,o),p.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&cl.enqueueReplaceState(p,p.state,null),nl(n,o,p,h),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function yi(n,s){try{var o="",h=s;do o+=ge(h),h=h.return;while(h);var p=o}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:s,stack:p,digest:null}}function $u(n,s,o){return{value:n,source:null,stack:o??null,digest:s??null}}function Uu(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Rx=typeof WeakMap=="function"?WeakMap:Map;function Mm(n,s,o){o=gr(-1,o),o.tag=3,o.payload={element:null};var h=s.value;return o.callback=function(){gl||(gl=!0,td=h),Uu(n,s)},o}function Fm(n,s,o){o=gr(-1,o),o.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;o.payload=function(){return h(p)},o.callback=function(){Uu(n,s)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){Uu(n,s),typeof h!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})}),o}function $m(n,s,o){var h=n.pingCache;if(h===null){h=n.pingCache=new Rx;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(o)||(p.add(o),n=Hx.bind(null,n,s,o),s.then(n,n))}function Um(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function zm(n,s,o,h,p){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=gr(-1,1),s.tag=2,Vr(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var Px=L.ReactCurrentOwner,Zt=!1;function Vt(n,s,o,h){s.child=n===null?om(s,null,o,h):mi(s,n.child,o,h)}function Bm(n,s,o,h,p){o=o.render;var v=s.ref;return gi(s,p),h=Pu(n,s,o,h,v,p),o=Tu(),n!==null&&!Zt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~p,vr(n,s,p)):(mt&&o&&mu(s),s.flags|=1,Vt(n,s,h,p),s.child)}function Wm(n,s,o,h,p){if(n===null){var v=o.type;return typeof v=="function"&&!ld(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=v,Hm(n,s,v,h,p)):(n=_l(o.type,null,h,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(v=n.child,(n.lanes&p)===0){var A=v.memoizedProps;if(o=o.compare,o=o!==null?o:ba,o(A,h)&&n.ref===s.ref)return vr(n,s,p)}return s.flags|=1,n=Qr(v,h),n.ref=s.ref,n.return=s,s.child=n}function Hm(n,s,o,h,p){if(n!==null){var v=n.memoizedProps;if(ba(v,h)&&n.ref===s.ref)if(Zt=!1,s.pendingProps=h=v,(n.lanes&p)!==0)(n.flags&131072)!==0&&(Zt=!0);else return s.lanes=n.lanes,vr(n,s,p)}return zu(n,s,o,h,p)}function Vm(n,s,o){var h=s.pendingProps,p=h.children,v=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(xi,un),un|=o;else{if((o&1073741824)===0)return n=v!==null?v.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,st(xi,un),un|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:o,st(xi,un),un|=h}else v!==null?(h=v.baseLanes|o,s.memoizedState=null):h=o,st(xi,un),un|=h;return Vt(n,s,p,o),s.child}function qm(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function zu(n,s,o,h,p){var v=Xt(o)?Ns:$t.current;return v=ui(s,v),gi(s,p),o=Pu(n,s,o,h,v,p),h=Tu(),n!==null&&!Zt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~p,vr(n,s,p)):(mt&&h&&mu(s),s.flags|=1,Vt(n,s,o,p),s.child)}function Km(n,s,o,h,p){if(Xt(o)){var v=!0;Ko(s)}else v=!1;if(gi(s,p),s.stateNode===null)dl(n,s),Im(s,o,h),Fu(s,o,h,p),h=!0;else if(n===null){var A=s.stateNode,O=s.memoizedProps;A.props=O;var M=A.context,Y=o.contextType;typeof Y=="object"&&Y!==null?Y=_n(Y):(Y=Xt(o)?Ns:$t.current,Y=ui(s,Y));var oe=o.getDerivedStateFromProps,ue=typeof oe=="function"||typeof A.getSnapshotBeforeUpdate=="function";ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==h||M!==Y)&&Lm(s,A,h,Y),Hr=!1;var se=s.memoizedState;A.state=se,nl(s,h,A,p),M=s.memoizedState,O!==h||se!==M||Qt.current||Hr?(typeof oe=="function"&&(Mu(s,o,oe,h),M=s.memoizedState),(O=Hr||Dm(s,o,O,h,se,M,Y))?(ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(s.flags|=4194308)):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=M),A.props=h,A.state=M,A.context=Y,h=O):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{A=s.stateNode,cm(n,s),O=s.memoizedProps,Y=s.type===s.elementType?O:Rn(s.type,O),A.props=Y,ue=s.pendingProps,se=A.context,M=o.contextType,typeof M=="object"&&M!==null?M=_n(M):(M=Xt(o)?Ns:$t.current,M=ui(s,M));var ve=o.getDerivedStateFromProps;(oe=typeof ve=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==ue||se!==M)&&Lm(s,A,h,M),Hr=!1,se=s.memoizedState,A.state=se,nl(s,h,A,p);var Ae=s.memoizedState;O!==ue||se!==Ae||Qt.current||Hr?(typeof ve=="function"&&(Mu(s,o,ve,h),Ae=s.memoizedState),(Y=Hr||Dm(s,o,Y,h,se,Ae,M)||!1)?(oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,Ae,M),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,Ae,M)),typeof A.componentDidUpdate=="function"&&(s.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===n.memoizedProps&&se===n.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===n.memoizedProps&&se===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ae),A.props=h,A.state=Ae,A.context=M,h=Y):(typeof A.componentDidUpdate!="function"||O===n.memoizedProps&&se===n.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===n.memoizedProps&&se===n.memoizedState||(s.flags|=1024),h=!1)}return Bu(n,s,o,h,v,p)}function Bu(n,s,o,h,p,v){qm(n,s);var A=(s.flags&128)!==0;if(!h&&!A)return p&&Xf(s,o,!1),vr(n,s,v);h=s.stateNode,Px.current=s;var O=A&&typeof o.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&A?(s.child=mi(s,n.child,null,v),s.child=mi(s,null,O,v)):Vt(n,s,O,v),s.memoizedState=h.state,p&&Xf(s,o,!0),s.child}function Gm(n){var s=n.stateNode;s.pendingContext?Jf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Jf(n,s.context,!1),Eu(n,s.containerInfo)}function Ym(n,s,o,h,p){return fi(),yu(p),s.flags|=256,Vt(n,s,o,h),s.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function Hu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Jm(n,s,o){var h=s.pendingProps,p=pt.current,v=!1,A=(s.flags&128)!==0,O;if((O=A)||(O=n!==null&&n.memoizedState===null?!1:(p&2)!==0),O?(v=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),st(pt,p&1),n===null)return vu(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(A=h.children,n=h.fallback,v?(h=s.mode,v=s.child,A={mode:"hidden",children:A},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=A):v=Sl(A,h,0,null),n=Ms(n,h,o,null),v.return=s,n.return=s,v.sibling=n,s.child=v,s.child.memoizedState=Hu(o),s.memoizedState=Wu,n):Vu(s,A));if(p=n.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return Tx(n,s,A,h,O,p,o);if(v){v=h.fallback,A=s.mode,p=n.child,O=p.sibling;var M={mode:"hidden",children:h.children};return(A&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=M,s.deletions=null):(h=Qr(p,M),h.subtreeFlags=p.subtreeFlags&14680064),O!==null?v=Qr(O,v):(v=Ms(v,A,o,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,A=n.child.memoizedState,A=A===null?Hu(o):{baseLanes:A.baseLanes|o,cachePool:null,transitions:A.transitions},v.memoizedState=A,v.childLanes=n.childLanes&~o,s.memoizedState=Wu,h}return v=n.child,n=v.sibling,h=Qr(v,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=o),h.return=s,h.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=h,s.memoizedState=null,h}function Vu(n,s){return s=Sl({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function ul(n,s,o,h){return h!==null&&yu(h),mi(s,n.child,null,o),n=Vu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Tx(n,s,o,h,p,v,A){if(o)return s.flags&256?(s.flags&=-257,h=$u(Error(r(422))),ul(n,s,A,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(v=h.fallback,p=s.mode,h=Sl({mode:"visible",children:h.children},p,0,null),v=Ms(v,p,A,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,(s.mode&1)!==0&&mi(s,n.child,null,A),s.child.memoizedState=Hu(A),s.memoizedState=Wu,v);if((s.mode&1)===0)return ul(n,s,A,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var O=h.dgst;return h=O,v=Error(r(419)),h=$u(v,h,void 0),ul(n,s,A,h)}if(O=(A&n.childLanes)!==0,Zt||O){if(h=Ot,h!==null){switch(A&-A){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|A))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,pr(n,p),On(h,n,p,-1))}return od(),h=$u(Error(r(421))),ul(n,s,A,h)}return p.data==="$?"?(s.flags|=128,s.child=n.child,s=Vx.bind(null,n),p._reactRetry=s,null):(n=v.treeContext,cn=Ur(p.nextSibling),ln=s,mt=!0,Cn=null,n!==null&&(xn[bn++]=fr,xn[bn++]=mr,xn[bn++]=ks,fr=n.id,mr=n.overflow,ks=s),s=Vu(s,h.children),s.flags|=4096,s)}function Qm(n,s,o){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),_u(n.return,s,o)}function qu(n,s,o,h,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=o,v.tailMode=p)}function Xm(n,s,o){var h=s.pendingProps,p=h.revealOrder,v=h.tail;if(Vt(n,s,h.children,o),h=pt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qm(n,o,s);else if(n.tag===19)Qm(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(st(pt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(o=s.child,p=null;o!==null;)n=o.alternate,n!==null&&rl(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),qu(s,!1,p,o,v);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&rl(n)===null){s.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}qu(s,!0,o,null,v);break;case"together":qu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function dl(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function vr(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Os|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Qr(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Qr(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Ox(n,s,o){switch(s.tag){case 3:Gm(s),fi();break;case 5:hm(s);break;case 1:Xt(s.type)&&Ko(s);break;case 4:Eu(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;st(Zo,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(st(pt,pt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?Jm(n,s,o):(st(pt,pt.current&1),n=vr(n,s,o),n!==null?n.sibling:null);st(pt,pt.current&1);break;case 19:if(h=(o&s.childLanes)!==0,(n.flags&128)!==0){if(h)return Xm(n,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),st(pt,pt.current),h)break;return null;case 22:case 23:return s.lanes=0,Vm(n,s,o)}return vr(n,s,o)}var Zm,Ku,ep,tp;Zm=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ku=function(){},ep=function(n,s,o,h){var p=n.memoizedProps;if(p!==h){n=s.stateNode,Ps(Kn.current);var v=null;switch(o){case"input":p=Ve(n,p),h=Ve(n,h),v=[];break;case"select":p=X({},p,{value:void 0}),h=X({},h,{value:void 0}),v=[];break;case"textarea":p=na(n,p),h=na(n,h),v=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Ho)}Xs(o,h);var A;o=null;for(Y in p)if(!h.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var O=p[Y];for(A in O)O.hasOwnProperty(A)&&(o||(o={}),o[A]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(a.hasOwnProperty(Y)?v||(v=[]):(v=v||[]).push(Y,null));for(Y in h){var M=h[Y];if(O=p!=null?p[Y]:void 0,h.hasOwnProperty(Y)&&M!==O&&(M!=null||O!=null))if(Y==="style")if(O){for(A in O)!O.hasOwnProperty(A)||M&&M.hasOwnProperty(A)||(o||(o={}),o[A]="");for(A in M)M.hasOwnProperty(A)&&O[A]!==M[A]&&(o||(o={}),o[A]=M[A])}else o||(v||(v=[]),v.push(Y,o)),o=M;else Y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,O=O?O.__html:void 0,M!=null&&O!==M&&(v=v||[]).push(Y,M)):Y==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(Y,""+M):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(a.hasOwnProperty(Y)?(M!=null&&Y==="onScroll"&&ct("scroll",n),v||O===M||(v=[])):(v=v||[]).push(Y,M))}o&&(v=v||[]).push("style",o);var Y=v;(s.updateQueue=Y)&&(s.flags|=4)}},tp=function(n,s,o,h){o!==h&&(s.flags|=4)};function La(n,s){if(!mt)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function zt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,h=0;if(s)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=h,n.childLanes=o,s}function Dx(n,s,o){var h=s.pendingProps;switch(pu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return Xt(s.type)&&qo(),zt(s),null;case 3:return h=s.stateNode,vi(),ut(Qt),ut($t),ku(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Qo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cn!==null&&(sd(Cn),Cn=null))),Ku(n,s),zt(s),null;case 5:ju(s);var p=Ps(Pa.current);if(o=s.type,n!==null&&s.stateNode!=null)ep(n,s,o,h,p),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return zt(s),null}if(n=Ps(Kn.current),Qo(s)){h=s.stateNode,o=s.type;var v=s.memoizedProps;switch(h[qn]=s,h[ja]=v,n=(s.mode&1)!==0,o){case"dialog":ct("cancel",h),ct("close",h);break;case"iframe":case"object":case"embed":ct("load",h);break;case"video":case"audio":for(p=0;p<Sa.length;p++)ct(Sa[p],h);break;case"source":ct("error",h);break;case"img":case"image":case"link":ct("error",h),ct("load",h);break;case"details":ct("toggle",h);break;case"input":Ze(h,v),ct("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},ct("invalid",h);break;case"textarea":Ao(h,v),ct("invalid",h)}Xs(o,v),p=null;for(var A in v)if(v.hasOwnProperty(A)){var O=v[A];A==="children"?typeof O=="string"?h.textContent!==O&&(v.suppressHydrationWarning!==!0&&Wo(h.textContent,O,n),p=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&Wo(h.textContent,O,n),p=["children",""+O]):a.hasOwnProperty(A)&&O!=null&&A==="onScroll"&&ct("scroll",h)}switch(o){case"input":F(h),Bn(h,v,!0);break;case"textarea":F(h),kr(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Ho)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{A=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ra(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=A.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=A.createElement(o,{is:h.is}):(n=A.createElement(o),o==="select"&&(A=n,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):n=A.createElementNS(n,o),n[qn]=s,n[ja]=h,Zm(n,s,!1,!1),s.stateNode=n;e:{switch(A=Zs(o,h),o){case"dialog":ct("cancel",n),ct("close",n),p=h;break;case"iframe":case"object":case"embed":ct("load",n),p=h;break;case"video":case"audio":for(p=0;p<Sa.length;p++)ct(Sa[p],n);p=h;break;case"source":ct("error",n),p=h;break;case"img":case"image":case"link":ct("error",n),ct("load",n),p=h;break;case"details":ct("toggle",n),p=h;break;case"input":Ze(n,h),p=Ve(n,h),ct("invalid",n);break;case"option":p=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},p=X({},h,{value:void 0}),ct("invalid",n);break;case"textarea":Ao(n,h),p=na(n,h),ct("invalid",n);break;default:p=h}Xs(o,p),O=p;for(v in O)if(O.hasOwnProperty(v)){var M=O[v];v==="style"?yn(n,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&vn(n,M)):v==="children"?typeof M=="string"?(o!=="textarea"||M!=="")&&Cr(n,M):typeof M=="number"&&Cr(n,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?M!=null&&v==="onScroll"&&ct("scroll",n):M!=null&&T(n,v,M,A))}switch(o){case"input":F(n),Bn(n,h,!1);break;case"textarea":F(n),kr(n);break;case"option":h.value!=null&&n.setAttribute("value",""+me(h.value));break;case"select":n.multiple=!!h.multiple,v=h.value,v!=null?Nr(n,!!h.multiple,v,!1):h.defaultValue!=null&&Nr(n,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=Ho)}switch(o){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(n&&s.stateNode!=null)tp(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(o=Ps(Pa.current),Ps(Kn.current),Qo(s)){if(h=s.stateNode,o=s.memoizedProps,h[qn]=s,(v=h.nodeValue!==o)&&(n=ln,n!==null))switch(n.tag){case 3:Wo(h.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Wo(h.nodeValue,o,(n.mode&1)!==0)}v&&(s.flags|=4)}else h=(o.nodeType===9?o:o.ownerDocument).createTextNode(h),h[qn]=s,s.stateNode=h}return zt(s),null;case 13:if(ut(pt),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(mt&&cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)sm(),fi(),s.flags|=98560,v=!1;else if(v=Qo(s),h!==null&&h.dehydrated!==null){if(n===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[qn]=s}else fi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),v=!1}else Cn!==null&&(sd(Cn),Cn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(pt.current&1)!==0?kt===0&&(kt=3):od())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return vi(),Ku(n,s),n===null&&Aa(s.stateNode.containerInfo),zt(s),null;case 10:return bu(s.type._context),zt(s),null;case 17:return Xt(s.type)&&qo(),zt(s),null;case 19:if(ut(pt),v=s.memoizedState,v===null)return zt(s),null;if(h=(s.flags&128)!==0,A=v.rendering,A===null)if(h)La(v,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(A=rl(n),A!==null){for(s.flags|=128,La(v,!1),h=A.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=o,o=s.child;o!==null;)v=o,n=h,v.flags&=14680066,A=v.alternate,A===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,v.type=A.type,n=A.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return st(pt,pt.current&1|2),s.child}n=n.sibling}v.tail!==null&&tt()>bi&&(s.flags|=128,h=!0,La(v,!1),s.lanes=4194304)}else{if(!h)if(n=rl(A),n!==null){if(s.flags|=128,h=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),La(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!mt)return zt(s),null}else 2*tt()-v.renderingStartTime>bi&&o!==1073741824&&(s.flags|=128,h=!0,La(v,!1),s.lanes=4194304);v.isBackwards?(A.sibling=s.child,s.child=A):(o=v.last,o!==null?o.sibling=A:s.child=A,v.last=A)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=tt(),s.sibling=null,o=pt.current,st(pt,h?o&1|2:o&1),s):(zt(s),null);case 22:case 23:return ad(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(un&1073741824)!==0&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Ix(n,s){switch(pu(s),s.tag){case 1:return Xt(s.type)&&qo(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return vi(),ut(Qt),ut($t),ku(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return ju(s),null;case 13:if(ut(pt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));fi()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ut(pt),null;case 4:return vi(),null;case 10:return bu(s.type._context),null;case 22:case 23:return ad(),null;case 24:return null;default:return null}}var hl=!1,Bt=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,be=null;function wi(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(h){vt(n,s,h)}else o.current=null}function Gu(n,s,o){try{o()}catch(h){vt(n,s,h)}}var np=!1;function Mx(n,s){if(au=To,n=Df(),Xc(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var A=0,O=-1,M=-1,Y=0,oe=0,ue=n,se=null;t:for(;;){for(var ve;ue!==o||p!==0&&ue.nodeType!==3||(O=A+p),ue!==v||h!==0&&ue.nodeType!==3||(M=A+h),ue.nodeType===3&&(A+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)se=ue,ue=ve;for(;;){if(ue===n)break t;if(se===o&&++Y===p&&(O=A),se===v&&++oe===h&&(M=A),(ve=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=ve}o=O===-1||M===-1?null:{start:O,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(ou={focusedElem:n,selectionRange:o},To=!1,be=s;be!==null;)if(s=be,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,be=n;else for(;be!==null;){s=be;try{var Ae=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var ke=Ae.memoizedProps,xt=Ae.memoizedState,q=s.stateNode,U=q.getSnapshotBeforeUpdate(s.elementType===s.type?ke:Rn(s.type,ke),xt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(he){vt(s,s.return,he)}if(n=s.sibling,n!==null){n.return=s.return,be=n;break}be=s.return}return Ae=np,np=!1,Ae}function Ma(n,s,o){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&n)===n){var v=p.destroy;p.destroy=void 0,v!==void 0&&Gu(s,o,v)}p=p.next}while(p!==h)}}function fl(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var h=o.create;o.destroy=h()}o=o.next}while(o!==s)}}function Yu(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function rp(n){var s=n.alternate;s!==null&&(n.alternate=null,rp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[qn],delete s[ja],delete s[du],delete s[wx],delete s[xx])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function sp(n){return n.tag===5||n.tag===3||n.tag===4}function ip(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ju(n,s,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ho));else if(h!==4&&(n=n.child,n!==null))for(Ju(n,s,o),n=n.sibling;n!==null;)Ju(n,s,o),n=n.sibling}function Qu(n,s,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(Qu(n,s,o),n=n.sibling;n!==null;)Qu(n,s,o),n=n.sibling}var It=null,Pn=!1;function qr(n,s,o){for(o=o.child;o!==null;)ap(n,s,o),o=o.sibling}function ap(n,s,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(lr,o)}catch{}switch(o.tag){case 5:Bt||wi(o,s);case 6:var h=It,p=Pn;It=null,qr(n,s,o),It=h,Pn=p,It!==null&&(Pn?(n=It,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(Pn?(n=It,o=o.stateNode,n.nodeType===8?uu(n.parentNode,o):n.nodeType===1&&uu(n,o),pa(n)):uu(It,o.stateNode));break;case 4:h=It,p=Pn,It=o.stateNode.containerInfo,Pn=!0,qr(n,s,o),It=h,Pn=p;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=o.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var v=p,A=v.destroy;v=v.tag,A!==void 0&&((v&2)!==0||(v&4)!==0)&&Gu(o,s,A),p=p.next}while(p!==h)}qr(n,s,o);break;case 1:if(!Bt&&(wi(o,s),h=o.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=o.memoizedProps,h.state=o.memoizedState,h.componentWillUnmount()}catch(O){vt(o,s,O)}qr(n,s,o);break;case 21:qr(n,s,o);break;case 22:o.mode&1?(Bt=(h=Bt)||o.memoizedState!==null,qr(n,s,o),Bt=h):qr(n,s,o);break;default:qr(n,s,o)}}function op(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new Lx),s.forEach(function(h){var p=qx.bind(null,n,h);o.has(h)||(o.add(h),h.then(p,p))})}}function Tn(n,s){var o=s.deletions;if(o!==null)for(var h=0;h<o.length;h++){var p=o[h];try{var v=n,A=s,O=A;e:for(;O!==null;){switch(O.tag){case 5:It=O.stateNode,Pn=!1;break e;case 3:It=O.stateNode.containerInfo,Pn=!0;break e;case 4:It=O.stateNode.containerInfo,Pn=!0;break e}O=O.return}if(It===null)throw Error(r(160));ap(v,A,p),It=null,Pn=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(Y){vt(p,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)lp(s,n),s=s.sibling}function lp(n,s){var o=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Tn(s,n),Yn(n),h&4){try{Ma(3,n,n.return),fl(3,n)}catch(ke){vt(n,n.return,ke)}try{Ma(5,n,n.return)}catch(ke){vt(n,n.return,ke)}}break;case 1:Tn(s,n),Yn(n),h&512&&o!==null&&wi(o,o.return);break;case 5:if(Tn(s,n),Yn(n),h&512&&o!==null&&wi(o,o.return),n.flags&32){var p=n.stateNode;try{Cr(p,"")}catch(ke){vt(n,n.return,ke)}}if(h&4&&(p=n.stateNode,p!=null)){var v=n.memoizedProps,A=o!==null?o.memoizedProps:v,O=n.type,M=n.updateQueue;if(n.updateQueue=null,M!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&ht(p,v),Zs(O,A);var Y=Zs(O,v);for(A=0;A<M.length;A+=2){var oe=M[A],ue=M[A+1];oe==="style"?yn(p,ue):oe==="dangerouslySetInnerHTML"?vn(p,ue):oe==="children"?Cr(p,ue):T(p,oe,ue,Y)}switch(O){case"input":jt(p,v);break;case"textarea":Wn(p,v);break;case"select":var se=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var ve=v.value;ve!=null?Nr(p,!!v.multiple,ve,!1):se!==!!v.multiple&&(v.defaultValue!=null?Nr(p,!!v.multiple,v.defaultValue,!0):Nr(p,!!v.multiple,v.multiple?[]:"",!1))}p[ja]=v}catch(ke){vt(n,n.return,ke)}}break;case 6:if(Tn(s,n),Yn(n),h&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,v=n.memoizedProps;try{p.nodeValue=v}catch(ke){vt(n,n.return,ke)}}break;case 3:if(Tn(s,n),Yn(n),h&4&&o!==null&&o.memoizedState.isDehydrated)try{pa(s.containerInfo)}catch(ke){vt(n,n.return,ke)}break;case 4:Tn(s,n),Yn(n);break;case 13:Tn(s,n),Yn(n),p=n.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(ed=tt())),h&4&&op(n);break;case 22:if(oe=o!==null&&o.memoizedState!==null,n.mode&1?(Bt=(Y=Bt)||oe,Tn(s,n),Bt=Y):Tn(s,n),Yn(n),h&8192){if(Y=n.memoizedState!==null,(n.stateNode.isHidden=Y)&&!oe&&(n.mode&1)!==0)for(be=n,oe=n.child;oe!==null;){for(ue=be=oe;be!==null;){switch(se=be,ve=se.child,se.tag){case 0:case 11:case 14:case 15:Ma(4,se,se.return);break;case 1:wi(se,se.return);var Ae=se.stateNode;if(typeof Ae.componentWillUnmount=="function"){h=se,o=se.return;try{s=h,Ae.props=s.memoizedProps,Ae.state=s.memoizedState,Ae.componentWillUnmount()}catch(ke){vt(h,o,ke)}}break;case 5:wi(se,se.return);break;case 22:if(se.memoizedState!==null){dp(ue);continue}}ve!==null?(ve.return=se,be=ve):dp(ue)}oe=oe.sibling}e:for(oe=null,ue=n;;){if(ue.tag===5){if(oe===null){oe=ue;try{p=ue.stateNode,Y?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=ue.stateNode,M=ue.memoizedProps.style,A=M!=null&&M.hasOwnProperty("display")?M.display:null,O.style.display=Eo("display",A))}catch(ke){vt(n,n.return,ke)}}}else if(ue.tag===6){if(oe===null)try{ue.stateNode.nodeValue=Y?"":ue.memoizedProps}catch(ke){vt(n,n.return,ke)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===n)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===n)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===n)break e;oe===ue&&(oe=null),ue=ue.return}oe===ue&&(oe=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Tn(s,n),Yn(n),h&4&&op(n);break;case 21:break;default:Tn(s,n),Yn(n)}}function Yn(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(sp(o)){var h=o;break e}o=o.return}throw Error(r(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Cr(p,""),h.flags&=-33);var v=ip(n);Qu(n,v,p);break;case 3:case 4:var A=h.stateNode.containerInfo,O=ip(n);Ju(n,O,A);break;default:throw Error(r(161))}}catch(M){vt(n,n.return,M)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Fx(n,s,o){be=n,cp(n)}function cp(n,s,o){for(var h=(n.mode&1)!==0;be!==null;){var p=be,v=p.child;if(p.tag===22&&h){var A=p.memoizedState!==null||hl;if(!A){var O=p.alternate,M=O!==null&&O.memoizedState!==null||Bt;O=hl;var Y=Bt;if(hl=A,(Bt=M)&&!Y)for(be=p;be!==null;)A=be,M=A.child,A.tag===22&&A.memoizedState!==null?hp(p):M!==null?(M.return=A,be=M):hp(p);for(;v!==null;)be=v,cp(v),v=v.sibling;be=p,hl=O,Bt=Y}up(n)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,be=v):up(n)}}function up(n){for(;be!==null;){var s=be;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||fl(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Bt)if(o===null)h.componentDidMount();else{var p=s.elementType===s.type?o.memoizedProps:Rn(s.type,o.memoizedProps);h.componentDidUpdate(p,o.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&dm(s,v,h);break;case 3:var A=s.updateQueue;if(A!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}dm(s,A,o)}break;case 5:var O=s.stateNode;if(o===null&&s.flags&4){o=O;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&o.focus();break;case"img":M.src&&(o.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ue=oe.dehydrated;ue!==null&&pa(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Bt||s.flags&512&&Yu(s)}catch(se){vt(s,s.return,se)}}if(s===n){be=null;break}if(o=s.sibling,o!==null){o.return=s.return,be=o;break}be=s.return}}function dp(n){for(;be!==null;){var s=be;if(s===n){be=null;break}var o=s.sibling;if(o!==null){o.return=s.return,be=o;break}be=s.return}}function hp(n){for(;be!==null;){var s=be;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{fl(4,s)}catch(M){vt(s,o,M)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(M){vt(s,p,M)}}var v=s.return;try{Yu(s)}catch(M){vt(s,v,M)}break;case 5:var A=s.return;try{Yu(s)}catch(M){vt(s,A,M)}}}catch(M){vt(s,s.return,M)}if(s===n){be=null;break}var O=s.sibling;if(O!==null){O.return=s.return,be=O;break}be=s.return}}var $x=Math.ceil,ml=L.ReactCurrentDispatcher,Xu=L.ReactCurrentOwner,An=L.ReactCurrentBatchConfig,Qe=0,Ot=null,At=null,Lt=0,un=0,xi=zr(0),kt=0,Fa=null,Os=0,pl=0,Zu=0,$a=null,en=null,ed=0,bi=1/0,yr=null,gl=!1,td=null,Kr=null,vl=!1,Gr=null,yl=0,Ua=0,nd=null,wl=-1,xl=0;function qt(){return(Qe&6)!==0?tt():wl!==-1?wl:wl=tt()}function Yr(n){return(n.mode&1)===0?1:(Qe&2)!==0&&Lt!==0?Lt&-Lt:_x.transition!==null?(xl===0&&(xl=sf()),xl):(n=nt,n!==0||(n=window.event,n=n===void 0?16:mf(n.type)),n)}function On(n,s,o,h){if(50<Ua)throw Ua=0,nd=null,Error(r(185));ua(n,o,h),((Qe&2)===0||n!==Ot)&&(n===Ot&&((Qe&2)===0&&(pl|=o),kt===4&&Jr(n,Lt)),tn(n,h),o===1&&Qe===0&&(s.mode&1)===0&&(bi=tt()+500,Go&&Wr()))}function tn(n,s){var o=n.callbackNode;_w(n,s);var h=Co(n,n===Ot?Lt:0);if(h===0)o!==null&&Pt(o),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(o!=null&&Pt(o),s===1)n.tag===0?bx(mp.bind(null,n)):Zf(mp.bind(null,n)),vx(function(){(Qe&6)===0&&Wr()}),o=null;else{switch(af(h)){case 1:o=wn;break;case 4:o=an;break;case 16:o=Tr;break;case 536870912:o=Vn;break;default:o=Tr}o=_p(o,fp.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function fp(n,s){if(wl=-1,xl=0,(Qe&6)!==0)throw Error(r(327));var o=n.callbackNode;if(_i()&&n.callbackNode!==o)return null;var h=Co(n,n===Ot?Lt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||s)s=bl(n,h);else{s=h;var p=Qe;Qe|=2;var v=gp();(Ot!==n||Lt!==s)&&(yr=null,bi=tt()+500,Is(n,s));do try{Bx();break}catch(O){pp(n,O)}while(!0);xu(),ml.current=v,Qe=p,At!==null?s=0:(Ot=null,Lt=0,s=kt)}if(s!==0){if(s===2&&(p=Lc(n),p!==0&&(h=p,s=rd(n,p))),s===1)throw o=Fa,Is(n,0),Jr(n,h),tn(n,tt()),o;if(s===6)Jr(n,h);else{if(p=n.current.alternate,(h&30)===0&&!Ux(p)&&(s=bl(n,h),s===2&&(v=Lc(n),v!==0&&(h=v,s=rd(n,v))),s===1))throw o=Fa,Is(n,0),Jr(n,h),tn(n,tt()),o;switch(n.finishedWork=p,n.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:Ls(n,en,yr);break;case 3:if(Jr(n,h),(h&130023424)===h&&(s=ed+500-tt(),10<s)){if(Co(n,0)!==0)break;if(p=n.suspendedLanes,(p&h)!==h){qt(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=cu(Ls.bind(null,n,en,yr),s);break}Ls(n,en,yr);break;case 4:if(Jr(n,h),(h&4194240)===h)break;for(s=n.eventTimes,p=-1;0<h;){var A=31-rt(h);v=1<<A,A=s[A],A>p&&(p=A),h&=~v}if(h=p,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*$x(h/1960))-h,10<h){n.timeoutHandle=cu(Ls.bind(null,n,en,yr),h);break}Ls(n,en,yr);break;case 5:Ls(n,en,yr);break;default:throw Error(r(329))}}}return tn(n,tt()),n.callbackNode===o?fp.bind(null,n):null}function rd(n,s){var o=$a;return n.current.memoizedState.isDehydrated&&(Is(n,s).flags|=256),n=bl(n,s),n!==2&&(s=en,en=o,s!==null&&sd(s)),n}function sd(n){en===null?en=n:en.push.apply(en,n)}function Ux(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var h=0;h<o.length;h++){var p=o[h],v=p.getSnapshot;p=p.value;try{if(!kn(v(),p))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Jr(n,s){for(s&=~Zu,s&=~pl,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-rt(s),h=1<<o;n[o]=-1,s&=~h}}function mp(n){if((Qe&6)!==0)throw Error(r(327));_i();var s=Co(n,0);if((s&1)===0)return tn(n,tt()),null;var o=bl(n,s);if(n.tag!==0&&o===2){var h=Lc(n);h!==0&&(s=h,o=rd(n,h))}if(o===1)throw o=Fa,Is(n,0),Jr(n,s),tn(n,tt()),o;if(o===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Ls(n,en,yr),tn(n,tt()),null}function id(n,s){var o=Qe;Qe|=1;try{return n(s)}finally{Qe=o,Qe===0&&(bi=tt()+500,Go&&Wr())}}function Ds(n){Gr!==null&&Gr.tag===0&&(Qe&6)===0&&_i();var s=Qe;Qe|=1;var o=An.transition,h=nt;try{if(An.transition=null,nt=1,n)return n()}finally{nt=h,An.transition=o,Qe=s,(Qe&6)===0&&Wr()}}function ad(){un=xi.current,ut(xi)}function Is(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,gx(o)),At!==null)for(o=At.return;o!==null;){var h=o;switch(pu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&qo();break;case 3:vi(),ut(Qt),ut($t),ku();break;case 5:ju(h);break;case 4:vi();break;case 13:ut(pt);break;case 19:ut(pt);break;case 10:bu(h.type._context);break;case 22:case 23:ad()}o=o.return}if(Ot=n,At=n=Qr(n.current,null),Lt=un=s,kt=0,Fa=null,Zu=pl=Os=0,en=$a=null,Rs!==null){for(s=0;s<Rs.length;s++)if(o=Rs[s],h=o.interleaved,h!==null){o.interleaved=null;var p=h.next,v=o.pending;if(v!==null){var A=v.next;v.next=p,h.next=A}o.pending=h}Rs=null}return n}function pp(n,s){do{var o=At;try{if(xu(),sl.current=ll,il){for(var h=gt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}il=!1}if(Ts=0,Tt=Nt=gt=null,Ta=!1,Oa=0,Xu.current=null,o===null||o.return===null){kt=1,Fa=s,At=null;break}e:{var v=n,A=o.return,O=o,M=s;if(s=Lt,O.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=M,oe=O,ue=oe.tag;if((oe.mode&1)===0&&(ue===0||ue===11||ue===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ve=Um(A);if(ve!==null){ve.flags&=-257,zm(ve,A,O,v,s),ve.mode&1&&$m(v,Y,s),s=ve,M=Y;var Ae=s.updateQueue;if(Ae===null){var ke=new Set;ke.add(M),s.updateQueue=ke}else Ae.add(M);break e}else{if((s&1)===0){$m(v,Y,s),od();break e}M=Error(r(426))}}else if(mt&&O.mode&1){var xt=Um(A);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),zm(xt,A,O,v,s),yu(yi(M,O));break e}}v=M=yi(M,O),kt!==4&&(kt=2),$a===null?$a=[v]:$a.push(v),v=A;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var q=Mm(v,M,s);um(v,q);break e;case 1:O=M;var U=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Kr===null||!Kr.has(K)))){v.flags|=65536,s&=-s,v.lanes|=s;var he=Fm(v,O,s);um(v,he);break e}}v=v.return}while(v!==null)}yp(o)}catch(Te){s=Te,At===o&&o!==null&&(At=o=o.return);continue}break}while(!0)}function gp(){var n=ml.current;return ml.current=ll,n===null?ll:n}function od(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||(Os&268435455)===0&&(pl&268435455)===0||Jr(Ot,Lt)}function bl(n,s){var o=Qe;Qe|=2;var h=gp();(Ot!==n||Lt!==s)&&(yr=null,Is(n,s));do try{zx();break}catch(p){pp(n,p)}while(!0);if(xu(),Qe=o,ml.current=h,At!==null)throw Error(r(261));return Ot=null,Lt=0,kt}function zx(){for(;At!==null;)vp(At)}function Bx(){for(;At!==null&&!et();)vp(At)}function vp(n){var s=bp(n.alternate,n,un);n.memoizedProps=n.pendingProps,s===null?yp(n):At=s,Xu.current=null}function yp(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=Dx(o,s,un),o!==null){At=o;return}}else{if(o=Ix(o,s),o!==null){o.flags&=32767,At=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kt=6,At=null;return}}if(s=s.sibling,s!==null){At=s;return}At=s=n}while(s!==null);kt===0&&(kt=5)}function Ls(n,s,o){var h=nt,p=An.transition;try{An.transition=null,nt=1,Wx(n,s,o,h)}finally{An.transition=p,nt=h}return null}function Wx(n,s,o,h){do _i();while(Gr!==null);if((Qe&6)!==0)throw Error(r(327));o=n.finishedWork;var p=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var v=o.lanes|o.childLanes;if(Sw(n,v),n===Ot&&(At=Ot=null,Lt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||vl||(vl=!0,_p(Tr,function(){return _i(),null})),v=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||v){v=An.transition,An.transition=null;var A=nt;nt=1;var O=Qe;Qe|=4,Xu.current=null,Mx(n,o),lp(o,n),cx(ou),To=!!au,ou=au=null,n.current=o,Fx(o),Jt(),Qe=O,nt=A,An.transition=v}else n.current=o;if(vl&&(vl=!1,Gr=n,yl=p),v=n.pendingLanes,v===0&&(Kr=null),Je(o.stateNode),tn(n,tt()),s!==null)for(h=n.onRecoverableError,o=0;o<s.length;o++)p=s[o],h(p.value,{componentStack:p.stack,digest:p.digest});if(gl)throw gl=!1,n=td,td=null,n;return(yl&1)!==0&&n.tag!==0&&_i(),v=n.pendingLanes,(v&1)!==0?n===nd?Ua++:(Ua=0,nd=n):Ua=0,Wr(),null}function _i(){if(Gr!==null){var n=af(yl),s=An.transition,o=nt;try{if(An.transition=null,nt=16>n?16:n,Gr===null)var h=!1;else{if(n=Gr,Gr=null,yl=0,(Qe&6)!==0)throw Error(r(331));var p=Qe;for(Qe|=4,be=n.current;be!==null;){var v=be,A=v.child;if((be.flags&16)!==0){var O=v.deletions;if(O!==null){for(var M=0;M<O.length;M++){var Y=O[M];for(be=Y;be!==null;){var oe=be;switch(oe.tag){case 0:case 11:case 15:Ma(8,oe,v)}var ue=oe.child;if(ue!==null)ue.return=oe,be=ue;else for(;be!==null;){oe=be;var se=oe.sibling,ve=oe.return;if(rp(oe),oe===Y){be=null;break}if(se!==null){se.return=ve,be=se;break}be=ve}}}var Ae=v.alternate;if(Ae!==null){var ke=Ae.child;if(ke!==null){Ae.child=null;do{var xt=ke.sibling;ke.sibling=null,ke=xt}while(ke!==null)}}be=v}}if((v.subtreeFlags&2064)!==0&&A!==null)A.return=v,be=A;else e:for(;be!==null;){if(v=be,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ma(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,be=q;break e}be=v.return}}var U=n.current;for(be=U;be!==null;){A=be;var K=A.child;if((A.subtreeFlags&2064)!==0&&K!==null)K.return=A,be=K;else e:for(A=U;be!==null;){if(O=be,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:fl(9,O)}}catch(Te){vt(O,O.return,Te)}if(O===A){be=null;break e}var he=O.sibling;if(he!==null){he.return=O.return,be=he;break e}be=O.return}}if(Qe=p,Wr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(lr,n)}catch{}h=!0}return h}finally{nt=o,An.transition=s}}return!1}function wp(n,s,o){s=yi(o,s),s=Mm(n,s,1),n=Vr(n,s,1),s=qt(),n!==null&&(ua(n,1,s),tn(n,s))}function vt(n,s,o){if(n.tag===3)wp(n,n,o);else for(;s!==null;){if(s.tag===3){wp(s,n,o);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Kr===null||!Kr.has(h))){n=yi(o,n),n=Fm(s,n,1),s=Vr(s,n,1),n=qt(),s!==null&&(ua(s,1,n),tn(s,n));break}}s=s.return}}function Hx(n,s,o){var h=n.pingCache;h!==null&&h.delete(s),s=qt(),n.pingedLanes|=n.suspendedLanes&o,Ot===n&&(Lt&o)===o&&(kt===4||kt===3&&(Lt&130023424)===Lt&&500>tt()-ed?Is(n,0):Zu|=o),tn(n,s)}function xp(n,s){s===0&&((n.mode&1)===0?s=1:(s=As,As<<=1,(As&130023424)===0&&(As=4194304)));var o=qt();n=pr(n,s),n!==null&&(ua(n,s,o),tn(n,o))}function Vx(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),xp(n,o)}function qx(n,s){var o=0;switch(n.tag){case 13:var h=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),xp(n,o)}var bp;bp=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||Qt.current)Zt=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return Zt=!1,Ox(n,s,o);Zt=(n.flags&131072)!==0}else Zt=!1,mt&&(s.flags&1048576)!==0&&em(s,Jo,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;dl(n,s),n=s.pendingProps;var p=ui(s,$t.current);gi(s,o),p=Pu(null,s,h,n,p,o);var v=Tu();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xt(h)?(v=!0,Ko(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Au(s),p.updater=cl,s.stateNode=p,p._reactInternals=s,Fu(s,h,n,o),s=Bu(null,s,h,!0,v,o)):(s.tag=0,mt&&v&&mu(s),Vt(null,s,p,o),s=s.child),s;case 16:h=s.elementType;e:{switch(dl(n,s),n=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=Gx(h),n=Rn(h,n),p){case 0:s=zu(null,s,h,n,o);break e;case 1:s=Km(null,s,h,n,o);break e;case 11:s=Bm(null,s,h,n,o);break e;case 14:s=Wm(null,s,h,Rn(h.type,n),o);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Rn(h,p),zu(n,s,h,p,o);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Rn(h,p),Km(n,s,h,p,o);case 3:e:{if(Gm(s),n===null)throw Error(r(387));h=s.pendingProps,v=s.memoizedState,p=v.element,cm(n,s),nl(s,h,null,o);var A=s.memoizedState;if(h=A.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=yi(Error(r(423)),s),s=Ym(n,s,h,o,p);break e}else if(h!==p){p=yi(Error(r(424)),s),s=Ym(n,s,h,o,p);break e}else for(cn=Ur(s.stateNode.containerInfo.firstChild),ln=s,mt=!0,Cn=null,o=om(s,null,h,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fi(),h===p){s=vr(n,s,o);break e}Vt(n,s,h,o)}s=s.child}return s;case 5:return hm(s),n===null&&vu(s),h=s.type,p=s.pendingProps,v=n!==null?n.memoizedProps:null,A=p.children,lu(h,p)?A=null:v!==null&&lu(h,v)&&(s.flags|=32),qm(n,s),Vt(n,s,A,o),s.child;case 6:return n===null&&vu(s),null;case 13:return Jm(n,s,o);case 4:return Eu(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=mi(s,null,h,o):Vt(n,s,h,o),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Rn(h,p),Bm(n,s,h,p,o);case 7:return Vt(n,s,s.pendingProps,o),s.child;case 8:return Vt(n,s,s.pendingProps.children,o),s.child;case 12:return Vt(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,v=s.memoizedProps,A=p.value,st(Zo,h._currentValue),h._currentValue=A,v!==null)if(kn(v.value,A)){if(v.children===p.children&&!Qt.current){s=vr(n,s,o);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var O=v.dependencies;if(O!==null){A=v.child;for(var M=O.firstContext;M!==null;){if(M.context===h){if(v.tag===1){M=gr(-1,o&-o),M.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?M.next=M:(M.next=oe.next,oe.next=M),Y.pending=M}}v.lanes|=o,M=v.alternate,M!==null&&(M.lanes|=o),_u(v.return,o,s),O.lanes|=o;break}M=M.next}}else if(v.tag===10)A=v.type===s.type?null:v.child;else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=o,O=A.alternate,O!==null&&(O.lanes|=o),_u(A,o,s),A=v.sibling}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===s){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}Vt(n,s,p.children,o),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,gi(s,o),p=_n(p),h=h(p),s.flags|=1,Vt(n,s,h,o),s.child;case 14:return h=s.type,p=Rn(h,s.pendingProps),p=Rn(h.type,p),Wm(n,s,h,p,o);case 15:return Hm(n,s,s.type,s.pendingProps,o);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Rn(h,p),dl(n,s),s.tag=1,Xt(h)?(n=!0,Ko(s)):n=!1,gi(s,o),Im(s,h,p),Fu(s,h,p,o),Bu(null,s,h,!0,n,o);case 19:return Xm(n,s,o);case 22:return Vm(n,s,o)}throw Error(r(156,s.tag))};function _p(n,s){return wt(n,s)}function Kx(n,s,o,h){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,s,o,h){return new Kx(n,s,o,h)}function ld(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gx(n){if(typeof n=="function")return ld(n)?1:0;if(n!=null){if(n=n.$$typeof,n===de)return 11;if(n===te)return 14}return 2}function Qr(n,s){var o=n.alternate;return o===null?(o=En(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function _l(n,s,o,h,p,v){var A=2;if(h=n,typeof n=="function")ld(n)&&(A=1);else if(typeof n=="string")A=5;else e:switch(n){case k:return Ms(o.children,p,v,s);case z:A=8,p|=8;break;case W:return n=En(12,o,s,p|2),n.elementType=W,n.lanes=v,n;case fe:return n=En(13,o,s,p),n.elementType=fe,n.lanes=v,n;case le:return n=En(19,o,s,p),n.elementType=le,n.lanes=v,n;case V:return Sl(o,p,v,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:A=10;break e;case ae:A=9;break e;case de:A=11;break e;case te:A=14;break e;case Q:A=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=En(A,o,s,p),s.elementType=n,s.type=h,s.lanes=v,s}function Ms(n,s,o,h){return n=En(7,n,h,s),n.lanes=o,n}function Sl(n,s,o,h){return n=En(22,n,h,s),n.elementType=V,n.lanes=o,n.stateNode={isHidden:!1},n}function cd(n,s,o){return n=En(6,n,null,s),n.lanes=o,n}function ud(n,s,o){return s=En(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Yx(n,s,o,h,p){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function dd(n,s,o,h,p,v,A,O,M){return n=new Yx(n,s,o,O,M),s===1?(s=1,v===!0&&(s|=8)):s=0,v=En(3,null,null,s),n.current=v,v.stateNode=n,v.memoizedState={element:h,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(v),n}function Jx(n,s,o){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:h==null?null:""+h,children:n,containerInfo:s,implementation:o}}function Sp(n){if(!n)return Br;n=n._reactInternals;e:{if(Ne(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var o=n.type;if(Xt(o))return Qf(n,o,s)}return s}function Ap(n,s,o,h,p,v,A,O,M){return n=dd(o,h,!0,n,p,v,A,O,M),n.context=Sp(null),o=n.current,h=qt(),p=Yr(o),v=gr(h,p),v.callback=s??null,Vr(o,v,p),n.current.lanes=p,ua(n,p,h),tn(n,h),n}function Al(n,s,o,h){var p=s.current,v=qt(),A=Yr(p);return o=Sp(o),s.context===null?s.context=o:s.pendingContext=o,s=gr(v,A),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=Vr(p,s,A),n!==null&&(On(n,p,A,v),tl(n,p,A)),A}function El(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ep(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function hd(n,s){Ep(n,s),(n=n.alternate)&&Ep(n,s)}function Qx(){return null}var jp=typeof reportError=="function"?reportError:function(n){console.error(n)};function fd(n){this._internalRoot=n}jl.prototype.render=fd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Al(n,s,null,null)},jl.prototype.unmount=fd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ds(function(){Al(null,n,null,null)}),s[dr]=null}};function jl(n){this._internalRoot=n}jl.prototype.unstable_scheduleHydration=function(n){if(n){var s=cf();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Mr.length&&s!==0&&s<Mr[o].priority;o++);Mr.splice(o,0,n),o===0&&hf(n)}};function md(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Nl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Np(){}function Xx(n,s,o,h,p){if(p){if(typeof h=="function"){var v=h;h=function(){var Y=El(A);v.call(Y)}}var A=Ap(s,h,n,0,null,!1,!1,"",Np);return n._reactRootContainer=A,n[dr]=A.current,Aa(n.nodeType===8?n.parentNode:n),Ds(),A}for(;p=n.lastChild;)n.removeChild(p);if(typeof h=="function"){var O=h;h=function(){var Y=El(M);O.call(Y)}}var M=dd(n,0,!1,null,null,!1,!1,"",Np);return n._reactRootContainer=M,n[dr]=M.current,Aa(n.nodeType===8?n.parentNode:n),Ds(function(){Al(s,M,o,h)}),M}function kl(n,s,o,h,p){var v=o._reactRootContainer;if(v){var A=v;if(typeof p=="function"){var O=p;p=function(){var M=El(A);O.call(M)}}Al(s,A,n,p)}else A=Xx(o,s,n,p,h);return El(A)}of=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=Es(s.pendingLanes);o!==0&&(Fc(s,o|1),tn(s,tt()),(Qe&6)===0&&(bi=tt()+500,Wr()))}break;case 13:Ds(function(){var h=pr(n,1);if(h!==null){var p=qt();On(h,n,1,p)}}),hd(n,1)}},$c=function(n){if(n.tag===13){var s=pr(n,134217728);if(s!==null){var o=qt();On(s,n,134217728,o)}hd(n,134217728)}},lf=function(n){if(n.tag===13){var s=Yr(n),o=pr(n,s);if(o!==null){var h=qt();On(o,n,s,h)}hd(n,s)}},cf=function(){return nt},uf=function(n,s){var o=nt;try{return nt=n,s()}finally{nt=o}},Rr=function(n,s,o){switch(s){case"input":if(jt(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var h=o[s];if(h!==n&&h.form===n.form){var p=Vo(h);if(!p)throw Error(r(90));I(h),jt(h,p)}}}break;case"textarea":Wn(n,o);break;case"select":s=o.value,s!=null&&Nr(n,!!o.multiple,s,!1)}},oa=id,xs=Ds;var Zx={usingClientEntryPoint:!1,Events:[Na,li,Vo,aa,ko,id]},za={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eb={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ye(n),n===null?null:n.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||Qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{lr=Cl.inject(eb),Ht=Cl}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zx,nn.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!md(s))throw Error(r(200));return Jx(n,s,null,o)},nn.createRoot=function(n,s){if(!md(n))throw Error(r(299));var o=!1,h="",p=jp;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=dd(n,1,!1,null,null,o,!1,h,p),n[dr]=s.current,Aa(n.nodeType===8?n.parentNode:n),new fd(s)},nn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Ye(s),n=n===null?null:n.stateNode,n},nn.flushSync=function(n){return Ds(n)},nn.hydrate=function(n,s,o){if(!Nl(s))throw Error(r(200));return kl(null,n,s,!0,o)},nn.hydrateRoot=function(n,s,o){if(!md(n))throw Error(r(405));var h=o!=null&&o.hydratedSources||null,p=!1,v="",A=jp;if(o!=null&&(o.unstable_strictMode===!0&&(p=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),s=Ap(s,null,n,1,o??null,p,!1,v,A),n[dr]=s.current,Aa(n),h)for(n=0;n<h.length;n++)o=h[n],p=o._getVersion,p=p(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,p]:s.mutableSourceEagerHydrationData.push(o,p);return new jl(s)},nn.render=function(n,s,o){if(!Nl(s))throw Error(r(200));return kl(null,n,s,!1,o)},nn.unmountComponentAtNode=function(n){if(!Nl(n))throw Error(r(40));return n._reactRootContainer?(Ds(function(){kl(null,null,n,!1,function(){n._reactRootContainer=null,n[dr]=null})}),!0):!1},nn.unstable_batchedUpdates=id,nn.unstable_renderSubtreeIntoContainer=function(n,s,o,h){if(!Nl(o))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return kl(n,s,o,!1,h)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Ip;function _v(){if(Ip)return vd.exports;Ip=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vd.exports=ob(),vd.exports}var Lp;function lb(){if(Lp)return Rl;Lp=1;var e=_v();return Rl.createRoot=e.createRoot,Rl.hydrateRoot=e.hydrateRoot,Rl}var Sv=lb();const Av=xv({__proto__:null},[Sv]);var x=_h();const es=bv(x),Ev=xv({__proto__:null,default:es},[x]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jv=e=>{throw TypeError(e)},cb=(e,t,r)=>t.has(e)||jv("Cannot "+r),xd=(e,t,r)=>(cb(e,t,"read from private field"),r?r.call(e):t.get(e)),ub=(e,t,r)=>t.has(e)?jv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Mp="popstate";function db(e={}){function t(i,a){let{pathname:l,search:c,hash:d}=i.location;return no("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:sr(a)}return fb(t,r,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hb(){return Math.random().toString(36).substring(2,10)}function Fp(e,t){return{usr:e.state,key:e.key,idx:t}}function no(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ms(t):t,state:r,key:t&&t.key||i||hb()}}function sr({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ms(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function fb(e,t,r,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",f=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function w(){d="POP";let E=g(),C=E==null?null:E-m;m=E,f&&f({action:d,location:_.location,delta:C})}function b(E,C){d="PUSH";let j=no(_.location,E,C);m=g()+1;let T=Fp(j,m),L=_.createHref(j);try{c.pushState(T,"",L)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(L)}l&&f&&f({action:d,location:_.location,delta:1})}function y(E,C){d="REPLACE";let j=no(_.location,E,C);m=g();let T=Fp(j,m),L=_.createHref(j);c.replaceState(T,"",L),l&&f&&f({action:d,location:_.location,delta:0})}function S(E){return Nv(E)}let _={get action(){return d},get location(){return e(a,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Mp,w),f=E,()=>{a.removeEventListener(Mp,w),f=null}},createHref(E){return t(a,E)},createURL:S,encodeLocation(E){let C=S(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:y,go(E){return c.go(E)}};return _}function Nv(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:sr(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}var Ya,$p=class{constructor(e){if(ub(this,Ya,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(xd(this,Ya).has(e))return xd(this,Ya).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){xd(this,Ya).set(e,t)}};Ya=new WeakMap;var mb=new Set(["lazy","caseSensitive","path","id","index","children"]);function pb(e){return mb.has(e)}var gb=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function vb(e){return gb.has(e)}function yb(e){return e.index===!0}function ro(e,t,r=[],i={},a=!1){return e.map((l,c)=>{let d=[...r,String(c)],f=typeof l.id=="string"?l.id:d.join("-");if(Ke(l.index!==!0||!l.children,"Cannot specify children on an index route"),Ke(a||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),yb(l)){let m={...l,id:f};return i[f]=Up(m,t(m)),m}else{let m={...l,id:f,children:void 0};return i[f]=Up(m,t(m)),l.children&&(m.children=ro(l.children,t,d,i,a)),m}})}function Up(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function rs(e,t,r="/"){return Ja(e,t,r,!1)}function Ja(e,t,r,i){let a=typeof t=="string"?ms(t):t,l=Nn(a.pathname||"/",r);if(l==null)return null;let c=Cv(e);wb(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=Rb(l);d=kb(c[f],m,i)}return d}function kv(e,t){let{route:r,pathname:i,params:a}=e;return{id:r.id,pathname:i,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Cv(e,t=[],r=[],i="",a=!1){let l=(c,d,f=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;Ke(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let w=nr([i,g.relativePath]),b=r.concat(g);c.children&&c.children.length>0&&(Ke(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Cv(c.children,t,b,w,f)),!(c.path==null&&!c.index)&&t.push({path:w,score:jb(w,c.index),routesMeta:b})};return e.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let m of Rv(c.path))l(c,d,!0,m)}),t}function Rv(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Rv(i.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function wb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Nb(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var xb=/^:[\w-]+$/,bb=3,_b=2,Sb=1,Ab=10,Eb=-2,zp=e=>e==="*";function jb(e,t){let r=e.split("/"),i=r.length;return r.some(zp)&&(i+=Eb),t&&(i+=_b),r.filter(a=>!zp(a)).reduce((a,l)=>a+(xb.test(l)?bb:l===""?Sb:Ab),i)}function Nb(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function kb(e,t,r=!1){let{routesMeta:i}=e,a={},l="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",w=sc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!w&&m&&r&&!i[i.length-1].route.index&&(w=sc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:nr([l,w.pathname]),pathnameBase:Ob(nr([l,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(l=nr([l,w.pathnameBase]))}return c}function sc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=Cb(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:w},b)=>{if(g==="*"){let S=d[b]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const y=d[b];return w&&!y?m[g]=void 0:m[g]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function Cb(e,t=!1,r=!0){bt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function Rb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function Pb({basename:e,pathname:t}){return t==="/"?e:nr([e,t])}var Pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sh=e=>Pv.test(e);function Tb(e,t="/"){let{pathname:r,search:i="",hash:a=""}=typeof e=="string"?ms(e):e,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=Bp(r.substring(1),"/"):l=Bp(r,t)):l=t,{pathname:l,search:Db(i),hash:Ib(a)}}function Bp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function bd(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gc(e){let t=Tv(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function vc(e,t,r,i=!1){let a;typeof e=="string"?a=ms(e):(a={...e},Ke(!a.pathname||!a.pathname.includes("?"),bd("?","pathname","search",a)),Ke(!a.pathname||!a.pathname.includes("#"),bd("#","pathname","hash",a)),Ke(!a.search||!a.search.includes("#"),bd("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=r;else{let w=t.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),w-=1;a.pathname=b.join("/")}d=w>=0?t[w]:"/"}let f=Tb(a,d),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var nr=e=>e.join("/").replace(/\/\/+/g,"/"),Ob=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Db=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ib=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,po=class{constructor(e,t,r,i=!1){this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function so(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function go(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Dv(e,t){let r=e;if(typeof r!="string"||!Pv.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,a=!1;if(Ov)try{let l=new URL(window.location.href),c=r.startsWith("//")?new URL(l.protocol+r):new URL(r),d=Nn(c.pathname,t);c.origin===l.origin&&d!=null?r=d+c.search+c.hash:a=!0}catch{bt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:r}}var as=Symbol("Uninstrumented");function Lb(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(l){let c=Object.keys(r);for(let d of c)l[d]&&r[d].push(l[d])}}));let i={};if(typeof t.lazy=="function"&&r.lazy.length>0){let a=Fi(r.lazy,t.lazy,()=>{});a&&(i.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(l=>{let c=a[l],d=r[`lazy.${l}`];if(typeof c=="function"&&d.length>0){let f=Fi(d,c,()=>{});f&&(i.lazy=Object.assign(i.lazy||{},{[l]:f}))}})}return["loader","action"].forEach(a=>{let l=t[a];if(typeof l=="function"&&r[a].length>0){let c=l[as]??l,d=Fi(r[a],c,(...f)=>Wp(f[0]));d&&(a==="loader"&&c.hydrate===!0&&(d.hydrate=!0),d[as]=c,i[a]=d)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(i.middleware=t.middleware.map(a=>{let l=a[as]??a,c=Fi(r.middleware,l,(...d)=>Wp(d[0]));return c?(c[as]=l,c):a})),i}function Mb(e,t){let r={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(a){let l=Object.keys(a);for(let c of l)a[c]&&r[c].push(a[c])}})),r.navigate.length>0){let i=e.navigate[as]??e.navigate,a=Fi(r.navigate,i,(...l)=>{let[c,d]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?sr(c):".",...Hp(e,d??{})}});a&&(a[as]=i,e.navigate=a)}if(r.fetch.length>0){let i=e.fetch[as]??e.fetch,a=Fi(r.fetch,i,(...l)=>{let[c,,d,f]=l;return{href:d??".",fetcherKey:c,...Hp(e,f??{})}});a&&(a[as]=i,e.fetch=a)}return e}function Fi(e,t,r){return e.length===0?null:async(...i)=>{let a=await Iv(e,r(...i),()=>t(...i),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function Iv(e,t,r,i){let a=e[i],l;if(a){let c,d=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=Iv(e,t,r,i-1),l=await c,Ke(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await a(d,t)}catch(f){console.error("An instrumentation function threw an error:",f)}c||await d(),await c}else try{l={type:"success",value:await r()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Wp(e){let{request:t,context:r,params:i,unstable_pattern:a}=e;return{request:Fb(t),params:{...i},unstable_pattern:a,context:$b(r)}}function Hp(e,t){return{currentUrl:sr(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function Fb(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function $b(e){if(zb(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var Ub=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zb(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Ub}var Lv=["POST","PUT","PATCH","DELETE"],Bb=new Set(Lv),Wb=["GET",...Lv],Hb=new Set(Wb),Mv=new Set([301,302,303,307,308]),Vb=new Set([307,308]),_d={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Kb=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Fv="remix-router-transitions",$v=Symbol("ResetLoaderData");function Gb(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Ke(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],a=e.mapRouteProperties||Kb,l=a;if(e.unstable_instrumentations){let D=e.unstable_instrumentations;l=B=>({...a(B),...Lb(D.map(G=>G.route).filter(Boolean),B)})}let c={},d=ro(e.routes,l,void 0,c),f,m=e.basename||"/";m.startsWith("/")||(m=`/${m}`);let g=e.dataStrategy||Zb,w={...e.future},b=null,y=new Set,S=null,_=null,E=null,C=e.hydrationData!=null,j=rs(d,e.history.location,m),T=!1,L=null,N;if(j==null&&!e.patchRoutesOnNavigation){let D=jn(404,{pathname:e.history.location.pathname}),{matches:B,route:G}=Pl(d);N=!0,j=B,L={[G.id]:D}}else if(j&&!e.hydrationData&&xs(j,d,e.history.location.pathname).active&&(j=null),j)if(j.some(D=>D.route.lazy))N=!1;else if(!j.some(D=>Ah(D.route)))N=!0;else{let D=e.hydrationData?e.hydrationData.loaderData:null,B=e.hydrationData?e.hydrationData.errors:null;if(B){let G=j.findIndex(ie=>B[ie.route.id]!==void 0);N=j.slice(0,G+1).every(ie=>!qd(ie.route,D,B))}else N=j.every(G=>!qd(G.route,D,B))}else{N=!1,j=[];let D=xs(null,d,e.history.location.pathname);D.active&&D.matches&&(T=!0,j=D.matches)}let $,k={historyAction:e.history.action,location:e.history.location,matches:j,initialized:N,navigation:_d,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||L,fetchers:new Map,blockers:new Map},z="POP",W=null,J=!1,ae,de=!1,fe=new Map,le=null,te=!1,Q=!1,V=new Set,P=new Map,Z=0,X=-1,R=new Map,H=new Set,ne=new Map,ce=new Map,ge=new Set,_e=new Map,ee,me=null;function ye(){if(b=e.history.listen(({action:D,location:B,delta:G})=>{if(ee){ee(),ee=void 0;return}bt(_e.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=or({currentLocation:k.location,nextLocation:B,historyAction:D});if(ie&&G!=null){let pe=new Promise(Pe=>{ee=Pe});e.history.go(G*-1),Rr(ie,{state:"blocked",location:B,proceed(){Rr(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),pe.then(()=>e.history.go(G))},reset(){let Pe=new Map(k.blockers);Pe.set(ie,Wa),I({blockers:Pe})}}),W==null||W.resolve(),W=null;return}return ht(D,B)}),r){v_(t,fe);let D=()=>y_(t,fe);t.addEventListener("pagehide",D),le=()=>t.removeEventListener("pagehide",D)}return k.initialized||ht("POP",k.location,{initialHydration:!0}),$}function Ce(){b&&b(),le&&le(),y.clear(),ae&&ae.abort(),k.fetchers.forEach((D,B)=>sa(B)),k.blockers.forEach((D,B)=>ei(B))}function F(D){return y.add(D),()=>y.delete(D)}function I(D,B={}){D.matches&&(D.matches=D.matches.map(pe=>{let Pe=c[pe.route.id],Ie=pe.route;return Ie.element!==Pe.element||Ie.errorElement!==Pe.errorElement||Ie.hydrateFallbackElement!==Pe.hydrateFallbackElement?{...pe,route:Pe}:pe})),k={...k,...D};let G=[],ie=[];k.fetchers.forEach((pe,Pe)=>{pe.state==="idle"&&(ge.has(Pe)?G.push(Pe):ie.push(Pe))}),ge.forEach(pe=>{!k.fetchers.has(pe)&&!P.has(pe)&&G.push(pe)}),[...y].forEach(pe=>pe(k,{deletedFetchers:G,newErrors:D.errors??null,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),G.forEach(pe=>sa(pe)),ie.forEach(pe=>k.fetchers.delete(pe))}function re(D,B,{flushSync:G}={}){var ze,Oe;let ie=k.actionData!=null&&k.navigation.formMethod!=null&&Wt(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ze=D.state)==null?void 0:ze._isRedirect)!==!0,pe;B.actionData?Object.keys(B.actionData).length>0?pe=B.actionData:pe=null:ie?pe=k.actionData:pe=null;let Pe=B.loaderData?eg(k.loaderData,B.loaderData,B.matches||[],B.errors):k.loaderData,Ie=k.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((He,Ye)=>Ie.set(Ye,Wa)));let we=te?!1:oa(D,B.matches||k.matches),Se=J===!0||k.navigation.formMethod!=null&&Wt(k.navigation.formMethod)&&((Oe=D.state)==null?void 0:Oe._isRedirect)!==!0;f&&(d=f,f=void 0),te||z==="POP"||(z==="PUSH"?e.history.push(D,D.state):z==="REPLACE"&&e.history.replace(D,D.state));let Ne;if(z==="POP"){let He=fe.get(k.location.pathname);He&&He.has(D.pathname)?Ne={currentLocation:k.location,nextLocation:D}:fe.has(D.pathname)&&(Ne={currentLocation:D,nextLocation:k.location})}else if(de){let He=fe.get(k.location.pathname);He?He.add(D.pathname):(He=new Set([D.pathname]),fe.set(k.location.pathname,He)),Ne={currentLocation:k.location,nextLocation:D}}I({...B,actionData:pe,loaderData:Pe,historyAction:z,location:D,initialized:!0,navigation:_d,revalidation:"idle",restoreScrollPosition:we,preventScrollReset:Se,blockers:Ie},{viewTransitionOpts:Ne,flushSync:G===!0}),z="POP",J=!1,de=!1,te=!1,Q=!1,W==null||W.resolve(),W=null,me==null||me.resolve(),me=null}async function Ve(D,B){if(W==null||W.resolve(),W=null,typeof D=="number"){W||(W=sg());let Ye=W.promise;return e.history.go(D),Ye}let G=Vd(k.location,k.matches,m,D,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ie,submission:pe,error:Pe}=Vp(!1,G,B),Ie=k.location,we=no(k.location,ie,B&&B.state);we={...we,...e.history.encodeLocation(we)};let Se=B&&B.replace!=null?B.replace:void 0,Ne="PUSH";Se===!0?Ne="REPLACE":Se===!1||pe!=null&&Wt(pe.formMethod)&&pe.formAction===k.location.pathname+k.location.search&&(Ne="REPLACE");let ze=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Oe=(B&&B.flushSync)===!0,He=or({currentLocation:Ie,nextLocation:we,historyAction:Ne});if(He){Rr(He,{state:"blocked",location:we,proceed(){Rr(He,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Ve(D,B)},reset(){let Ye=new Map(k.blockers);Ye.set(He,Wa),I({blockers:Ye})}});return}await ht(Ne,we,{submission:pe,pendingError:Pe,preventScrollReset:ze,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Oe,callSiteDefaultShouldRevalidate:B&&B.unstable_defaultShouldRevalidate})}function Ze(){me||(me=sg()),ys(),I({revalidation:"loading"});let D=me.promise;return k.navigation.state==="submitting"?D:k.navigation.state==="idle"?(ht(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),D):(ht(z||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:de===!0}),D)}async function ht(D,B,G){ae&&ae.abort(),ae=null,z=D,te=(G&&G.startUninterruptedRevalidation)===!0,ko(k.location,k.matches),J=(G&&G.preventScrollReset)===!0,de=(G&&G.enableViewTransition)===!0;let ie=f||d,pe=G&&G.overrideNavigation,Pe=G!=null&&G.initialHydration&&k.matches&&k.matches.length>0&&!T?k.matches:rs(ie,B,m),Ie=(G&&G.flushSync)===!0;if(Pe&&k.initialized&&!Q&&o_(k.location,B)&&!(G&&G.submission&&Wt(G.submission.formMethod))){re(B,{matches:Pe},{flushSync:Ie});return}let we=xs(Pe,ie,B.pathname);if(we.active&&we.matches&&(Pe=we.matches),!Pe){let{error:wt,notFoundMatches:Pt,route:et}=Hn(B.pathname);re(B,{matches:Pt,loaderData:{},errors:{[et.id]:wt}},{flushSync:Ie});return}ae=new AbortController;let Se=Di(e.history,B,ae.signal,G&&G.submission),Ne=e.getContext?await e.getContext():new $p,ze;if(G&&G.pendingError)ze=[ss(Pe).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Wt(G.submission.formMethod)){let wt=await jt(Se,B,G.submission,Pe,Ne,we.active,G&&G.initialHydration===!0,{replace:G.replace,flushSync:Ie});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[Pt,et]=wt.pendingActionResult;if(hn(et)&&so(et.error)&&et.error.status===404){ae=null,re(B,{matches:wt.matches,loaderData:{},errors:{[Pt]:et.error}});return}}Pe=wt.matches||Pe,ze=wt.pendingActionResult,pe=Sd(B,G.submission),Ie=!1,we.active=!1,Se=Di(e.history,Se.url,Se.signal)}let{shortCircuited:Oe,matches:He,loaderData:Ye,errors:St}=await Bn(Se,B,Pe,Ne,we.active,pe,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Ie,ze,G&&G.callSiteDefaultShouldRevalidate);Oe||(ae=null,re(B,{matches:He||Pe,...tg(ze),loaderData:Ye,errors:St}))}async function jt(D,B,G,ie,pe,Pe,Ie,we={}){ys();let Se=p_(B,G);if(I({navigation:Se},{flushSync:we.flushSync===!0}),Pe){let Oe=await Pr(ie,B.pathname,D.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){if(Oe.partialMatches.length===0){let{matches:Ye,route:St}=Pl(d);return{matches:Ye,pendingActionResult:[St.id,{type:"error",error:Oe.error}]}}let He=ss(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[He,{type:"error",error:Oe.error}]}}else if(Oe.matches)ie=Oe.matches;else{let{notFoundMatches:He,error:Ye,route:St}=Hn(B.pathname);return{matches:He,pendingActionResult:[St.id,{type:"error",error:Ye}]}}}let Ne,ze=Xl(ie,B);if(!ze.route.action&&!ze.route.lazy)Ne={type:"error",error:jn(405,{method:D.method,pathname:B.pathname,routeId:ze.route.id})};else{let Oe=Ui(l,c,D,ie,ze,Ie?[]:i,pe),He=await kr(D,Oe,pe,null);if(Ne=He[ze.route.id],!Ne){for(let Ye of ie)if(He[Ye.route.id]){Ne=He[Ye.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(Hs(Ne)){let Oe;return we&&we.replace!=null?Oe=we.replace:Oe=Qp(Ne.response.headers.get("Location"),new URL(D.url),m,e.history)===k.location.pathname+k.location.search,await Wn(D,Ne,!0,{submission:G,replace:Oe}),{shortCircuited:!0}}if(hn(Ne)){let Oe=ss(ie,ze.route.id);return(we&&we.replace)!==!0&&(z="PUSH"),{matches:ie,pendingActionResult:[Oe.route.id,Ne,ze.route.id]}}return{matches:ie,pendingActionResult:[ze.route.id,Ne]}}async function Bn(D,B,G,ie,pe,Pe,Ie,we,Se,Ne,ze,Oe,He){let Ye=Pe||Sd(B,Ie),St=Ie||we||rg(Ye),wt=!te&&!Ne;if(pe){if(wt){let rt=sn(Oe);I({navigation:Ye,...rt!==void 0?{actionData:rt}:{}},{flushSync:ze})}let Je=await Pr(G,B.pathname,D.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){if(Je.partialMatches.length===0){let{matches:Or,route:cr}=Pl(d);return{matches:Or,loaderData:{},errors:{[cr.id]:Je.error}}}let rt=ss(Je.partialMatches).route.id;return{matches:Je.partialMatches,loaderData:{},errors:{[rt]:Je.error}}}else if(Je.matches)G=Je.matches;else{let{error:rt,notFoundMatches:Or,route:cr}=Hn(B.pathname);return{matches:Or,loaderData:{},errors:{[cr.id]:rt}}}}let Pt=f||d,{dsMatches:et,revalidatingFetchers:Jt}=qp(D,ie,l,c,e.history,k,G,St,B,Ne?[]:i,Ne===!0,Q,V,ge,ne,H,Pt,m,e.patchRoutesOnNavigation!=null,Oe,He);if(X=++Z,!e.dataStrategy&&!et.some(Je=>Je.shouldLoad)&&!et.some(Je=>Je.route.middleware&&Je.route.middleware.length>0)&&Jt.length===0){let Je=Xs();return re(B,{matches:G,loaderData:{},errors:Oe&&hn(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...tg(Oe),...Je?{fetchers:new Map(k.fetchers)}:{}},{flushSync:ze}),{shortCircuited:!0}}if(wt){let Je={};if(!pe){Je.navigation=Ye;let rt=sn(Oe);rt!==void 0&&(Je.actionData=rt)}Jt.length>0&&(Je.fetchers=vs(Jt)),I(Je,{flushSync:ze})}Jt.forEach(Je=>{yn(Je.key),Je.controller&&P.set(Je.key,Je.controller)});let tt=()=>Jt.forEach(Je=>yn(Je.key));ae&&ae.signal.addEventListener("abort",tt);let{loaderResults:_s,fetcherResults:wn}=await ra(et,Jt,D,ie);if(D.signal.aborted)return{shortCircuited:!0};ae&&ae.signal.removeEventListener("abort",tt),Jt.forEach(Je=>P.delete(Je.key));let an=Tl(_s);if(an)return await Wn(D,an.result,!0,{replace:Se}),{shortCircuited:!0};if(an=Tl(wn),an)return H.add(an.key),await Wn(D,an.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Tr,errors:Ss}=Zp(k,G,_s,Oe,Jt,wn);Ne&&k.errors&&(Ss={...k.errors,...Ss});let Vn=Xs(),lr=Zs(X),Ht=Vn||lr||Jt.length>0;return{matches:G,loaderData:Tr,errors:Ss,...Ht?{fetchers:new Map(k.fetchers)}:{}}}function sn(D){if(D&&!hn(D[1]))return{[D[0]]:D[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function vs(D){return D.forEach(B=>{let G=k.fetchers.get(B.key),ie=Ha(void 0,G?G.data:void 0);k.fetchers.set(B.key,ie)}),new Map(k.fetchers)}async function Nr(D,B,G,ie){yn(D);let pe=(ie&&ie.flushSync)===!0,Pe=f||d,Ie=Vd(k.location,k.matches,m,G,B,ie==null?void 0:ie.relative),we=rs(Pe,Ie,m),Se=xs(we,Pe,Ie);if(Se.active&&Se.matches&&(we=Se.matches),!we){vn(D,B,jn(404,{pathname:Ie}),{flushSync:pe});return}let{path:Ne,submission:ze,error:Oe}=Vp(!0,Ie,ie);if(Oe){vn(D,B,Oe,{flushSync:pe});return}let He=e.getContext?await e.getContext():new $p,Ye=(ie&&ie.preventScrollReset)===!0;if(ze&&Wt(ze.formMethod)){await na(D,B,Ne,we,He,Se.active,pe,Ye,ze,ie&&ie.unstable_defaultShouldRevalidate);return}ne.set(D,{routeId:B,path:Ne}),await Ao(D,B,Ne,we,He,Se.active,pe,Ye,ze)}async function na(D,B,G,ie,pe,Pe,Ie,we,Se,Ne){ys(),ne.delete(D);let ze=k.fetchers.get(D);Yt(D,g_(Se,ze),{flushSync:Ie});let Oe=new AbortController,He=Di(e.history,G,Oe.signal,Se);if(Pe){let ft=await Pr(ie,new URL(He.url).pathname,He.signal,D);if(ft.type==="aborted")return;if(ft.type==="error"){vn(D,B,ft.error,{flushSync:Ie});return}else if(ft.matches)ie=ft.matches;else{vn(D,B,jn(404,{pathname:G}),{flushSync:Ie});return}}let Ye=Xl(ie,G);if(!Ye.route.action&&!Ye.route.lazy){let ft=jn(405,{method:Se.formMethod,pathname:G,routeId:B});vn(D,B,ft,{flushSync:Ie});return}P.set(D,Oe);let St=Z,wt=Ui(l,c,He,ie,Ye,i,pe),Pt=await kr(He,wt,pe,D),et=Pt[Ye.route.id];if(!et){for(let ft of wt)if(Pt[ft.route.id]){et=Pt[ft.route.id];break}}if(He.signal.aborted){P.get(D)===Oe&&P.delete(D);return}if(ge.has(D)){if(Hs(et)||hn(et)){Yt(D,xr(void 0));return}}else{if(Hs(et))if(P.delete(D),X>St){Yt(D,xr(void 0));return}else return H.add(D),Yt(D,Ha(Se)),Wn(He,et,!1,{fetcherSubmission:Se,preventScrollReset:we});if(hn(et)){vn(D,B,et.error);return}}let Jt=k.navigation.location||k.location,tt=Di(e.history,Jt,Oe.signal),_s=f||d,wn=k.navigation.state!=="idle"?rs(_s,k.navigation.location,m):k.matches;Ke(wn,"Didn't find any matches after fetcher action");let an=++Z;R.set(D,an);let Tr=Ha(Se,et.data);k.fetchers.set(D,Tr);let{dsMatches:Ss,revalidatingFetchers:Vn}=qp(tt,pe,l,c,e.history,k,wn,Se,Jt,i,!1,Q,V,ge,ne,H,_s,m,e.patchRoutesOnNavigation!=null,[Ye.route.id,et],Ne);Vn.filter(ft=>ft.key!==D).forEach(ft=>{let ur=ft.key,As=k.fetchers.get(ur),Es=Ha(void 0,As?As.data:void 0);k.fetchers.set(ur,Es),yn(ur),ft.controller&&P.set(ur,ft.controller)}),I({fetchers:new Map(k.fetchers)});let lr=()=>Vn.forEach(ft=>yn(ft.key));Oe.signal.addEventListener("abort",lr);let{loaderResults:Ht,fetcherResults:Je}=await ra(Ss,Vn,tt,pe);if(Oe.signal.aborted)return;if(Oe.signal.removeEventListener("abort",lr),R.delete(D),P.delete(D),Vn.forEach(ft=>P.delete(ft.key)),k.fetchers.has(D)){let ft=xr(et.data);k.fetchers.set(D,ft)}let rt=Tl(Ht);if(rt)return Wn(tt,rt.result,!1,{preventScrollReset:we});if(rt=Tl(Je),rt)return H.add(rt.key),Wn(tt,rt.result,!1,{preventScrollReset:we});let{loaderData:Or,errors:cr}=Zp(k,wn,Ht,void 0,Vn,Je);Zs(an),k.navigation.state==="loading"&&an>X?(Ke(z,"Expected pending action"),ae&&ae.abort(),re(k.navigation.location,{matches:wn,loaderData:Or,errors:cr,fetchers:new Map(k.fetchers)})):(I({errors:cr,loaderData:eg(k.loaderData,Or,wn,cr),fetchers:new Map(k.fetchers)}),Q=!1)}async function Ao(D,B,G,ie,pe,Pe,Ie,we,Se){let Ne=k.fetchers.get(D);Yt(D,Ha(Se,Ne?Ne.data:void 0),{flushSync:Ie});let ze=new AbortController,Oe=Di(e.history,G,ze.signal);if(Pe){let et=await Pr(ie,new URL(Oe.url).pathname,Oe.signal,D);if(et.type==="aborted")return;if(et.type==="error"){vn(D,B,et.error,{flushSync:Ie});return}else if(et.matches)ie=et.matches;else{vn(D,B,jn(404,{pathname:G}),{flushSync:Ie});return}}let He=Xl(ie,G);P.set(D,ze);let Ye=Z,St=Ui(l,c,Oe,ie,He,i,pe),Pt=(await kr(Oe,St,pe,D))[He.route.id];if(P.get(D)===ze&&P.delete(D),!Oe.signal.aborted){if(ge.has(D)){Yt(D,xr(void 0));return}if(Hs(Pt))if(X>Ye){Yt(D,xr(void 0));return}else{H.add(D),await Wn(Oe,Pt,!1,{preventScrollReset:we});return}if(hn(Pt)){vn(D,B,Pt.error);return}Yt(D,xr(Pt.data))}}async function Wn(D,B,G,{submission:ie,fetcherSubmission:pe,preventScrollReset:Pe,replace:Ie}={}){G||(W==null||W.resolve(),W=null),B.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let we=B.response.headers.get("Location");Ke(we,"Expected a Location header on the redirect Response"),we=Qp(we,new URL(D.url),m,e.history);let Se=no(k.location,we,{_isRedirect:!0});if(r){let St=!1;if(B.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(Sh(we)){const wt=Nv(we,!0);St=wt.origin!==t.location.origin||Nn(wt.pathname,m)==null}if(St){Ie?t.location.replace(we):t.location.assign(we);return}}ae=null;let Ne=Ie===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ze,formAction:Oe,formEncType:He}=k.navigation;!ie&&!pe&&ze&&Oe&&He&&(ie=rg(k.navigation));let Ye=ie||pe;if(Vb.has(B.response.status)&&Ye&&Wt(Ye.formMethod))await ht(Ne,Se,{submission:{...Ye,formAction:we},preventScrollReset:Pe||J,enableViewTransition:G?de:void 0});else{let St=Sd(Se,ie);await ht(Ne,Se,{overrideNavigation:St,fetcherSubmission:pe,preventScrollReset:Pe||J,enableViewTransition:G?de:void 0})}}async function kr(D,B,G,ie){var Ie;let pe,Pe={};try{pe=await t_(g,D,B,ie,G,!1)}catch(we){return B.filter(Se=>Se.shouldLoad).forEach(Se=>{Pe[Se.route.id]={type:"error",error:we}}),Pe}if(D.signal.aborted)return Pe;if(!Wt(D.method))for(let we of B){if(((Ie=pe[we.route.id])==null?void 0:Ie.type)==="error")break;!pe.hasOwnProperty(we.route.id)&&!k.loaderData.hasOwnProperty(we.route.id)&&(!k.errors||!k.errors.hasOwnProperty(we.route.id))&&we.shouldCallHandler()&&(pe[we.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${we.route.id}`)})}for(let[we,Se]of Object.entries(pe))if(d_(Se)){let Ne=Se.result;Pe[we]={type:"redirect",response:i_(Ne,D,we,B,m)}}else Pe[we]=await s_(Se);return Pe}async function ra(D,B,G,ie){let pe=kr(G,D,ie,null),Pe=Promise.all(B.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let ze=(await kr(Se.request,Se.matches,ie,Se.key))[Se.match.route.id];return{[Se.key]:ze}}else return Promise.resolve({[Se.key]:{type:"error",error:jn(404,{pathname:Se.path})}})})),Ie=await pe,we=(await Pe).reduce((Se,Ne)=>Object.assign(Se,Ne),{});return{loaderResults:Ie,fetcherResults:we}}function ys(){Q=!0,ne.forEach((D,B)=>{P.has(B)&&V.add(B),yn(B)})}function Yt(D,B,G={}){k.fetchers.set(D,B),I({fetchers:new Map(k.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function vn(D,B,G,ie={}){let pe=ss(k.matches,B);sa(D),I({errors:{[pe.route.id]:G},fetchers:new Map(k.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Cr(D){return ce.set(D,(ce.get(D)||0)+1),ge.has(D)&&ge.delete(D),k.fetchers.get(D)||qb}function ws(D,B){yn(D,B==null?void 0:B.reason),Yt(D,xr(null))}function sa(D){let B=k.fetchers.get(D);P.has(D)&&!(B&&B.state==="loading"&&R.has(D))&&yn(D),ne.delete(D),R.delete(D),H.delete(D),ge.delete(D),V.delete(D),k.fetchers.delete(D)}function Eo(D){let B=(ce.get(D)||0)-1;B<=0?(ce.delete(D),ge.add(D)):ce.set(D,B),I({fetchers:new Map(k.fetchers)})}function yn(D,B){let G=P.get(D);G&&(G.abort(B),P.delete(D))}function jo(D){for(let B of D){let G=Cr(B),ie=xr(G.data);k.fetchers.set(B,ie)}}function Xs(){let D=[],B=!1;for(let G of H){let ie=k.fetchers.get(G);Ke(ie,`Expected fetcher: ${G}`),ie.state==="loading"&&(H.delete(G),D.push(G),B=!0)}return jo(D),B}function Zs(D){let B=[];for(let[G,ie]of R)if(ie<D){let pe=k.fetchers.get(G);Ke(pe,`Expected fetcher: ${G}`),pe.state==="loading"&&(yn(G),R.delete(G),B.push(G))}return jo(B),B.length>0}function ia(D,B){let G=k.blockers.get(D)||Wa;return _e.get(D)!==B&&_e.set(D,B),G}function ei(D){k.blockers.delete(D),_e.delete(D)}function Rr(D,B){let G=k.blockers.get(D)||Wa;Ke(G.state==="unblocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="proceeding"||G.state==="blocked"&&B.state==="unblocked"||G.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${B.state}`);let ie=new Map(k.blockers);ie.set(D,B),I({blockers:ie})}function or({currentLocation:D,nextLocation:B,historyAction:G}){if(_e.size===0)return;_e.size>1&&bt(!1,"A router only supports one blocker at a time");let ie=Array.from(_e.entries()),[pe,Pe]=ie[ie.length-1],Ie=k.blockers.get(pe);if(!(Ie&&Ie.state==="proceeding")&&Pe({currentLocation:D,nextLocation:B,historyAction:G}))return pe}function Hn(D){let B=jn(404,{pathname:D}),G=f||d,{matches:ie,route:pe}=Pl(G);return{notFoundMatches:ie,route:pe,error:B}}function No(D,B,G){if(S=D,E=B,_=G||null,!C&&k.navigation===_d){C=!0;let ie=oa(k.location,k.matches);ie!=null&&I({restoreScrollPosition:ie})}return()=>{S=null,E=null,_=null}}function aa(D,B){return _&&_(D,B.map(ie=>kv(ie,k.loaderData)))||D.key}function ko(D,B){if(S&&E){let G=aa(D,B);S[G]=E()}}function oa(D,B){if(S){let G=aa(D,B),ie=S[G];if(typeof ie=="number")return ie}return null}function xs(D,B,G){if(e.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Ja(B,G,m,!0)}}else return{active:!0,matches:Ja(B,G,m,!0)||[]};return{active:!1,matches:null}}async function Pr(D,B,G,ie){if(!e.patchRoutesOnNavigation)return{type:"success",matches:D};let pe=D;for(;;){let Pe=f==null,Ie=f||d,we=c;try{await e.patchRoutesOnNavigation({signal:G,path:B,matches:pe,fetcherKey:ie,patch:(ze,Oe)=>{G.aborted||Kp(ze,Oe,Ie,we,l,!1)}})}catch(ze){return{type:"error",error:ze,partialMatches:pe}}finally{Pe&&!G.aborted&&(d=[...d])}if(G.aborted)return{type:"aborted"};let Se=rs(Ie,B,m),Ne=null;if(Se){if(Object.keys(Se[0].params).length===0)return{type:"success",matches:Se};if(Ne=Ja(Ie,B,m,!0),!(Ne&&pe.length<Ne.length&&la(pe,Ne.slice(0,pe.length))))return{type:"success",matches:Se}}if(Ne||(Ne=Ja(Ie,B,m,!0)),!Ne||la(pe,Ne))return{type:"success",matches:null};pe=Ne}}function la(D,B){return D.length===B.length&&D.every((G,ie)=>G.route.id===B[ie].route.id)}function bs(D){c={},f=ro(D,l,void 0,c)}function ca(D,B,G=!1){let ie=f==null;Kp(D,B,f||d,c,l,G),ie&&(d=[...d],I({}))}return $={get basename(){return m},get future(){return w},get state(){return k},get routes(){return d},get window(){return t},initialize:ye,subscribe:F,enableScrollRestoration:No,navigate:Ve,fetch:Nr,revalidate:Ze,createHref:D=>e.history.createHref(D),encodeLocation:D=>e.history.encodeLocation(D),getFetcher:Cr,resetFetcher:ws,deleteFetcher:Eo,dispose:Ce,getBlocker:ia,deleteBlocker:ei,patchRoutes:ca,_internalFetchControllers:P,_internalSetRoutes:bs,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){I(D)}},e.unstable_instrumentations&&($=Mb($,e.unstable_instrumentations.map(D=>D.router).filter(Boolean))),$}function Yb(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Vd(e,t,r,i,a,l){let c,d;if(a){c=[];for(let m of t)if(c.push(m),m.route.id===a){d=m;break}}else c=t,d=t[t.length-1];let f=vc(i||".",gc(c),Nn(e.pathname,r)||e.pathname,l==="path");if(i==null&&(f.search=e.search,f.hash=e.hash),(i==null||i===""||i===".")&&d){let m=jh(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(f.search),w=g.getAll("index");g.delete("index"),w.filter(y=>y).forEach(y=>g.append("index",y));let b=g.toString();f.search=b?`?${b}`:""}}return r!=="/"&&(f.pathname=Pb({basename:r,pathname:f.pathname})),sr(f)}function Vp(e,t,r){if(!r||!Yb(r))return{path:t};if(r.formMethod&&!m_(r.formMethod))return{path:t,error:jn(405,{method:r.formMethod})};let i=()=>({path:t,error:jn(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),c=Vv(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Wt(l))return i();let w=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,[y,S])=>`${b}${y}=${S}
`,""):String(r.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:w}}}else if(r.formEncType==="application/json"){if(!Wt(l))return i();try{let w=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:w,text:void 0}}}catch{return i()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let d,f;if(r.formData)d=Gd(r.formData),f=r.formData;else if(r.body instanceof FormData)d=Gd(r.body),f=r.body;else if(r.body instanceof URLSearchParams)d=r.body,f=Xp(d);else if(r.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(r.body),f=Xp(d)}catch{return i()}let m={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Wt(m.formMethod))return{path:t,submission:m};let g=ms(t);return e&&g.search&&jh(g.search)&&d.append("index",""),g.search=`?${d}`,{path:sr(g),submission:m}}function qp(e,t,r,i,a,l,c,d,f,m,g,w,b,y,S,_,E,C,j,T,L){var te;let N=T?hn(T[1])?T[1].error:T[1].data:void 0,$=a.createURL(l.location),k=a.createURL(f),z;if(g&&l.errors){let Q=Object.keys(l.errors)[0];z=c.findIndex(V=>V.route.id===Q)}else if(T&&hn(T[1])){let Q=T[0];z=c.findIndex(V=>V.route.id===Q)-1}let W=T?T[1].statusCode:void 0,J=W&&W>=400,ae={currentUrl:$,currentParams:((te=l.matches[0])==null?void 0:te.params)||{},nextUrl:k,nextParams:c[0].params,...d,actionResult:N,actionStatus:W},de=go(c),fe=c.map((Q,V)=>{let{route:P}=Q,Z=null;if(z!=null&&V>z?Z=!1:P.lazy?Z=!0:Ah(P)?g?Z=qd(P,l.loaderData,l.errors):Jb(l.loaderData,l.matches[V],Q)&&(Z=!0):Z=!1,Z!==null)return Kd(r,i,e,de,Q,m,t,Z);let X=!1;typeof L=="boolean"?X=L:J?X=!1:(w||$.pathname+$.search===k.pathname+k.search||$.search!==k.search||Qb(l.matches[V],Q))&&(X=!0);let R={...ae,defaultShouldRevalidate:X},H=Za(Q,R);return Kd(r,i,e,de,Q,m,t,H,R,L)}),le=[];return S.forEach((Q,V)=>{if(g||!c.some(ge=>ge.route.id===Q.routeId)||y.has(V))return;let P=l.fetchers.get(V),Z=P&&P.state!=="idle"&&P.data===void 0,X=rs(E,Q.path,C);if(!X){if(j&&Z)return;le.push({key:V,routeId:Q.routeId,path:Q.path,matches:null,match:null,request:null,controller:null});return}if(_.has(V))return;let R=Xl(X,Q.path),H=new AbortController,ne=Di(a,Q.path,H.signal),ce=null;if(b.has(V))b.delete(V),ce=Ui(r,i,ne,X,R,m,t);else if(Z)w&&(ce=Ui(r,i,ne,X,R,m,t));else{let ge;typeof L=="boolean"?ge=L:J?ge=!1:ge=w;let _e={...ae,defaultShouldRevalidate:ge};Za(R,_e)&&(ce=Ui(r,i,ne,X,R,m,t,_e))}ce&&le.push({key:V,routeId:Q.routeId,path:Q.path,matches:ce,match:R,request:ne,controller:H})}),{dsMatches:fe,revalidatingFetchers:le}}function Ah(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function qd(e,t,r){if(e.lazy)return!0;if(!Ah(e))return!1;let i=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!i&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!a}function Jb(e,t,r){let i=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return i||a}function Qb(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Za(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Kp(e,t,r,i,a,l){let c;if(e){let m=i[e];Ke(m,`No route found to patch children into: routeId = ${e}`),m.children||(m.children=[]),c=m.children}else c=r;let d=[],f=[];if(t.forEach(m=>{let g=c.find(w=>Uv(m,w));g?f.push({existingRoute:g,newRoute:m}):d.push(m)}),d.length>0){let m=ro(d,a,[e||"_","patch",String((c==null?void 0:c.length)||"0")],i);c.push(...m)}if(l&&f.length>0)for(let m=0;m<f.length;m++){let{existingRoute:g,newRoute:w}=f[m],b=g,[y]=ro([w],a,[],{},!0);Object.assign(b,{element:y.element?y.element:b.element,errorElement:y.errorElement?y.errorElement:b.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:b.hydrateFallbackElement})}}function Uv(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,i)=>{var a;return(a=t.children)==null?void 0:a.some(l=>Uv(r,l))}):!1}var Gp=new WeakMap,zv=({key:e,route:t,manifest:r,mapRouteProperties:i})=>{let a=r[t.id];if(Ke(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[e];if(!l)return;let c=Gp.get(a);c||(c={},Gp.set(a,c));let d=c[e];if(d)return d;let f=(async()=>{let m=pb(e),w=a[e]!==void 0&&e!=="hasErrorBoundary";if(m)bt(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(w)bt(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=await l();b!=null&&(Object.assign(a,{[e]:b}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))})();return c[e]=f,f},Yp=new WeakMap;function Xb(e,t,r,i,a){let l=r[e.id];if(Ke(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=Yp.get(l);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let w=(async()=>{Ke(typeof e.lazy=="function","No lazy route function found");let b=await e.lazy(),y={};for(let S in b){let _=b[S];if(_===void 0)continue;let E=vb(S),j=l[S]!==void 0&&S!=="hasErrorBoundary";E?bt(!E,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?bt(!j,`Route "${l.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):y[S]=_}Object.assign(l,y),Object.assign(l,{...i(l),lazy:void 0})})();return Yp.set(l,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let c=Object.keys(e.lazy),d=[],f;for(let g of c){if(a&&a.includes(g))continue;let w=zv({key:g,route:e,manifest:r,mapRouteProperties:i});w&&(d.push(w),g===t&&(f=w))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function Jp(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,l)=>{r[t[l].route.id]=a}),r}async function Zb(e){return e.matches.some(t=>t.route.middleware)?Bv(e,()=>Jp(e)):Jp(e)}function Bv(e,t){return e_(e,t,i=>{if(f_(i))throw i;return i},c_,r);function r(i,a,l){if(l)return Promise.resolve(Object.assign(l.value,{[a]:{type:"error",result:i}}));{let{matches:c}=e,d=Math.min(Math.max(c.findIndex(m=>m.route.id===a),0),Math.max(c.findIndex(m=>m.shouldCallHandler()),0)),f=ss(c,c[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function e_(e,t,r,i,a){let{matches:l,request:c,params:d,context:f,unstable_pattern:m}=e,g=l.flatMap(b=>b.route.middleware?b.route.middleware.map(y=>[b.route.id,y]):[]);return await Wv({request:c,params:d,context:f,unstable_pattern:m},g,t,r,i,a)}async function Wv(e,t,r,i,a,l,c=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=t[c];if(!f)return await r();let[m,g]=f,w,b=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await Wv(e,t,r,i,a,l,c+1)},w.value}catch(y){return w={value:await l(y,m,w)},w.value}};try{let y=await g(e,b),S=y!=null?i(y):void 0;return a(S)?S:w?S??w.value:(w={value:await b()},w.value)}catch(y){return await l(y,m,w)}}function Hv(e,t,r,i,a){let l=zv({key:"middleware",route:i.route,manifest:t,mapRouteProperties:e}),c=Xb(i.route,Wt(r.method)?"action":"loader",t,e,a);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Kd(e,t,r,i,a,l,c,d,f=null,m){let g=!1,w=Hv(e,t,r,a,l);return{...a,_lazyPromises:w,shouldLoad:d,shouldRevalidateArgs:f,shouldCallHandler(b){return g=!0,f?typeof m=="boolean"?Za(a,{...f,defaultShouldRevalidate:m}):typeof b=="boolean"?Za(a,{...f,defaultShouldRevalidate:b}):Za(a,f):d},resolve(b){let{lazy:y,loader:S,middleware:_}=a.route,E=g||d||b&&!Wt(r.method)&&(y||S),C=_&&_.length>0&&!S&&!y;return E&&(Wt(r.method)||!C)?n_({request:r,unstable_pattern:i,match:a,lazyHandlerPromise:w==null?void 0:w.handler,lazyRoutePromise:w==null?void 0:w.route,handlerOverride:b,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Ui(e,t,r,i,a,l,c,d=null){return i.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:Hv(e,t,r,f,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Kd(e,t,r,go(i),f,l,c,!0,d))}async function t_(e,t,r,i,a,l){r.some(m=>{var g;return(g=m._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(r.map(m=>{var g;return(g=m._lazyPromises)==null?void 0:g.middleware}));let c={request:t,unstable_pattern:go(r),params:r[0].params,context:a,matches:r},f=await e({...c,fetcherKey:i,runClientMiddleware:m=>{let g=c;return Bv(g,()=>m({...g,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(m=>{var g,w;return[(g=m._lazyPromises)==null?void 0:g.handler,(w=m._lazyPromises)==null?void 0:w.route]}))}catch{}return f}async function n_({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:i,lazyRoutePromise:a,handlerOverride:l,scopedContext:c}){let d,f,m=Wt(e.method),g=m?"action":"loader",w=b=>{let y,S=new Promise((C,j)=>y=j);f=()=>y(),e.signal.addEventListener("abort",f);let _=C=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${r.route.id}]`)):b({request:e,unstable_pattern:t,params:r.params,context:c},...C!==void 0?[C]:[]),E=(async()=>{try{return{type:"data",result:await(l?l(j=>_(j)):_())}}catch(C){return{type:"error",result:C}}})();return Promise.race([E,S])};try{let b=m?r.route.action:r.route.loader;if(i||a)if(b){let y,[S]=await Promise.all([w(b).catch(_=>{y=_}),i,a]);if(y!==void 0)throw y;d=S}else{await i;let y=m?r.route.action:r.route.loader;if(y)[d]=await Promise.all([w(y),a]);else if(g==="action"){let S=new URL(e.url),_=S.pathname+S.search;throw jn(405,{method:e.method,pathname:_,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(b)d=await w(b);else{let y=new URL(e.url),S=y.pathname+y.search;throw jn(404,{pathname:S})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d}async function r_(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function s_(e){var i,a,l,c,d;let{result:t,type:r}=e;if(Eh(t)){let f;try{f=await r_(t)}catch(m){return{type:"error",error:m}}return r==="error"?{type:"error",error:new po(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:"data",data:f,statusCode:t.status,headers:t.headers}}return r==="error"?ng(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:l_(t),statusCode:so(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:so(t)?t.status:void 0}:ng(t)?{type:"data",data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function i_(e,t,r,i,a){let l=e.headers.get("Location");if(Ke(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sh(l)){let c=i.slice(0,i.findIndex(d=>d.route.id===r)+1);l=Vd(new URL(t.url),c,a,l),e.headers.set("Location",l)}return e}function Qp(e,t,r,i){let a=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Sh(e)){let l=e,c=l.startsWith("//")?new URL(t.protocol+l):new URL(l);if(a.includes(c.protocol))throw new Error("Invalid redirect location");let d=Nn(c.pathname,r)!=null;if(c.origin===t.origin&&d)return c.pathname+c.search+c.hash}try{let l=i.createURL(e);if(a.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return e}function Di(e,t,r,i){let a=e.createURL(Vv(t)).toString(),l={signal:r};if(i&&Wt(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=Gd(i.formData):l.body=i.formData}return new Request(a,l)}function Gd(e){let t=new URLSearchParams;for(let[r,i]of e.entries())t.append(r,typeof i=="string"?i:i.name);return t}function Xp(e){let t=new FormData;for(let[r,i]of e.entries())t.append(r,i);return t}function a_(e,t,r,i=!1,a=!1){let l={},c=null,d,f=!1,m={},g=r&&hn(r[1])?r[1].error:void 0;return e.forEach(w=>{if(!(w.route.id in t))return;let b=w.route.id,y=t[b];if(Ke(!Hs(y),"Cannot handle redirect results in processLoaderData"),hn(y)){let S=y.error;if(g!==void 0&&(S=g,g=void 0),c=c||{},a)c[b]=S;else{let _=ss(e,b);c[_.route.id]==null&&(c[_.route.id]=S)}i||(l[b]=$v),f||(f=!0,d=so(y.error)?y.error.status:500),y.headers&&(m[b]=y.headers)}else l[b]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(d=y.statusCode),y.headers&&(m[b]=y.headers)}),g!==void 0&&r&&(c={[r[0]]:g},r[2]&&(l[r[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function Zp(e,t,r,i,a,l){let{loaderData:c,errors:d}=a_(t,r,i);return a.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:g,controller:w}=f;if(w&&w.signal.aborted)return;let b=l[m];if(Ke(b,"Did not find corresponding fetcher result"),hn(b)){let y=ss(e.matches,g==null?void 0:g.route.id);d&&d[y.route.id]||(d={...d,[y.route.id]:b.error}),e.fetchers.delete(m)}else if(Hs(b))Ke(!1,"Unhandled fetcher revalidation redirect");else{let y=xr(b.data);e.fetchers.set(m,y)}}),{loaderData:c,errors:d}}function eg(e,t,r,i){let a=Object.entries(t).filter(([,l])=>l!==$v).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of r){let c=l.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&l.route.loader&&(a[c]=e[c]),i&&i.hasOwnProperty(c))break}return a}function tg(e){return e?hn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ss(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function Pl(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function jn(e,{pathname:t,routeId:r,method:i,type:a,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",i&&t&&r?d=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${r}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",i&&t&&r?d=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new po(e||500,c,new Error(d),!0)}function Tl(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[i,a]=t[r];if(Hs(a))return{key:i,result:a}}}function Vv(e){let t=typeof e=="string"?ms(e):e;return sr({...t,hash:""})}function o_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function l_(e){var t,r;return new po(((t=e.init)==null?void 0:t.status)??500,((r=e.init)==null?void 0:r.statusText)??"Internal Server Error",e.data)}function c_(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&u_(r))}function u_(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function d_(e){return Eh(e.result)&&Mv.has(e.result.status)}function hn(e){return e.type==="error"}function Hs(e){return(e&&e.type)==="redirect"}function ng(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Eh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function h_(e){return Mv.has(e)}function f_(e){return Eh(e)&&h_(e.status)&&e.headers.has("Location")}function m_(e){return Hb.has(e.toUpperCase())}function Wt(e){return Bb.has(e.toUpperCase())}function jh(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Xl(e,t){let r=typeof t=="string"?ms(t).search:t.search;if(e[e.length-1].route.index&&jh(r||""))return e[e.length-1];let i=Tv(e);return i[i.length-1]}function rg(e){let{formMethod:t,formAction:r,formEncType:i,text:a,formData:l,json:c}=e;if(!(!t||!r||!i)){if(a!=null)return{formMethod:t,formAction:r,formEncType:i,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:t,formAction:r,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:r,formEncType:i,formData:void 0,json:c,text:void 0}}}function Sd(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function p_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ha(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function g_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function xr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function v_(e,t){try{let r=e.sessionStorage.getItem(Fv);if(r){let i=JSON.parse(r);for(let[a,l]of Object.entries(i||{}))l&&Array.isArray(l)&&t.set(a,new Set(l||[]))}}catch{}}function y_(e,t){if(t.size>0){let r={};for(let[i,a]of t)r[i]=[...a];try{e.sessionStorage.setItem(Fv,JSON.stringify(r))}catch(i){bt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function sg(){let e,t,r=new Promise((i,a)=>{e=async l=>{i(l);try{await r}catch{}},t=async l=>{a(l);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Qs=x.createContext(null);Qs.displayName="DataRouter";var vo=x.createContext(null);vo.displayName="DataRouterState";var qv=x.createContext(!1);function w_(){return x.useContext(qv)}var Nh=x.createContext({isTransitioning:!1});Nh.displayName="ViewTransition";var Kv=x.createContext(new Map);Kv.displayName="Fetchers";var x_=x.createContext(null);x_.displayName="Await";var gn=x.createContext(null);gn.displayName="Navigation";var yc=x.createContext(null);yc.displayName="Location";var Un=x.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var kh=x.createContext(null);kh.displayName="RouteError";var Gv="REACT_ROUTER_ERROR",b_="REDIRECT",__="ROUTE_ERROR_RESPONSE";function S_(e){if(e.startsWith(`${Gv}:${b_}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function A_(e){if(e.startsWith(`${Gv}:${__}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new po(t.status,t.statusText,t.data)}catch{}}function E_(e,{relative:t}={}){Ke(Ki(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=x.useContext(gn),{hash:a,pathname:l,search:c}=wo(e,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:nr([r,l])),i.createHref({pathname:d,search:c,hash:a})}function Ki(){return x.useContext(yc)!=null}function Er(){return Ke(Ki(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(yc).location}var Yv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jv(e){x.useContext(gn).static||x.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=x.useContext(Un);return e?U_():j_()}function j_(){Ke(Ki(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Qs),{basename:t,navigator:r}=x.useContext(gn),{matches:i}=x.useContext(Un),{pathname:a}=Er(),l=JSON.stringify(gc(i)),c=x.useRef(!1);return Jv(()=>{c.current=!0}),x.useCallback((f,m={})=>{if(bt(c.current,Yv),!c.current)return;if(typeof f=="number"){r.go(f);return}let g=vc(f,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:nr([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,l,a,e])}var N_=x.createContext(null);function k_(e){let t=x.useContext(Un).outlet;return x.useMemo(()=>t&&x.createElement(N_.Provider,{value:e},t),[t,e])}function wo(e,{relative:t}={}){let{matches:r}=x.useContext(Un),{pathname:i}=Er(),a=JSON.stringify(gc(r));return x.useMemo(()=>vc(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function C_(e,t,r,i,a){Ke(Ki(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(gn),{matches:c}=x.useContext(Un),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",w=d&&d.route;{let j=w&&w.path||"";Zv(m,!w||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Er(),y;y=b;let S=y.pathname||"/",_=S;if(g!=="/"){let j=g.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=rs(e,{pathname:_});return bt(w||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),bt(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),D_(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:nr([g,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:nr([g,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,r,i,a)}function R_(){let e=$_(),t=so(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,c)}var P_=x.createElement(R_,null),Qv=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=A_(e.digest);r&&(e=r)}let t=e!==void 0?x.createElement(Un.Provider,{value:this.props.routeContext},x.createElement(kh.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(T_,{error:e},t):t}};Qv.contextType=qv;var Ad=new WeakMap;function T_({children:e,error:t}){let{basename:r}=x.useContext(gn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=S_(t.digest);if(i){let a=Ad.get(t);if(a)throw a;let l=Dv(i.location,r);if(Ov&&!Ad.get(t))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ad.set(t,c),c}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function O_({routeContext:e,match:t,children:r}){let i=x.useContext(Qs);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Un.Provider,{value:e},r)}function D_(e,t=[],r=null,i=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r==null?void 0:r.errors;if(c!=null){let g=l.findIndex(w=>w.route.id&&(c==null?void 0:c[w.route.id])!==void 0);Ke(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,f=-1;if(r)for(let g=0;g<l.length;g++){let w=l[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=g),w.route.id){let{loaderData:b,errors:y}=r,S=w.route.loader&&!b.hasOwnProperty(w.route.id)&&(!y||y[w.route.id]===void 0);if(w.route.lazy||S){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&i?(g,w)=>{var b,y;i(g,{location:r.location,params:((y=(b=r.matches)==null?void 0:b[0])==null?void 0:y.params)??{},unstable_pattern:go(r.matches),errorInfo:w})}:void 0;return l.reduceRight((g,w,b)=>{let y,S=!1,_=null,E=null;r&&(y=c&&w.route.id?c[w.route.id]:void 0,_=w.route.errorElement||P_,d&&(f<0&&b===0?(Zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):f===b&&(S=!0,E=w.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,b+1)),j=()=>{let T;return y?T=_:S?T=E:w.route.Component?T=x.createElement(w.route.Component,null):w.route.element?T=w.route.element:T=g,x.createElement(O_,{match:w,routeContext:{outlet:g,matches:C,isDataRoute:r!=null},children:T})};return r&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?x.createElement(Qv,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):j()},null)}function Ch(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I_(e){let t=x.useContext(Qs);return Ke(t,Ch(e)),t}function Xv(e){let t=x.useContext(vo);return Ke(t,Ch(e)),t}function L_(e){let t=x.useContext(Un);return Ke(t,Ch(e)),t}function Rh(e){let t=L_(e),r=t.matches[t.matches.length-1];return Ke(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function M_(){return Rh("useRouteId")}function F_(){let{matches:e,loaderData:t}=Xv("useMatches");return x.useMemo(()=>e.map(r=>kv(r,t)),[e,t])}function $_(){var i;let e=x.useContext(kh),t=Xv("useRouteError"),r=Rh("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[r]}function U_(){let{router:e}=I_("useNavigate"),t=Rh("useNavigate"),r=x.useRef(!1);return Jv(()=>{r.current=!0}),x.useCallback(async(a,l={})=>{bt(r.current,Yv),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var ig={};function Zv(e,t,r){!t&&!ig[e]&&(ig[e]=!0,bt(!1,r))}var ag={};function og(e,t){!e&&!ag[t]&&(ag[t]=!0,console.warn(t))}var z_="useOptimistic",lg=Ev[z_],B_=()=>{};function W_(e){return lg?lg(e):[e,B_]}function H_(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:x.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:x.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:x.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var V_=["HydrateFallback","hydrateFallbackElement"],q_=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",r(i))}})}};function K_({router:e,flushSync:t,onError:r,unstable_useTransitions:i}){i=w_()||i;let[l,c]=x.useState(e.state),[d,f]=W_(l),[m,g]=x.useState(),[w,b]=x.useState({isTransitioning:!1}),[y,S]=x.useState(),[_,E]=x.useState(),[C,j]=x.useState(),T=x.useRef(new Map),L=x.useCallback((z,{deletedFetchers:W,newErrors:J,flushSync:ae,viewTransitionOpts:de})=>{J&&r&&Object.values(J).forEach(le=>{var te;return r(le,{location:z.location,params:((te=z.matches[0])==null?void 0:te.params)??{},unstable_pattern:go(z.matches)})}),z.fetchers.forEach((le,te)=>{le.data!==void 0&&T.current.set(te,le.data)}),W.forEach(le=>T.current.delete(le)),og(ae===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let fe=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(og(de==null||fe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!de||!fe){t&&ae?t(()=>c(z)):i===!1?c(z):x.startTransition(()=>{i===!0&&f(le=>cg(le,z)),c(z)});return}if(t&&ae){t(()=>{_&&(y==null||y.resolve(),_.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:de.currentLocation,nextLocation:de.nextLocation})});let le=e.window.document.startViewTransition(()=>{t(()=>c(z))});le.finished.finally(()=>{t(()=>{S(void 0),E(void 0),g(void 0),b({isTransitioning:!1})})}),t(()=>E(le));return}_?(y==null||y.resolve(),_.skipTransition(),j({state:z,currentLocation:de.currentLocation,nextLocation:de.nextLocation})):(g(z),b({isTransitioning:!0,flushSync:!1,currentLocation:de.currentLocation,nextLocation:de.nextLocation}))},[e.window,t,_,y,i,f,r]);x.useLayoutEffect(()=>e.subscribe(L),[e,L]),x.useEffect(()=>{w.isTransitioning&&!w.flushSync&&S(new q_)},[w]),x.useEffect(()=>{if(y&&m&&e.window){let z=m,W=y.promise,J=e.window.document.startViewTransition(async()=>{i===!1?c(z):x.startTransition(()=>{i===!0&&f(ae=>cg(ae,z)),c(z)}),await W});J.finished.finally(()=>{S(void 0),E(void 0),g(void 0),b({isTransitioning:!1})}),E(J)}},[m,y,e.window,i,f]),x.useEffect(()=>{y&&m&&d.location.key===m.location.key&&y.resolve()},[y,_,d.location,m]),x.useEffect(()=>{!w.isTransitioning&&C&&(g(C.state),b({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),j(void 0))},[w.isTransitioning,C]);let N=x.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:z=>e.navigate(z),push:(z,W,J)=>e.navigate(z,{state:W,preventScrollReset:J==null?void 0:J.preventScrollReset}),replace:(z,W,J)=>e.navigate(z,{replace:!0,state:W,preventScrollReset:J==null?void 0:J.preventScrollReset})}),[e]),$=e.basename||"/",k=x.useMemo(()=>({router:e,navigator:N,static:!1,basename:$,onError:r}),[e,N,$,r]);return x.createElement(x.Fragment,null,x.createElement(Qs.Provider,{value:k},x.createElement(vo.Provider,{value:d},x.createElement(Kv.Provider,{value:T.current},x.createElement(Nh.Provider,{value:w},x.createElement(X_,{basename:$,location:d.location,navigationType:d.historyAction,navigator:N,unstable_useTransitions:i},x.createElement(G_,{routes:e.routes,future:e.future,state:d,onError:r})))))),null)}function cg(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var G_=x.memo(Y_);function Y_({routes:e,future:t,state:r,onError:i}){return C_(e,void 0,r,i,t)}function J_({to:e,replace:t,state:r,relative:i}){Ke(Ki(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(gn);bt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(Un),{pathname:c}=Er(),d=yo(),f=vc(e,gc(l),c,i==="path"),m=JSON.stringify(f);return x.useEffect(()=>{d(JSON.parse(m),{replace:t,state:r,relative:i})},[d,m,i,t,r]),null}function Q_(e){return k_(e.context)}function X_({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ke(!Ki(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof r=="string"&&(r=ms(r));let{pathname:m="/",search:g="",hash:w="",state:b=null,key:y="default"}=r,S=x.useMemo(()=>{let _=Nn(m,d);return _==null?null:{location:{pathname:_,search:g,hash:w,state:b,key:y},navigationType:i}},[d,m,g,w,b,y,i]);return bt(S!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:x.createElement(gn.Provider,{value:f},x.createElement(yc.Provider,{children:t,value:S}))}var Zl="get",ec="application/x-www-form-urlencoded";function wc(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Z_(e){return wc(e)&&e.tagName.toLowerCase()==="button"}function eS(e){return wc(e)&&e.tagName.toLowerCase()==="form"}function tS(e){return wc(e)&&e.tagName.toLowerCase()==="input"}function nS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rS(e,t){return e.button===0&&(!t||t==="_self")&&!nS(e)}var Ol=null;function sS(){if(Ol===null)try{new FormData(document.createElement("form"),0),Ol=!1}catch{Ol=!0}return Ol}var iS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ed(e){return e!=null&&!iS.has(e)?(bt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ec}"`),null):e}function aS(e,t){let r,i,a,l,c;if(eS(e)){let d=e.getAttribute("action");i=d?Nn(d,t):null,r=e.getAttribute("method")||Zl,a=Ed(e.getAttribute("enctype"))||ec,l=new FormData(e)}else if(Z_(e)||tS(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(i=f?Nn(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Zl,a=Ed(e.getAttribute("formenctype"))||Ed(d.getAttribute("enctype"))||ec,l=new FormData(d,e),!sS()){let{name:m,type:g,value:w}=e;if(g==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,w)}}else{if(wc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zl,i=null,a=ec,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:r.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ph(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oS(e,t,r,i){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:t&&Nn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function lS(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function uS(e,t,r){let i=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await lS(l,r);return c.links?c.links():[]}return[]}));return mS(i.flat(1).filter(cS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ug(e,t,r,i,a,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,d=(f,m)=>{var g;return r[m].pathname!==f.pathname||((g=r[m].route.path)==null?void 0:g.endsWith("*"))&&r[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{var w;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function dS(e,t,{includeHydrateFallback:r}={}){return hS(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function hS(e){return[...new Set(e)]}function fS(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function mS(e,t){let r=new Set;return new Set(t),e.reduce((i,a)=>{let l=JSON.stringify(fS(a));return r.has(l)||(r.add(l),i.push({key:l,link:a})),i},[])}function ey(){let e=x.useContext(Qs);return Ph(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pS(){let e=x.useContext(vo);return Ph(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Th=x.createContext(void 0);Th.displayName="FrameworkContext";function ty(){let e=x.useContext(Th);return Ph(e,"You must render this element inside a <HydratedRouter> element"),e}function gS(e,t){let r=x.useContext(Th),[i,a]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:w}=t,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let _=C=>{C.forEach(j=>{c(j.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[e]),x.useEffect(()=>{if(i){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[i]);let y=()=>{a(!0)},S=()=>{a(!1),c(!1)};return r?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Va(d,y),onBlur:Va(f,S),onMouseEnter:Va(m,y),onMouseLeave:Va(g,S),onTouchStart:Va(w,y)}]:[!1,b,{}]}function Va(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function vS({page:e,...t}){let{router:r}=ey(),i=x.useMemo(()=>rs(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?x.createElement(wS,{page:e,matches:i,...t}):null}function yS(e){let{manifest:t,routeModules:r}=ty(),[i,a]=x.useState([]);return x.useEffect(()=>{let l=!1;return uS(e,t,r).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,r]),i}function wS({page:e,matches:t,...r}){let i=Er(),{future:a,manifest:l,routeModules:c}=ty(),{basename:d}=ey(),{loaderData:f,matches:m}=pS(),g=x.useMemo(()=>ug(e,t,m,l,i,"data"),[e,t,m,l,i]),w=x.useMemo(()=>ug(e,t,m,l,i,"assets"),[e,t,m,l,i]),b=x.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let _=new Set,E=!1;if(t.forEach(j=>{var L;let T=l.routes[j.route.id];!T||!T.hasLoader||(!g.some(N=>N.route.id===j.route.id)&&j.route.id in f&&((L=c[j.route.id])!=null&&L.shouldRevalidate)||T.hasClientLoader?E=!0:_.add(j.route.id))}),_.size===0)return[];let C=oS(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return E&&_.size>0&&C.searchParams.set("_routes",t.filter(j=>_.has(j.route.id)).map(j=>j.route.id).join(",")),[C.pathname+C.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,i,l,g,t,e,c]),y=x.useMemo(()=>dS(w,l),[w,l]),S=yS(w);return x.createElement(x.Fragment,null,b.map(_=>x.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),y.map(_=>x.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),S.map(({key:_,link:E})=>x.createElement("link",{key:_,nonce:r.nonce,...E,crossOrigin:E.crossOrigin??r.crossOrigin})))}function xS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bS&&(window.__reactRouterVersion="7.13.0")}catch{}function _S(e,t){return Gb({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:db({window:t==null?void 0:t.window}),hydrationData:SS(),routes:e,mapRouteProperties:H_,hydrationRouteProperties:V_,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function SS(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:AS(e.errors)}),e}function AS(e){if(!e)return null;let t=Object.entries(e),r={};for(let[i,a]of t)if(a&&a.__type==="RouteErrorResponse")r[i]=new po(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",r[i]=c}catch{}}if(r[i]==null){let l=new Error(a.message);l.stack="",r[i]=l}}else r[i]=a;return r}var ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ry=x.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:b,...y},S){let{basename:_,unstable_useTransitions:E}=x.useContext(gn),C=typeof m=="string"&&ny.test(m),j=Dv(m,_);m=j.to;let T=E_(m,{relative:a}),[L,N,$]=gS(i,y),k=NS(m,{replace:c,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:w,unstable_defaultShouldRevalidate:b,unstable_useTransitions:E});function z(J){t&&t(J),J.defaultPrevented||k(J)}let W=x.createElement("a",{...y,...$,href:j.absoluteURL||T,onClick:j.isExternal||l?t:z,ref:xS(S,N),target:f,"data-discover":!C&&r==="render"?"true":void 0});return L&&!C?x.createElement(x.Fragment,null,W,x.createElement(vS,{page:T})):W});ry.displayName="Link";var sy=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...m},g){let w=wo(c,{relative:m.relative}),b=Er(),y=x.useContext(vo),{navigator:S,basename:_}=x.useContext(gn),E=y!=null&&TS(w)&&d===!0,C=S.encodeLocation?S.encodeLocation(w).pathname:w.pathname,j=b.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(j=j.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&_&&(T=Nn(T,_)||T);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let N=j===C||!a&&j.startsWith(C)&&j.charAt(L)==="/",$=T!=null&&(T===C||!a&&T.startsWith(C)&&T.charAt(C.length)==="/"),k={isActive:N,isPending:$,isTransitioning:E},z=N?t:void 0,W;typeof i=="function"?W=i(k):W=[i,N?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(k):l;return x.createElement(ry,{...m,"aria-current":z,className:W,ref:g,style:J,to:c,viewTransition:d},typeof f=="function"?f(k):f)});sy.displayName="NavLink";var ES=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:a,state:l,method:c=Zl,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:b,...y},S)=>{let{unstable_useTransitions:_}=x.useContext(gn),E=RS(),C=PS(d,{relative:m}),j=c.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&ny.test(d),L=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let $=N.nativeEvent.submitter,k=($==null?void 0:$.getAttribute("formmethod"))||c,z=()=>E($||N.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:b});_&&r!==!1?x.startTransition(()=>z()):z()};return x.createElement("form",{ref:S,method:j,action:C,onSubmit:i?f:L,...y,"data-discover":!T&&e==="render"?"true":void 0})});ES.displayName="Form";function jS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iy(e){let t=x.useContext(Qs);return Ke(t,jS(e)),t}function NS(e,{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let m=yo(),g=Er(),w=wo(e,{relative:l});return x.useCallback(b=>{if(rS(b,t)){b.preventDefault();let y=r!==void 0?r:sr(g)===sr(w),S=()=>m(e,{replace:y,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});f?x.startTransition(()=>S()):S()}},[g,m,w,r,i,t,e,a,l,c,d,f])}var kS=0,CS=()=>`__${String(++kS)}__`;function RS(){let{router:e}=iy("useSubmit"),{basename:t}=x.useContext(gn),r=M_(),i=e.fetch,a=e.navigate;return x.useCallback(async(l,c={})=>{let{action:d,method:f,encType:m,formData:g,body:w}=aS(l,t);if(c.navigate===!1){let b=c.fetcherKey||CS();await i(b,r,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:w,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:w,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,t,r])}function PS(e,{relative:t}={}){let{basename:r}=x.useContext(gn),i=x.useContext(Un);Ke(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...wo(e||".",{relative:t})},c=Er();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let g=d.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:nr([r,l.pathname])),sr(l)}function TS(e,{relative:t}={}){let r=x.useContext(Nh);Ke(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iy("useViewTransitionState"),a=wo(e,{relative:t});if(!r.isTransitioning)return!1;let l=Nn(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=Nn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return sc(a.pathname,c)!=null||sc(a.pathname,l)!=null}var Gi=_v();const OS=bv(Gi);function DS(e){return x.createElement(K_,{flushSync:Gi.flushSync,...e})}var Jn=function(){return Jn=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Jn.apply(this,arguments)};function Yi(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}function IS(e,t,r,i){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(g){try{m(i.next(g))}catch(w){c(w)}}function f(g){try{m(i.throw(g))}catch(w){c(w)}}function m(g){g.done?l(g.value):a(g.value).then(d,f)}m((i=i.apply(e,t||[])).next())})}function LS(e,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,l;i<a;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}const MS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Oh extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class FS extends Oh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dg extends Oh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hg extends Oh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yd||(Yd={}));class $S{constructor(t,{headers:r={},customFetch:i,region:a=Yd.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=MS(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return IS(this,arguments,void 0,function*(r,i={}){var a;let l,c;try{const{headers:d,method:f,body:m,signal:g,timeout:w}=i;let b={},{region:y}=i;y||(y=this.region);const S=new URL(`${this.url}/${r}`);y&&y!=="any"&&(b["x-region"]=y,S.searchParams.set("forceFunctionRegion",y));let _;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(b["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(b["Content-Type"]="application/json",_=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?_=JSON.stringify(m):_=m;let E=g;w&&(c=new AbortController,l=setTimeout(()=>c.abort(),w),g?(E=c.signal,g.addEventListener("abort",()=>c.abort())):E=c.signal);const C=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:_,signal:E}).catch(N=>{throw new FS(N)}),j=C.headers.get("x-relay-error");if(j&&j==="true")throw new dg(C);if(!C.ok)throw new hg(C);let T=((a=C.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),L;return T==="application/json"?L=yield C.json():T==="application/octet-stream"||T==="application/pdf"?L=yield C.blob():T==="text/event-stream"?L=C:T==="multipart/form-data"?L=yield C.formData():L=yield C.text(),{data:L,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof hg||d instanceof dg?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var US=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},zS=class{constructor(e){var t,r,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,d=null,f=null,m=l.status,g=l.statusText;if(l.ok){var w,b;if(r.method!=="HEAD"){var y;const C=await l.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const _=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),E=(b=l.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");_&&E&&E.length>1&&(f=parseInt(E[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var S;const _=await l.text();try{c=JSON.parse(_),Array.isArray(c)&&l.status===404&&(d=[],c=null,m=200,g="OK")}catch{l.status===404&&_===""?(m=204,g="No Content"):c={message:_}}if(c&&r.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&r.shouldThrowOnError)throw new US(c)}return{error:c,data:d,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let d="",f="",m="";const g=l==null?void 0:l.cause;if(g){var w,b,y,S;const C=(w=g==null?void 0:g.message)!==null&&w!==void 0?w:"",j=(b=g==null?void 0:g.code)!==null&&b!==void 0?b:"";d=`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(S=g==null?void 0:g.name)!==null&&S!==void 0?S:"Error"}: ${C}`,j&&(d+=` (${j})`),g!=null&&g.stack&&(d+=`
${g.stack}`)}else{var _;d=(_=l==null?void 0:l.stack)!==null&&_!==void 0?_:""}const E=this.url.toString().length;return(l==null?void 0:l.name)==="AbortError"||(l==null?void 0:l.code)==="ABORT_ERR"?(m="",f="Request was aborted (timeout or manual cancellation)",E>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${E} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((g==null?void 0:g.name)==="HeadersOverflowError"||(g==null?void 0:g.code)==="UND_ERR_HEADERS_OVERFLOW")&&(m="",f="HTTP headers exceeded server limits (typically 16KB)",E>this.urlLengthLimit&&(f+=`. Your request URL is ${E} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:f,code:m},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},BS=class extends zS{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var c;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const fg=new RegExp("[,()]");var Ii=class extends BS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&fg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&fg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},WS=class{constructor(e,{headers:t={},schema:r,fetch:i,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:i}=t??{},a=r?"HEAD":"GET";let l=!1;const c=(e??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",c),i&&f.append("Prefer",`count=${i}`),new Ii({method:a,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),r||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",f.join(","))}}return new Ii({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var l;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),i&&f.append("Prefer",`count=${i}`),a||f.append("Prefer","missing=default"),Array.isArray(e)){const m=e.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(m.length>0){const g=[...new Set(m)].map(w=>`"${w}"`);d.searchParams.set("columns",g.join(","))}}return new Ii({method:c,url:d,headers:f,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const i="PATCH",{url:a,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new Ii({method:i,url:a,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Ii({method:r,url:i,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function HS(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(io(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VS(e){var t=HS(e,"string");return io(t)=="symbol"?t:t+""}function qS(e,t,r){return(t=VS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mg(Object(r),!0).forEach(function(i){qS(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mg(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var KS=class ay{constructor(t,{headers:r={},schema:i,fetch:a,timeout:l,urlLengthLimit:c=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=i,this.urlLengthLimit=c;const d=a??globalThis.fetch;l!==void 0&&l>0?this.fetch=(f,m)=>{const g=new AbortController,w=setTimeout(()=>g.abort(),l),b=m==null?void 0:m.signal;if(b){if(b.aborted)return clearTimeout(w),d(f,m);const y=()=>{clearTimeout(w),g.abort()};return b.addEventListener("abort",y,{once:!0}),d(f,Dl(Dl({},m),{},{signal:g.signal})).finally(()=>{clearTimeout(w),b.removeEventListener("abort",y)})}return d(f,Dl(Dl({},m),{},{signal:g.signal})).finally(()=>clearTimeout(w))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new WS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new ay(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:i=!1,get:a=!1,count:l}={}){var c;let d;const f=new URL(`${this.url}/rpc/${t}`);let m;const g=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(g)),w=i&&Object.values(r).some(g);w?(d="POST",m=r):i||a?(d=i?"HEAD":"GET",Object.entries(r).filter(([y,S])=>S!==void 0).map(([y,S])=>[y,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([y,S])=>{f.searchParams.append(y,S)})):(d="POST",m=r);const b=new Headers(this.headers);return w?b.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&b.set("Prefer",`count=${l}`),new Ii({method:d,url:f,headers:b,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class GS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const a=i.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const YS="2.95.3",JS=`realtime-js/${YS}`,QS="1.0.0",oy="2.0.0",pg=oy,Jd=1e4,XS=1e3,ZS=100;var ns;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ns||(ns={}));var Rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rt||(Rt={}));var Mn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mn||(Mn={}));var Qd;(function(e){e.websocket="websocket"})(Qd||(Qd={}));var Bs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bs||(Bs={}));class eA{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,i;const a=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,i;const a=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,i){var a,l;const c=t.topic,d=(a=t.ref)!==null&&a!==void 0?a:"",f=(l=t.join_ref)!==null&&l!==void 0?l:"",m=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+c.length+m.length+w.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let S=new DataView(y),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,f.length),S.setUint8(_++,d.length),S.setUint8(_++,c.length),S.setUint8(_++,m.length),S.setUint8(_++,w.length),S.setUint8(_++,r),Array.from(f,C=>S.setUint8(_++,C.charCodeAt(0))),Array.from(d,C=>S.setUint8(_++,C.charCodeAt(0))),Array.from(c,C=>S.setUint8(_++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(_++,C.charCodeAt(0))),Array.from(w,C=>S.setUint8(_++,C.charCodeAt(0)));var E=new Uint8Array(y.byteLength+i.byteLength);return E.set(new Uint8Array(y),0),E.set(new Uint8Array(i),y.byteLength),E.buffer}decode(t,r){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return r(i)}if(typeof t=="string"){const i=JSON.parse(t),[a,l,c,d,f]=i;return r({join_ref:a,ref:l,topic:c,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,i){const a=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=i.decode(t.slice(f,f+a));f=f+a;const g=i.decode(t.slice(f,f+l));f=f+l;const w=i.decode(t.slice(f,f+c));f=f+c;const b=t.slice(f,t.byteLength),y=d===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,S={type:this.BROADCAST_EVENT,event:g,payload:y};return c>0&&(S.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>r.includes(i)))}}class ly{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(it||(it={}));const gg=(e,t,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((l,c)=>(l[c]=tA(c,e,t,a),l),{}):{}},tA=(e,t,r,i)=>{const a=t.find(d=>d.name===e),l=a==null?void 0:a.type,c=r[e];return l&&!i.includes(l)?cy(l,c):Xd(c)},cy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return iA(t,r)}switch(e){case it.bool:return nA(t);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return rA(t);case it.json:case it.jsonb:return sA(t);case it.timestamp:return aA(t);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Xd(t);default:return Xd(t)}},Xd=e=>e,nA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},iA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let l;const c=e.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>cy(t,d))}return e},aA=e=>typeof e=="string"?e.replace(" ","T"):e,uy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jd{constructor(t,r,i={},a=Jd){this.channel=t,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vg||(vg={}));class eo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eo.syncState(this.state,a,l,c),this.pendingDiffs.forEach(f=>{this.state=eo.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=eo.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,a){const l=this.cloneDeep(t),c=this.transformState(r),d={},f={};return this.map(l,(m,g)=>{c[m]||(f[m]=g)}),this.map(c,(m,g)=>{const w=l[m];if(w){const b=g.map(E=>E.presence_ref),y=w.map(E=>E.presence_ref),S=g.filter(E=>y.indexOf(E.presence_ref)<0),_=w.filter(E=>b.indexOf(E.presence_ref)<0);S.length>0&&(d[m]=S),_.length>0&&(f[m]=_)}else d[m]=g}),this.syncDiff(l,{joins:d,leaves:f},i,a)}static syncDiff(t,r,i,a){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(d,f)=>{var m;const g=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(f),g.length>0){const w=t[d].map(y=>y.presence_ref),b=g.filter(y=>w.indexOf(y.presence_ref)<0);t[d].unshift(...b)}i(d,g,f)}),this.map(c,(d,f)=>{let m=t[d];if(!m)return;const g=f.map(w=>w.presence_ref);m=m.filter(w=>g.indexOf(w.presence_ref)<0),t[d]=m,a(d,m,f),m.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const a=t[i];return"metas"in a?r[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yg||(yg={}));var to;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(to||(to={}));var br;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class $i{constructor(t,r={config:{}},i){var a,l;if(this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jd(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new ly(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new eo(this),this.broadcastEndpointURL=uy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[to.PRESENCE]&&this.bindings[to.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(br.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(br.CLOSED)),this.updateJoinPayload(Object.assign({config:b},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(br.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(S=_==null?void 0:_.length)!==null&&S!==void 0?S:0,C=[];for(let j=0;j<E;j++){const T=_[j],{filter:{event:L,schema:N,table:$,filter:k}}=T,z=y&&y[j];if(z&&z.event===L&&$i.isFilterValueEqual(z.schema,N)&&$i.isFilterValueEqual(z.table,$)&&$i.isFilterValueEqual(z.filter,k))C.push(Object.assign(Object.assign({},T),{id:z.id}));else{this.unsubscribe(),this.state=Rt.errored,t==null||t(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(br.SUBSCRIBED);return}}).receive("error",y=>{this.state=Rt.errored,t==null||t(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===Rt.joined&&t===to.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,i)}async httpSend(t,r,i={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const m=await d.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,f;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new jd(this,Mn.leave,{},t),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),c}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new jd(this,t,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ZS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var a,l;const c=t.toLocaleLowerCase(),{close:d,error:f,leave:m,join:g}=Mn;if(i&&[d,f,m,g].indexOf(c)>=0&&i!==this._joinRef())return;let b=this._onMessage(c,r,i);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var S,_,E;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(_=y.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(y=>y.callback(b,i)):(l=this.bindings[c])===null||l===void 0||l.filter(y=>{var S,_,E,C,j,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const L=y.id,N=(S=y.filter)===null||S===void 0?void 0:S.event;return L&&((_=r.ids)===null||_===void 0?void 0:_.includes(L))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const L=(j=(C=y==null?void 0:y.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return L==="*"||L===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:_,table:E,commit_timestamp:C,type:j,errors:T}=S;b=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:C,eventType:j,new:{},old:{},errors:T}),this._getPayloadRecords(S))}y.callback(b,i)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const a=t.toLocaleLowerCase(),l={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&$i.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mn.close,{},t)}_onError(t){this._on(Mn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gg(t.columns,t.old_record)),r}}const Nd=()=>{},Il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oA=[1e3,2e3,5e3,1e4],lA=1e4,cA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uA{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jd,this.transport=null,this.heartbeatIntervalMs=Il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nd,this.ref=0,this.reconnectTimer=null,this.vsn=pg,this.logger=Nd,this.conn=null,this.sendBuffer=[],this.serializer=new eA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Qd.websocket}`,this.httpEndpoint=uy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=GS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return Bs.Connecting;case ns.open:return Bs.Open;case ns.closing:return Bs.Closing;default:return Bs.Closed}}isConnected(){return this.connectionState()===Bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new $i(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:i,payload:a,ref:l}=t,c=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(XS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Il.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:a,payload:l,ref:c}=r,d=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${i} ${a} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ns.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ns.open||this.conn.readyState===ns.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${i}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([cA],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,i=!1;if(t)r=t,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:JS};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Mn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new ly(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,a,l,c,d,f,m,g,w,b,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:Jd,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Il.HEARTBEAT_INTERVAL,this.worker=(l=t==null?void 0:t.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Nd,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:pg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(S=>oA[S-1]||lA),this.vsn){case QS:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:((S,_)=>_(JSON.stringify(S))),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:((S,_)=>_(JSON.parse(S)));break;case oy:this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ao=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dA(e,t,r){const i=new URL(t,e);if(r)for(const[a,l]of Object.entries(r))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function hA(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function fA(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:l,headers:c}){const d=dA(e.baseUrl,i,a),f=await hA(e.auth),m=await t(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...c},body:l?JSON.stringify(l):void 0}),g=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),b=w&&g?JSON.parse(g):g;if(!m.ok){const y=w?b:void 0,S=y==null?void 0:y.error;throw new ao((S==null?void 0:S.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:y})}return{status:m.status,headers:m.headers,data:b}}}}function Ll(e){return e.join("")}var mA=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ll(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ll(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ll(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ll(e.namespace)}`}),!0}catch(t){if(t instanceof ao&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ao&&r.status===409)return;throw r}}};function Si(e){return e.join("")}var pA=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Si(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ao&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ao&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},gA=class{constructor(e){var i;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=fA({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(i=e.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new mA(this.client,t),this.tableOps=new pA(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},xc=class extends Error{constructor(e,t="storage",r,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function bc(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ml=class extends xc{constructor(e,t,r,i="storage"){super(e,i,t,r),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dy=class extends xc{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const vA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zd=e=>{if(Array.isArray(e))return e.map(r=>Zd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=Zd(i)}),t},wA=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function xA(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(oo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bA(e){var t=xA(e,"string");return oo(t)=="symbol"?t:t+""}function _A(e,t,r){return(t=bA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wg(Object(r),!0).forEach(function(i){_A(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const xg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},SA=async(e,t,r,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,l=a.status||500;if(typeof a.json=="function")a.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||l+"";t(new Ml(xg(c),l,d,i))}).catch(()=>{if(i==="vectors"){const c=l+"";t(new Ml(a.statusText||`HTTP ${l} error`,l,c,i))}else{const c=l+"";t(new Ml(a.statusText||`HTTP ${l} error`,l,c,i))}});else{const c=l+"";t(new Ml(a.statusText||`HTTP ${l} error`,l,c,i))}}else t(new dy(xg(e),e,i))},AA=(e,t,r,i)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!i?$e($e({},a),r):(yA(i)?(a.headers=$e({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(i)):a.body=i,t!=null&&t.duplex&&(a.duplex=t.duplex),$e($e({},a),r))};async function qa(e,t,r,i,a,l,c){return new Promise((d,f)=>{e(r,AA(t,i,a,l)).then(m=>{if(!m.ok)throw m;if(i!=null&&i.noResolveJson)return m;if(c==="vectors"){const g=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!g||!g.includes("application/json"))return{}}return m.json()}).then(m=>d(m)).catch(m=>SA(m,f,i,c))})}function hy(e="storage"){return{get:async(t,r,i,a)=>qa(t,"GET",r,i,a,void 0,e),post:async(t,r,i,a,l)=>qa(t,"POST",r,a,l,i,e),put:async(t,r,i,a,l)=>qa(t,"PUT",r,a,l,i,e),head:async(t,r,i,a)=>qa(t,"HEAD",r,$e($e({},i),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,i,a,l)=>qa(t,"DELETE",r,a,l,i,e)}}const EA=hy("storage"),{get:lo,post:Ln,put:eh,head:jA,remove:Dh}=EA,mn=hy("vectors");var Ji=class{constructor(e,t={},r,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=vA(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bc(r))return{data:null,error:r};throw r}}},NA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(bc(t))return{data:null,error:t};throw t}}};let fy;fy=Symbol.toStringTag;var kA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[fy]="BlobDownloadBuilder",this.promise=null}asStream(){return new NA(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(bc(t))return{data:null,error:t};throw t}}};const CA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var RA=class extends Ji{constructor(e,t={},r,i){super(e,t,i,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,i){var a=this;return a.handleOperation(async()=>{let l;const c=$e($e({},bg),i);let d=$e($e({},a.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",a.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),f&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(f))):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i!=null&&i.headers&&(d=$e($e({},d),i.headers));const m=a._removeEmptyFolders(t),g=a._getFinalPath(m),w=await(e=="PUT"?eh:Ln)(a.fetch,`${a.url}/object/${g}`,l,$e({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:m,id:w.Id,fullPath:w.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,i){var a=this;const l=a._removeEmptyFolders(e),c=a._getFinalPath(l),d=new URL(a.url+`/object/upload/sign/${c}`);return d.searchParams.set("token",t),a.handleOperation(async()=>{let f;const m=$e({upsert:bg.upsert},i),g=$e($e({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",m.cacheControl)):(f=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{path:l,fullPath:(await eh(a.fetch,d.toString(),f,{headers:g})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e);const a=$e({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const l=await Ln(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(r.url+l.url),d=c.searchParams.get("token");if(!d)throw new xc("No token returned by API");return{signedUrl:c.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var i=this;return i.handleOperation(async()=>await Ln(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers}))}async copy(e,t,r){var i=this;return i.handleOperation(async()=>({path:(await Ln(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,r){var i=this;return i.handleOperation(async()=>{let a=i._getFinalPath(e),l=await Ln(i.fetch,`${i.url}/object/sign/${a}`,$e({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:i.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${l.signedURL}${c}`)}})}async createSignedUrls(e,t,r){var i=this;return i.handleOperation(async()=>{const a=await Ln(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(c=>$e($e({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${l}`):null}))})}download(e,t,r){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(e),d=()=>lo(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0},r);return new kA(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Zd(await lo(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await jA(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(bc(i)&&i instanceof dy){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Dh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var i=this;return i.handleOperation(async()=>{const a=$e($e($e({},CA),t),{},{prefix:e||""});return await Ln(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const i=$e({},e);return await Ln(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const PA="2.95.3",xo={"X-Client-Info":`storage-js/${PA}`};var TA=class extends Ji{constructor(e,t={},r,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const l=a.href.replace(/\/$/,""),c=$e($e({},xo),t);super(l,c,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await lo(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await lo(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ln(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await eh(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ln(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Dh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},OA=class extends Ji{constructor(e,t={},r){const i=e.replace(/\/$/,""),a=$e($e({},xo),t);super(i,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ln(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const i=r.toString(),a=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await lo(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Dh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!wA(e))throw new xc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new gA({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(a,d),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}},DA=class extends Ji{constructor(e,t={},r){const i=e.replace(/\/$/,""),a=$e($e({},xo),{},{"Content-Type":"application/json"},t);super(i,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await mn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await mn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},IA=class extends Ji{constructor(e,t={},r){const i=e.replace(/\/$/,""),a=$e($e({},xo),{},{"Content-Type":"application/json"},t);super(i,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},LA=class extends Ji{constructor(e,t={},r){const i=e.replace(/\/$/,""),a=$e($e({},xo),{},{"Content-Type":"application/json"},t);super(i,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},MA=class extends LA{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new FA(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},FA=class extends DA{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,$e($e({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,$e($e({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new $A(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},$A=class extends IA{constructor(e,t,r,i,a){super(e,t,a),this.vectorBucketName=r,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,$e($e({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,$e($e({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,$e($e({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,$e($e({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,$e($e({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},UA=class extends TA{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new RA(this.url,this.headers,e,this.fetch)}get vectors(){return new MA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OA(this.url+"/iceberg",this.headers,this.fetch)}};const my="2.95.3",Li=30*1e3,th=3,kd=th*Li,zA="http://localhost:9999",BA="supabase.auth.token",WA={"X-Client-Info":`gotrue-js/${my}`},nh="X-Supabase-Api-Version",py={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VA=600*1e3;class co extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qA extends co{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function KA(e){return De(e)&&e.name==="AuthApiError"}class Ws extends co{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class jr extends co{constructor(t,r,i,a){super(t,i,a),this.name=r,this.status=i}}class dn extends jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cd(e){return De(e)&&e.name==="AuthSessionMissingError"}class Ai extends jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fl extends jr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $l extends jr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GA(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class _g extends jr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class YA extends jr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rh extends jr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Rd(e){return De(e)&&e.name==="AuthRetryableFetchError"}class Sg extends jr{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class sh extends jr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ic="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ag=` 	
\r=`.split(""),JA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ag.length;t+=1)e[Ag[t].charCodeAt(0)]=-2;for(let t=0;t<ic.length;t+=1)e[ic[t].charCodeAt(0)]=t;return e})();function Eg(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(ic[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(ic[i]),t.queuedBits-=6}}function gy(e,t,r){const i=JA[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jg(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{ZA(c,i,r)};for(let c=0;c<e.length;c+=1)gy(e.charCodeAt(c),a,l);return t.join("")}function QA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XA(e,t){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}QA(i,t)}}function ZA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zi(e){const t=[],r={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)gy(e.charCodeAt(a),r,i);return new Uint8Array(t)}function e1(e){const t=[];return XA(e,r=>t.push(r)),new Uint8Array(t)}function Vs(e){const t=[],r={queue:0,queuedBits:0},i=a=>{t.push(a)};return e.forEach(a=>Eg(a,r,i)),Eg(null,r,i),t.join("")}function t1(e){return Math.round(Date.now()/1e3)+e}function n1(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",Fs={tested:!1,writable:!1},vy=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fs.tested)return Fs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fs.tested=!0,Fs.writable=!0}catch{Fs.tested=!0,Fs.writable=!1}return Fs.writable};function r1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return r.searchParams.forEach((i,a)=>{t[a]=i}),t}const yy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$s=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mt=async(e,t)=>{await e.removeItem(t)};class _c{constructor(){this.promise=new _c.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_c.promiseConstructor=Promise;function Ul(e){const t=e.split(".");if(t.length!==3)throw new sh("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!HA.test(t[i]))throw new sh("JWT not in base64url format");return{header:JSON.parse(jg(t[0])),payload:JSON.parse(jg(t[1])),signature:zi(t[2]),raw:{header:t[0],payload:t[1]}}}async function i1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function a1(e,t){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){i(c);return}}catch(c){if(!t(l,c)){a(c);return}}})()})}function o1(e){return("0"+e.toString(16)).substr(-2)}function l1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,o1).join("")}async function c1(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function u1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await c1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ei(e,t,r=!1){const i=l1();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await Mi(e,`${t}-code-verifier`,a);const l=await u1(i);return[l,i===l?"plain":"s256"]}const d1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h1(e){const t=e.headers.get(nh);if(!t||!t.match(d1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function f1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function m1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const p1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(e){if(!p1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function g1(e,t){return new Proxy(e,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,i,a)}})}function Ng(e){return JSON.parse(JSON.stringify(e))}const zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v1=[502,503,504];async function kg(e){var t;if(!s1(e))throw new rh(zs(e),0);if(v1.includes(e.status))throw new rh(zs(e),e.status);let r;try{r=await e.json()}catch(l){throw new Ws(zs(l),l)}let i;const a=h1(e);if(a&&a.getTime()>=py["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Sg(zs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new dn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Sg(zs(r),e.status,r.weak_password.reasons);throw new qA(zs(r),e.status||500,i)}const y1=(e,t,r,i)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function Fe(e,t,r,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[nh]||(l[nh]=py["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await w1(e,t,r+d,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function w1(e,t,r,i,a,l){const c=y1(t,i,a,l);let d;try{d=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new rh(zs(f),0)}if(d.ok||await kg(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(f){await kg(f)}}function Dn(e){var t;let r=null;_1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=t1(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:i},error:null}}function Cg(e){const t=Dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function is(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function x1(e){return{data:e,error:null}}function b1(e){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l}=e,c=Yi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function Rg(e){return e}function _1(e){return e.access_token&&e.refresh_token&&e.expires_in}const Td=["global","local","others"];class S1{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=yy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Td[0]){if(Td.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Td.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:is})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=Yi(t,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:b1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:is})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,a,l,c,d,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Rg});if(g.error)throw g.error;const w=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);m[`${E}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(De(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){ji(t);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:is})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ji(t);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:is})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){ji(t);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:is})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){ji(t.userId);try{const{data:r,error:i}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ji(t.userId),ji(t.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,i,a,l,c,d,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Rg});if(g.error)throw g.error;const w=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);m[`${E}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(De(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(De(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}}function Pg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ni={debug:!!(globalThis&&vy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class A1 extends wy{}async function E1(e,t,r){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new A1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ni.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function j1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function N1(e){return parseInt(e,16)}function k1(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function C1(e){var t;const{chainId:r,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:f,resources:m,scheme:g,uri:w,version:b}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=xy(e.address),S=g?`${g}://${i}`:i,_=e.statement?`${e.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${y}

${_}`;let C=`URI: ${w}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),f&&(C+=`
Request ID: ${f}`),m){let j=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);j+=`
- ${T}`}C+=j}return`${E}
${C}`}class Et extends Error{constructor({message:t,code:r,cause:i,name:a}){var l;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class ac extends Et{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function R1({error:e,options:t}){var r,i,a;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(by(c)){if(l.rp.id!==c)return new Et({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function P1({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(by(i)){if(r.rpId!==i)return new Et({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class T1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const O1=new T1;function D1(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:i}=e,a=Yi(e,["challenge","user","excludeCredentials"]),l=zi(t).buffer,c=Object.assign(Object.assign({},r),{id:zi(r.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:zi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function I1(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,i=Yi(e,["challenge","allowCredentials"]),a=zi(t).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:zi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function L1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function M1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,i=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vs(new Uint8Array(a.authenticatorData)),clientDataJSON:Vs(new Uint8Array(a.clientDataJSON)),signature:Vs(new Uint8Array(a.signature)),userHandle:a.userHandle?Vs(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function by(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Tg(){var e,t;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function F1(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",t)}:{data:null,error:new ac("Empty credential response",t)}}catch(t){return{data:null,error:R1({error:t,options:e})}}}async function $1(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",t)}:{data:null,error:new ac("Empty credential response",t)}}catch(t){return{data:null,error:P1({error:t,options:e})}}}const U1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},z1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function oc(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of e)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(r(c))i[l]=c;else if(t(c)){const d=i[l];t(d)?i[l]=oc(d,c):i[l]=oc(c)}else i[l]=c}return i}function B1(e,t){return oc(U1,e,t||{})}function W1(e,t){return oc(z1,e,t||{})}class H1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:i,signal:a},l){var c;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const m=a??O1.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;if(!g.name){const w=i;if(w)g.name=`${g.id}:${w}`;else{const y=(await this.client.getUser()).data.user,S=((c=y==null?void 0:y.user_metadata)===null||c===void 0?void 0:c.name)||(y==null?void 0:y.email)||(y==null?void 0:y.id)||"User";g.name=`${g.id}:${S}`}}g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=B1(d.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:w,error:b}=await F1({publicKey:g,signal:m});return w?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:w}},error:null}:{data:null,error:b}}case"request":{const g=W1(d.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:w,error:b}=await $1(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return w?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:w}},error:null}:{data:null,error:b}}}}catch(d){return De(d)?{data:null,error:d}:{data:null,error:new Ws("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new co("rpId is required for WebAuthn authentication")};try{if(!Tg())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:i,credential_response:f.credential_response}})}catch(c){return De(c)?{data:null,error:c}:{data:null,error:new Ws("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new co("rpId is required for WebAuthn registration")};try{if(!Tg())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var w;return(w=g.data)===null||w===void 0?void 0:w.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(c){return De(c)?{data:null,error:c}:{data:null,error:new Ws("Unexpected error in register",c)}}}}j1();const V1={url:zA,storageKey:BA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Og(e,t,r){return await r()}const ki={};class uo{get jwks(){var t,r;return(r=(t=ki[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ki[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},V1),t);if(this.storageKey=l.storageKey,this.instanceID=(r=uo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,uo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ft()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new S1({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=yy(l.fetch),this.lock=l.lock||Og,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Ft()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=E1:this.lock=Og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new H1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:vy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${my}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(Ft()&&(r=r1(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ft()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),GA(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?this._returnResult({error:r}):this._returnResult({error:new Ws("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,a;try{const l=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Dn}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(De(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var r,i,a;try{let l;if("email"in t){const{email:g,password:w,options:b}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await Ei(this.storage,this.storageKey)),l=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:g,password:w,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:y,code_challenge_method:S},xform:Dn})}else if("phone"in t){const{phone:g,password:w,options:b}=t;l=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:w,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Dn})}else throw new Fl("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:c,options:d}=t;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Cg})}else if("phone"in t){const{phone:l,password:c,options:d}=t;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Cg})}else throw new Fl("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new Ai;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,a,l,c,d,f,m,g,w,b;let y,S;if("message"in t)y=t.message,S=t.signature;else{const{chain:_,wallet:E,statement:C,options:j}=t;let T;if(Ft())if(typeof E=="object")T=E;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")T=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=E}const L=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href),N=await T.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=xy(N[0]);let k=(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!k){const W=await T.request({method:"eth_chainId"});k=N1(W)}const z={domain:L.host,address:$,statement:C,uri:L.href,version:"1",chainId:k,nonce:(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=j==null?void 0:j.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=j==null?void 0:j.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=j==null?void 0:j.signInWithEthereum)===null||g===void 0?void 0:g.resources};y=C1(z),S=await T.request({method:"personal_sign",params:[k1(y),$]})}try{const{data:_,error:E}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:S},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Dn});if(E)throw E;if(!_||!_.session||!_.user){const C=new Ai;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(De(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,i,a,l,c,d,f,m,g,w,b,y;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:E,wallet:C,statement:j,options:T}=t;let L;if(Ft())if(typeof C=="object")L=C;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))L=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=C}const N=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const $=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),j?{statement:j}:null));let k;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")k=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)k=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)S=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),_=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${N.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(i=T==null?void 0:T.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T==null?void 0:T.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((w=(g=T==null?void 0:T.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||w===void 0)&&w.length?["Resources",...T.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const $=await L.signMessage(new TextEncoder().encode(S),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=$}}try{const{data:E,error:C}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Vs(_)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Dn});if(C)throw C;if(!E||!E.session||!E.user){const j=new Ai;return this._returnResult({data:{user:null,session:null},error:j})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(De(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const r=await $s(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new YA;const{data:l,error:c}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Dn});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new Ai;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:r,provider:i,token:a,access_token:l,nonce:c}=t,d=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Dn}),{data:f,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const g=new Ai;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,a,l,c;try{if("email"in t){const{email:d,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ei(this.storage,this.storageKey));const{error:w}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:d,options:f}=t,{data:m,error:g}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new Fl("You must provide either an email or phone number.")}catch(d){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),De(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,i;try{let a,l;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Dn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,i,a,l,c;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Ei(this.storage,this.storageKey));const m=await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:x1});return!((l=m.data)===null||l===void 0)&&l.url&&Ft()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),De(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new dn;const{error:a}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(De(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:l}=t,{error:c}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:i,type:a,options:l}=t,{data:c,error:d}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Fl("You must provide either an email or phone number and a type")}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await $s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<kd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await $s(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Pd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=g1(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:is}):await this._useSession(async r=>{var i,a,l;const{data:c,error:d}=r;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:is})})}catch(r){if(De(r))return Cd(r)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new dn;const c=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Ei(this.storage,this.storageKey));const{data:m,error:g}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:is});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),De(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dn;const r=Date.now()/1e3;let i=r,a=!0,l=null;const{payload:c}=Ul(t.access_token);if(c.exp&&(i=c.exp,a=i<=r),a){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(De(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new dn;const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ft())throw new $l("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $l(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $l("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _g("No code detected.");const{data:j,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:f,token_type:m}=t;if(!l||!d||!c||!m)throw new $l("No session defined in URL");const g=Math.round(Date.now()/1e3),w=parseInt(d);let b=g+w;f&&(b=parseInt(f));const y=b-g;y*1e3<=Li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${w}s`);const S=b-w;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,g);const{data:_,error:E}=await this._getUser(l);if(E)throw E;const C={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:b,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(i){if(De(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await $s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l&&!Cd(l))return this._returnResult({error:l});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(KA(d)&&(d.status===404||d.status===401||d.status===403)||Cd(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=n1(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,a;try{const{data:{session:l},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Ei(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:i,error:a}=await this._useSession(async l=>{var c,d,f,m,g;const{data:w,error:b}=l;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",y,{headers:this.headers,jwt:(g=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Ft()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(De(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:c,provider:d,token:f,access_token:m,nonce:g}=t,w=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:f,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Dn}),{data:b,error:y}=w;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Ai}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(a){if(await Mt(this.storage,`${this.storageKey}-code-verifier`),De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)throw c;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await a1(async a=>(a>0&&await i1(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dn})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Rd(l)&&Date.now()+c-i<Li})}catch(i){if(this._debug(r,"error",i),De(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Ft()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await $s(this.storage,this.storageKey);if(a&&this.userStorage){let c=await $s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Mi(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Pd()}else if(a&&!a.user&&!a.user){const c=await $s(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Mt(this.storage,this.storageKey+"-user"),await Mi(this.storage,this.storageKey,a)):a.user=Pd()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kd;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${kd}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Rd(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new _c;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new dn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),De(l)){const c={data:null,error:l};return Rd(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Mt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Mi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=Ng(a);await Mi(this.storage,this.storageKey,l)}else{const a=Ng(r);await Mi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Li);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/Li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Li}ms, refresh threshold is ${th} ticks`),a<=th&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ei(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;return l?this._returnResult({data:null,error:l}):await Fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:m}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?L1(t.webauthn.credential_response):M1(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:D1(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:I1(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,i,a,l;if(t)try{const{payload:y}=Ul(t);let S=null;y.aal&&(S=y.aal);let _=S;const{data:{user:E},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((i=(r=E==null?void 0:E.factors)===null||r===void 0?void 0:r.filter(L=>L.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(_="aal2");const T=y.amr||[];return{data:{currentLevel:S,nextLevel:_,currentAuthenticationMethods:T},error:null}}catch(y){if(De(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:c},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Ul(c.access_token);let m=null;f.aal&&(m=f.aal);let g=m;((l=(a=c.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const b=f.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await Fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new dn})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new dn});const c=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ft()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(De(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new dn});const c=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ft()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(De(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await Fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new dn})})}catch(t){if(De(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await Fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(d=>d.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+VA>a)return i;const{data:l,error:c}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:y,error:S}=await this.getSession();if(S||!y.session)return this._returnResult({data:null,error:S});i=y.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:f}}=Ul(i);r!=null&&r.allowExpired||f1(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:y}=await this.getUser(i);if(y)throw y;return{data:{claims:l,header:a,signature:c},error:null}}const g=m1(a.alg),w=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,c,e1(`${d}.${f}`)))throw new sh("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(De(i))return this._returnResult({data:null,error:i});throw i}}}uo.nextInstanceID={};const q1=uo,K1="2.95.3";let Qa="";typeof Deno<"u"?Qa="deno":typeof document<"u"?Qa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qa="react-native":Qa="node";const G1={"X-Client-Info":`supabase-js-${Qa}/${K1}`},Y1={headers:G1},J1={schema:"public"},Q1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X1={};function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function Z1(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(ho(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eE(e){var t=Z1(e,"string");return ho(t)=="symbol"?t:t+""}function tE(e,t,r){return(t=eE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dg(Object(r),!0).forEach(function(i){tE(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const nE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rE=()=>Headers,sE=(e,t,r)=>{const i=nE(r),a=rE();return async(l,c)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let m=new a(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),i(l,yt(yt({},c),{},{headers:m}))}};function iE(e){return e.endsWith("/")?e:e+"/"}function aE(e,t){var r,i;const{db:a,auth:l,realtime:c,global:d}=e,{db:f,auth:m,realtime:g,global:w}=t,b={db:yt(yt({},f),a),auth:yt(yt({},m),l),realtime:yt(yt({},g),c),storage:{},global:yt(yt(yt({},w),d),{},{headers:yt(yt({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function oE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var lE=class extends q1{constructor(e){super(e)}},cE=class{constructor(e,t,r){var i,a;this.supabaseUrl=e,this.supabaseKey=t;const l=oE(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:J1,realtime:X1,auth:yt(yt({},Q1),{},{storageKey:c}),global:Y1},f=aE(r??{},d);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=sE(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new KS(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new UA(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new $S(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:c,lock:d,debug:f,throwOnError:m},g,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lE({url:this.authUrl.href,headers:yt(yt({},b),g),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:d,debug:f,throwOnError:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new uA(this.realtimeUrl.href,yt(yt({},e),{},{params:yt(yt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const uE=(e,t,r)=>new cE(e,t,r);function dE(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}dE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hE="https://msufhiktdbuhwtaacfdy.supabase.co",fE="sb_publishable_38kjjp4rS7x-Z8ZDaVSXpw_lwVOLl34",We=uE(hE,fE);function mE({children:e}){const[t,r]=x.useState(!0),[i,a]=x.useState(!1);return x.useEffect(()=>{let l=null;l=setTimeout(()=>{console.warn("RequireAuth: session check timed out. Redirecting to login."),a(!1),r(!1)},3e3),We.auth.getSession().then(({data:d})=>{l&&clearTimeout(l),a(!!d.session),r(!1)}).catch(d=>{l&&clearTimeout(l),console.error("RequireAuth: failed to check session:",d),a(!1),r(!1)});const{data:c}=We.auth.onAuthStateChange((d,f)=>{a(!!f)});return()=>{l&&clearTimeout(l),c.subscription.unsubscribe()}},[]),t?null:i?u.jsx(u.Fragment,{children:e}):u.jsx(J_,{to:"/",replace:!0})}function Ig(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _y(...e){return t=>{let r=!1;const i=e.map(a=>{const l=Ig(a,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Ig(e[a],null)}}}}function _t(...e){return x.useCallback(_y(...e),e)}var qs=x.forwardRef((e,t)=>{const{children:r,...i}=e,a=x.Children.toArray(r),l=a.find(gE);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return u.jsx(ih,{...i,ref:t,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return u.jsx(ih,{...i,ref:t,children:r})});qs.displayName="Slot";var ih=x.forwardRef((e,t)=>{const{children:r,...i}=e;if(x.isValidElement(r)){const a=yE(r),l=vE(i,r.props);return r.type!==x.Fragment&&(l.ref=t?_y(t,a):a),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});ih.displayName="SlotClone";var pE=({children:e})=>u.jsx(u.Fragment,{children:e});function gE(e){return x.isValidElement(e)&&e.type===pE}function vE(e,t){const r={...t};for(const i in t){const a=e[i],l=t[i];/^on[A-Z]/.test(i)?a&&l?r[i]=(...d)=>{l(...d),a(...d)}:a&&(r[i]=a):i==="style"?r[i]={...a,...l}:i==="className"&&(r[i]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}function yE(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sy(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Sy(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function Ay(){for(var e,t,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Sy(e))&&(i&&(i+=" "),i+=t);return i}const Lg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Mg=Ay,wE=(e,t)=>r=>{var i;if((t==null?void 0:t.variants)==null)return Mg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:l}=t,c=Object.keys(a).map(m=>{const g=r==null?void 0:r[m],w=l==null?void 0:l[m];if(g===null)return null;const b=Lg(g)||Lg(w);return a[m][b]}),d=r&&Object.entries(r).reduce((m,g)=>{let[w,b]=g;return b===void 0||(m[w]=b),m},{}),f=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((m,g)=>{let{class:w,className:b,...y}=g;return Object.entries(y).every(S=>{let[_,E]=S;return Array.isArray(E)?E.includes({...l,...d}[_]):{...l,...d}[_]===E})?[...m,w,b]:m},[]);return Mg(e,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},Ih="-",xE=e=>{const t=_E(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:c=>{const d=c.split(Ih);return d[0]===""&&d.length!==1&&d.shift(),Ey(d,t)||bE(c)},getConflictingClassGroupIds:(c,d)=>{const f=r[c]||[];return d&&i[c]?[...f,...i[c]]:f}}},Ey=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?Ey(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(Ih);return(c=t.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},Fg=/^\[(.+)\]$/,bE=e=>{if(Fg.test(e)){const t=Fg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_E=e=>{const{theme:t,classGroups:r}=e,i={nextPart:new Map,validators:[]};for(const a in r)ah(r[a],i,a,t);return i},ah=(e,t,r,i)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:$g(t,a);l.classGroupId=r;return}if(typeof a=="function"){if(SE(a)){ah(a(i),t,r,i);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([l,c])=>{ah(c,$g(t,l),r,i)})})},$g=(e,t)=>{let r=e;return t.split(Ih).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},SE=e=>e.isThemeGetter,AE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,i=new Map;const a=(l,c)=>{r.set(l,c),t++,t>e&&(t=0,i=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){r.has(l)?r.set(l,c):a(l,c)}}},oh="!",lh=":",EE=lh.length,jE=e=>{const{prefix:t,experimentalParseClassName:r}=e;let i=a=>{const l=[];let c=0,d=0,f=0,m;for(let S=0;S<a.length;S++){let _=a[S];if(c===0&&d===0){if(_===lh){l.push(a.slice(f,S)),f=S+EE;continue}if(_==="/"){m=S;continue}}_==="["?c++:_==="]"?c--:_==="("?d++:_===")"&&d--}const g=l.length===0?a:a.substring(f),w=NE(g),b=w!==g,y=m&&m>f?m-f:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:y}};if(t){const a=t+lh,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(r){const a=i;i=l=>r({className:l,parseClassName:a})}return i},NE=e=>e.endsWith(oh)?e.substring(0,e.length-1):e.startsWith(oh)?e.substring(1):e,kE=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||t[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},CE=e=>({cache:AE(e.cacheSize),parseClassName:jE(e),sortModifiers:kE(e),...xE(e)}),RE=/\s+/,PE=(e,t)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=t,c=[],d=e.trim().split(RE);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:w,modifiers:b,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:_}=r(g);if(w){f=g+(f.length>0?" "+f:f);continue}let E=!!_,C=i(E?S.substring(0,_):S);if(!C){if(!E){f=g+(f.length>0?" "+f:f);continue}if(C=i(S),!C){f=g+(f.length>0?" "+f:f);continue}E=!1}const j=l(b).join(":"),T=y?j+oh:j,L=T+C;if(c.includes(L))continue;c.push(L);const N=a(C,E);for(let $=0;$<N.length;++$){const k=N[$];c.push(T+k)}f=g+(f.length>0?" "+f:f)}return f};function TE(){let e=0,t,r,i="";for(;e<arguments.length;)(t=arguments[e++])&&(r=jy(t))&&(i&&(i+=" "),i+=r);return i}const jy=e=>{if(typeof e=="string")return e;let t,r="";for(let i=0;i<e.length;i++)e[i]&&(t=jy(e[i]))&&(r&&(r+=" "),r+=t);return r};function OE(e,...t){let r,i,a,l=c;function c(f){const m=t.reduce((g,w)=>w(g),e());return r=CE(m),i=r.cache.get,a=r.cache.set,l=d,d(f)}function d(f){const m=i(f);if(m)return m;const g=PE(f,r);return a(f,g),g}return function(){return l(TE.apply(null,arguments))}}const Ct=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ny=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ky=/^\((?:(\w[\w-]*):)?(.+)\)$/i,DE=/^\d+\/\d+$/,IE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ME=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$E=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ci=e=>DE.test(e),qe=e=>!!e&&!Number.isNaN(Number(e)),Zr=e=>!!e&&Number.isInteger(Number(e)),Od=e=>e.endsWith("%")&&qe(e.slice(0,-1)),wr=e=>IE.test(e),UE=()=>!0,zE=e=>LE.test(e)&&!ME.test(e),Cy=()=>!1,BE=e=>FE.test(e),WE=e=>$E.test(e),HE=e=>!Ee(e)&&!je(e),VE=e=>Qi(e,Ty,Cy),Ee=e=>Ny.test(e),Us=e=>Qi(e,Oy,zE),Dd=e=>Qi(e,JE,qe),Ug=e=>Qi(e,Ry,Cy),qE=e=>Qi(e,Py,WE),zl=e=>Qi(e,Dy,BE),je=e=>ky.test(e),Ka=e=>Xi(e,Oy),KE=e=>Xi(e,QE),zg=e=>Xi(e,Ry),GE=e=>Xi(e,Ty),YE=e=>Xi(e,Py),Bl=e=>Xi(e,Dy,!0),Qi=(e,t,r)=>{const i=Ny.exec(e);return i?i[1]?t(i[1]):r(i[2]):!1},Xi=(e,t,r=!1)=>{const i=ky.exec(e);return i?i[1]?t(i[1]):r:!1},Ry=e=>e==="position"||e==="percentage",Py=e=>e==="image"||e==="url",Ty=e=>e==="length"||e==="size"||e==="bg-size",Oy=e=>e==="length",JE=e=>e==="number",QE=e=>e==="family-name",Dy=e=>e==="shadow",XE=()=>{const e=Ct("color"),t=Ct("font"),r=Ct("text"),i=Ct("font-weight"),a=Ct("tracking"),l=Ct("leading"),c=Ct("breakpoint"),d=Ct("container"),f=Ct("spacing"),m=Ct("radius"),g=Ct("shadow"),w=Ct("inset-shadow"),b=Ct("text-shadow"),y=Ct("drop-shadow"),S=Ct("blur"),_=Ct("perspective"),E=Ct("aspect"),C=Ct("ease"),j=Ct("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...L(),je,Ee],$=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],z=()=>[je,Ee,f],W=()=>[Ci,"full","auto",...z()],J=()=>[Zr,"none","subgrid",je,Ee],ae=()=>["auto",{span:["full",Zr,je,Ee]},Zr,je,Ee],de=()=>[Zr,"auto",je,Ee],fe=()=>["auto","min","max","fr",je,Ee],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...z()],V=()=>[Ci,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],P=()=>[e,je,Ee],Z=()=>[...L(),zg,Ug,{position:[je,Ee]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",GE,VE,{size:[je,Ee]}],H=()=>[Od,Ka,Us],ne=()=>["","none","full",m,je,Ee],ce=()=>["",qe,Ka,Us],ge=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[qe,Od,zg,Ug],me=()=>["","none",S,je,Ee],ye=()=>["none",qe,je,Ee],Ce=()=>["none",qe,je,Ee],F=()=>[qe,je,Ee],I=()=>[Ci,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wr],breakpoint:[wr],color:[UE],container:[wr],"drop-shadow":[wr],ease:["in","out","in-out"],font:[HE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wr],shadow:[wr],spacing:["px",qe],text:[wr],"text-shadow":[wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ci,Ee,je,E]}],container:["container"],columns:[{columns:[qe,Ee,je,d]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Zr,"auto",je,Ee]}],basis:[{basis:[Ci,"full","auto",d,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Ci,"auto","initial","none",Ee]}],grow:[{grow:["",qe,je,Ee]}],shrink:[{shrink:["",qe,je,Ee]}],order:[{order:[Zr,"first","last","none",je,Ee]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:ae()}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:ae()}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":fe()}],"auto-rows":[{"auto-rows":fe()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[d,"screen",...V()]}],"min-w":[{"min-w":[d,"screen","none",...V()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...V()]}],h:[{h:["screen",...V()]}],"min-h":[{"min-h":["screen","none",...V()]}],"max-h":[{"max-h":["screen",...V()]}],"font-size":[{text:["base",r,Ka,Us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,je,Dd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Od,Ee]}],"font-family":[{font:[KE,Ee,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,je,Ee]}],"line-clamp":[{"line-clamp":[qe,"none",je,Dd]}],leading:[{leading:[l,...z()]}],"list-image":[{"list-image":["none",je,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",je,Us]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[qe,"auto",je,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zr,je,Ee],radial:["",je,Ee],conic:[Zr,je,Ee]},YE,qE]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,je,Ee]}],"outline-w":[{outline:["",qe,Ka,Us]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",g,Bl,zl]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",w,Bl,zl]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[qe,Us]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",b,Bl,zl]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[qe,je,Ee]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[je,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Ee]}],filter:[{filter:["","none",je,Ee]}],blur:[{blur:me()}],brightness:[{brightness:[qe,je,Ee]}],contrast:[{contrast:[qe,je,Ee]}],"drop-shadow":[{"drop-shadow":["","none",y,Bl,zl]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",qe,je,Ee]}],"hue-rotate":[{"hue-rotate":[qe,je,Ee]}],invert:[{invert:["",qe,je,Ee]}],saturate:[{saturate:[qe,je,Ee]}],sepia:[{sepia:["",qe,je,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Ee]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[qe,je,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[qe,je,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,je,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,je,Ee]}],"backdrop-invert":[{"backdrop-invert":["",qe,je,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[qe,je,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[qe,je,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,je,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",je,Ee]}],ease:[{ease:["linear","initial",C,je,Ee]}],delay:[{delay:[qe,je,Ee]}],animate:[{animate:["none",j,je,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,je,Ee]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[je,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:I()}],"translate-x":[{"translate-x":I()}],"translate-y":[{"translate-y":I()}],"translate-z":[{"translate-z":I()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Ee]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[qe,Ka,Us,Dd]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ZE=OE(XE);function rn(...e){return ZE(Ay(e))}const ej=wE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Be=x.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...a},l)=>{const c=i?qs:"button";return u.jsx(c,{"data-slot":"button",className:rn(ej({variant:t,size:r,className:e})),ref:l,...a})});Be.displayName="Button";function Re({className:e,type:t,...r}){return u.jsx("input",{type:t,"data-slot":"input",className:rn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var tj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ot=tj.reduce((e,t)=>{const r=x.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?qs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function nj(e,t){e&&Gi.flushSync(()=>e.dispatchEvent(t))}var rj="Label",Iy=x.forwardRef((e,t)=>u.jsx(ot.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Iy.displayName=rj;var sj=Iy;function xe({className:e,...t}){return u.jsx(sj,{"data-slot":"label",className:rn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const Sc="/assets/NexGio%20LOGO%20B-CNCQzsvX.png";async function ij(e,t){const r=e.trim();if(r.includes("@"))return We.auth.signInWithPassword({email:r,password:t});const{data:i,error:a}=await We.from("admin_profiles").select("email").eq("username",r).single();return a||!(i!=null&&i.email)?{data:null,error:new Error("Username not found")}:We.auth.signInWithPassword({email:i.email,password:t})}function aj(){const e=yo(),[t,r]=x.useState(""),[i,a]=x.useState(""),[l,c]=x.useState(!1),[d,f]=x.useState(null),m=async g=>{g.preventDefault(),f(null),c(!0);const{data:w,error:b}=await ij(t.trim(),i);if(c(!1),b){f(b.message);return}w.session&&e("/dashboard")};return u.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden bg-[#0F0F0F] flex items-center justify-center",children:[u.jsxs("div",{className:"absolute inset-0 opacity-10",children:[u.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(#F5C400 1px, transparent 1px),
              linear-gradient(90deg, #F5C400 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}}),u.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at center, transparent 0%, #0F0F0F 70%)"}})]}),u.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-[#F5C400] to-[#F5C400]/80 mb-6 shadow-lg shadow-[#F5C400]/20",children:u.jsx("img",{src:Sc,alt:"NexGio Logo",className:"w-20 h-auto rounded-xl"})}),u.jsx("h1",{className:"text-4xl font-bold text-white mb-3",children:"NexGio Solutions"}),u.jsx("p",{className:"text-[#A0A0A0] text-lg",children:"Where Connection Meets Creation."})]}),u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-8 shadow-2xl",children:[u.jsx("h2",{className:"text-2xl font-semibold text-white mb-6 text-center",children:"Admin Login"}),u.jsxs("form",{onSubmit:m,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"email",className:"text-white",children:"Email / Username"}),u.jsx(Re,{id:"email",type:"text",placeholder:"admin@nexgio.com or admin",value:t,onChange:g=>r(g.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white placeholder:text-[#A0A0A0] focus:border-[#F5C400] focus:ring-[#F5C400]"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"password",className:"text-white",children:"Password"}),u.jsx(Re,{id:"password",type:"password",placeholder:"",value:i,onChange:g=>a(g.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white placeholder:text-[#A0A0A0] focus:border-[#F5C400] focus:ring-[#F5C400]"})]}),d&&u.jsx("div",{className:"rounded-md border border-[#EA5455]/40 bg-[#EA5455]/10 px-4 py-3 text-sm text-[#EA5455]",children:d}),u.jsx(Be,{type:"submit",disabled:l,className:"w-full bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F] font-semibold py-6 shadow-lg shadow-[#F5C400]/20 disabled:opacity-70",children:l?"Logging in...":"Login"}),u.jsx("div",{className:"text-center",children:u.jsx("a",{href:"#",className:"text-sm text-[#F5C400] hover:text-[#F5C400]/80 transition-colors",children:"Forgot Password?"})})]})]}),u.jsx("p",{className:"text-center text-[#A0A0A0] text-sm mt-8",children:" 2026 NexGio Solutions. All rights reserved."})]})]})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,i)=>i?i.toUpperCase():r.toLowerCase()),Bg=e=>{const t=lj(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ly=(...e)=>e.filter((t,r,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},f)=>x.createElement("svg",{ref:f,...cj,width:t,height:t,stroke:e,strokeWidth:i?Number(r)*24/Number(t):r,className:Ly("lucide",a),...d},[...c.map(([m,g])=>x.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(e,t)=>{const r=x.forwardRef(({className:i,...a},l)=>x.createElement(uj,{ref:l,iconNode:t,className:Ly(`lucide-${oj(Bg(e))}`,`lucide-${e}`,i),...a}));return r.displayName=Bg(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hj=lt("bell",dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mj=lt("calendar",fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gj=lt("check",pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lh=lt("chevron-down",vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wj=lt("chevron-up",yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],bj=lt("clock",xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Id=lt("credit-card",_j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Aj=lt("dollar-sign",Sj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],My=lt("download",Ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fy=lt("eye",jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$y=lt("file-text",Nj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Cj=lt("layers",kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Pj=lt("layout-dashboard",Rj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Oj=lt("menu",Tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Ij=lt("palette",Dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uy=lt("plus",Lj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Mh=lt("search",Mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$j=lt("settings",Fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zj=lt("square-pen",Uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Wg=lt("trash-2",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hj=lt("triangle-alert",Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qj=lt("user",Vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],zy=lt("users",Kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],lc=lt("wifi",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Jj=lt("wrench",Yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],By=lt("x",Qj);function Xj({icon:e,title:t,description:r,isActive:i,onClick:a}){return u.jsxs("button",{onClick:a,className:`
        relative group p-8 rounded-xl border-2 transition-all duration-300 text-left
        ${i?"bg-[#F5C400]/10 border-[#F5C400] shadow-lg shadow-[#F5C400]/20":"bg-[#1E1E1E] border-[#2A2A2A] hover:border-[#F5C400]/50"}
      `,children:[i&&u.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 bg-[#F5C400] text-[#0F0F0F] text-xs font-semibold rounded-full",children:"Active"}),u.jsx("div",{className:`
        inline-flex items-center justify-center w-16 h-16 rounded-xl mb-6 transition-colors
        ${i?"bg-[#F5C400] text-[#0F0F0F]":"bg-[#161616] text-[#F5C400] group-hover:bg-[#F5C400] group-hover:text-[#0F0F0F]"}
      `,children:e}),u.jsx("h3",{className:"text-2xl font-semibold text-white mb-3",children:t}),u.jsx("p",{className:"text-[#A0A0A0] leading-relaxed",children:r}),u.jsx("div",{className:"mt-6 flex items-center text-[#F5C400] font-medium",children:u.jsxs("span",{className:"group-hover:translate-x-1 transition-transform",children:[i?"Continue":"Select Service"," "]})})]})}function Zj(){const e=yo(),t=[{icon:u.jsx(lc,{className:"w-8 h-8"}),title:"Internet Provider",description:"Manage clients, bandwidth plans, invoices, and payments for your WiFi internet service.",isActive:!0,path:"/dashboard"},{icon:u.jsx(Ij,{className:"w-8 h-8"}),title:"Design Services",description:"Manage design orders and creative projects for your clients.",path:"#"},{icon:u.jsx(Jj,{className:"w-8 h-8"}),title:"Repair Services",description:"Manage repair jobs and service requests efficiently.",path:"#"}];return u.jsx("div",{className:"min-h-screen bg-[#0F0F0F] py-12 px-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-xl bg-gradient-to-br from-[#F5C400] to-[#F5C400]/80 mb-6",children:u.jsx(lc,{className:"w-8 h-8 text-[#0F0F0F]"})}),u.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Welcome to NexGio Admin Panel"}),u.jsx("p",{className:"text-[#A0A0A0] text-lg max-w-2xl mx-auto",children:"Select which service module you'd like to manage. You can switch between services anytime."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:t.map((r,i)=>u.jsx(Xj,{icon:r.icon,title:r.title,description:r.description,isActive:r.isActive,onClick:()=>r.path!=="#"&&e(r.path)},i))}),u.jsx("div",{className:"text-center mt-16",children:u.jsxs("p",{className:"text-[#A0A0A0] text-sm",children:["Need help?"," ",u.jsx("a",{href:"#",className:"text-[#F5C400] hover:text-[#F5C400]/80",children:"Contact Support"})]})})]})})}const eN=[{label:"Dashboard",path:"/dashboard",icon:u.jsx(Pj,{className:"w-5 h-5"})},{label:"Client List",path:"/dashboard/clients",icon:u.jsx(zy,{className:"w-5 h-5"})},{label:"Tiers",path:"/dashboard/tiers",icon:u.jsx(Cj,{className:"w-5 h-5"})},{label:"Invoice",path:"/dashboard/invoice",icon:u.jsx($y,{className:"w-5 h-5"})},{label:"Invoice History",path:"/dashboard/payments",icon:u.jsx(Id,{className:"w-5 h-5"})},{label:"Receipt History",path:"/dashboard/receipts",icon:u.jsx(Id,{className:"w-5 h-5"})},{label:"Payments Entry",path:"/dashboard/payments-entry",icon:u.jsx(Id,{className:"w-5 h-5"})},{label:"Settings",path:"/dashboard/settings",icon:u.jsx($j,{className:"w-5 h-5"})}];function Hg({onClose:e}){return u.jsxs("aside",{className:"w-64 bg-[#161616] border-r border-[#2A2A2A] min-h-screen flex flex-col",children:[u.jsx("div",{className:"p-6 border-b border-[#2A2A2A]",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10",children:u.jsx("img",{src:Sc,alt:"NexGio",className:"w-10 h-auto object-cover rounded-lg"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-white font-semibold",children:"NexGio"}),u.jsx("p",{className:"text-[#A0A0A0] text-xs",children:"Admin Panel"})]})]}),e&&u.jsx("button",{onClick:e,"aria-label":"Close sidebar",title:"Close sidebar",className:"md:hidden text-[#A0A0A0] hover:text-white",children:u.jsx(By,{className:"w-5 h-5","aria-hidden":"true"})})]})}),u.jsx("nav",{className:"flex-1 p-4",children:u.jsx("ul",{className:"space-y-1",children:eN.map(t=>u.jsx("li",{children:u.jsxs(sy,{to:t.path,end:t.path==="/dashboard",onClick:e,className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?"bg-[#F5C400] text-[#0F0F0F] font-semibold shadow-lg shadow-[#F5C400]/20":"text-[#A0A0A0] hover:bg-[#2A2A2A] hover:text-white"}`,children:[t.icon,u.jsx("span",{children:t.label})]})},t.path))})}),u.jsx("div",{className:"p-4 border-t border-[#2A2A2A]",children:u.jsx("div",{className:"text-xs text-[#A0A0A0] text-center",children:" 2026 NexGio Solutions"})})]})}async function tN(){const{data:{user:e}}=await We.auth.getUser();return e?await We.from("admin_profiles").select("username,full_name,email,phone,role,user_id").eq("user_id",e.id).single():{data:null,error:new Error("Not authenticated")}}async function nN(e){const{data:{user:t}}=await We.auth.getUser();if(!t)return{data:null,error:new Error("Not authenticated")};const r={user_id:t.id};return e.admin_full_name!==void 0&&(r.full_name=e.admin_full_name),e.admin_phone!==void 0&&(r.phone=e.admin_phone),e.email!==void 0&&(r.email=e.email),e.admin_role!==void 0&&(r.role=e.admin_role),e.username!==void 0&&(r.username=e.username),await We.from("admin_profiles").upsert(r,{onConflict:"user_id"}).select().single()}async function rN(e,t){const{data:{user:r}}=await We.auth.getUser();if(!r||!r.email)return{data:null,error:new Error("Not authenticated")};const i=await We.auth.signInWithPassword({email:r.email,password:e});return i.error?{data:null,error:i.error}:await We.auth.updateUser({password:t})}function Wy(){const[e,t]=x.useState(null),[r,i]=x.useState(!0),[a,l]=x.useState(null),c=x.useCallback(async()=>{i(!0),l(null);try{const m=await tN();if(m.error)l(m.error.message??String(m.error)),t(null);else if(m.data)t({username:m.data.username??null,admin_full_name:m.data.full_name??null,email:m.data.email??null,admin_phone:m.data.phone??null,admin_role:m.data.role??null,user_id:m.data.user_id??null});else{const{data:{user:g}}=await We.auth.getUser();t({email:(g==null?void 0:g.email)??null,user_id:(g==null?void 0:g.id)??null})}}catch(m){l((m==null?void 0:m.message)??String(m)),t(null)}finally{i(!1)}},[]);return x.useEffect(()=>{c()},[c]),{profile:e,loading:r,error:a,reload:c,saveProfile:async m=>{i(!0),l(null);try{const g=await nN({username:m.username??null,admin_full_name:m.admin_full_name??null,admin_phone:m.admin_phone??null,admin_role:m.admin_role??null,email:m.email??null});if(g.error)throw g.error;const w=g.data;return t({username:w.username??null,admin_full_name:w.full_name??null,email:w.email??null,admin_phone:w.phone??null,admin_role:w.role??null,user_id:w.user_id??null}),{ok:!0}}catch(g){return l((g==null?void 0:g.message)??String(g)),{ok:!1,error:(g==null?void 0:g.message)??String(g)}}finally{i(!1)}},changePassword:async(m,g)=>{i(!0),l(null);try{const w=await rN(m,g);if(w.error)throw w.error;return{ok:!0}}catch(w){return l((w==null?void 0:w.message)??String(w)),{ok:!1,error:(w==null?void 0:w.message)??String(w)}}finally{i(!1)}}}}function sN({title:e,onMenuClick:t}){var E,C;const[r]=x.useState(3),{profile:i,loading:a}=Wy(),[l,c]=x.useState(!1),d=yo(),g=((C=(E=[...F_()].reverse().find(j=>{var T;return(T=j.handle)==null?void 0:T.title}))==null?void 0:E.handle)==null?void 0:C.title)??e,w=(i==null?void 0:i.admin_full_name)||(i==null?void 0:i.username)||"",b=(i==null?void 0:i.admin_role)||"",y=j=>{if(!j)return"AU";const T=j.trim().split(" ").filter(Boolean);return T.length>=2?(T[0][0]+T[1][0]).toUpperCase():j.substring(0,2).toUpperCase()},S=x.useRef(null),_=async()=>{c(!1),await We.auth.signOut(),d("/login")};return x.useEffect(()=>{function j(L){S.current&&(S.current.contains(L.target)||c(!1))}function T(L){L.key==="Escape"&&c(!1)}return document.addEventListener("click",j),document.addEventListener("keydown",T),()=>{document.removeEventListener("click",j),document.removeEventListener("keydown",T)}},[]),u.jsx("header",{className:"bg-[#161616] border-b border-[#2A2A2A] px-6 py-4 sticky top-0 z-40",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"md:hidden text-white hover:text-[#F5C400] transition-colors","aria-label":"Open menu",children:u.jsx(Oj,{className:"w-6 h-6"})}),u.jsx("h1",{className:"text-2xl font-semibold text-white",children:g})]}),u.jsxs("div",{className:"flex items-center gap-4 relative",children:[u.jsxs("div",{className:"relative hidden md:block",children:[u.jsx(Mh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#A0A0A0]"}),u.jsx(Re,{type:"search",placeholder:"Search...",className:"pl-10 w-64 bg-[#0F0F0F] border-[#2A2A2A] text-white placeholder:text-[#A0A0A0] focus:border-[#F5C400]"})]}),u.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-[#2A2A2A] transition-colors","aria-label":"View notifications",children:[u.jsx(hj,{className:"w-5 h-5 text-[#A0A0A0]"}),r>0&&u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-[#EA5455] rounded-full"})]}),u.jsxs("div",{className:"relative",ref:S,children:[u.jsxs("button",{onClick:()=>c(j=>!j),className:"flex items-center gap-3 pl-3 pr-2 py-2 rounded-lg hover:bg-[#2A2A2A] transition-colors","aria-haspopup":"menu","aria-expanded":"true",children:[u.jsxs("div",{className:"text-right hidden md:block",children:[u.jsx("p",{className:"text-sm font-medium text-white",children:a?"Loading...":w||""}),u.jsx("p",{className:"text-xs text-[#A0A0A0]",children:b})]}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#F5C400] to-[#F5C400]/80 flex items-center justify-center",children:u.jsx("span",{className:"text-[#0F0F0F] font-semibold",children:y(w||((i==null?void 0:i.username)??""))})}),u.jsx(Lh,{className:"w-4 h-4 text-[#A0A0A0]"})]}),l&&u.jsx("div",{role:"menu",className:"absolute right-0 mt-2 w-48 bg-[#0F0F0F] border border-[#2A2A2A] rounded-md shadow-lg py-2 z-50",children:u.jsx("button",{role:"menuitem",onClick:_,className:`w-full text-left px-4 py-2 text-sm rounded-md
                             text-red-400 hover:text-red-300
                             hover:bg-red-500/10
                             focus:outline-none focus:ring-2 focus:ring-red-400`,children:"Log out"})})]})]})]})})}const iN={"/dashboard":"Dashboard","/dashboard/clients":"Client List","/dashboard/tiers":"Internet Tiers","/dashboard/invoice":"Invoice Generation","/dashboard/payments":"Invoice History","/dashboard/settings":"Settings"};function aN(){const e=Er(),[t,r]=x.useState(!1),i=iN[e.pathname]||"Dashboard";return u.jsxs("div",{className:"flex h-screen bg-[#0F0F0F]",children:[u.jsx("div",{className:"hidden md:block",children:u.jsx(Hg,{})}),t&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>r(!1)}),u.jsx("div",{className:"fixed inset-y-0 left-0 z-50 md:hidden",children:u.jsx(Hg,{onClose:()=>r(!1)})})]}),u.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[u.jsx(sN,{title:i,onMenuClick:()=>r(!t)}),u.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:u.jsx(Q_,{})})]})]})}function Ga({title:e,value:t,icon:r,trend:i,iconColor:a="#F5C400"}){return u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6 hover:border-[#F5C400]/30 transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${a}20`},children:u.jsx(r,{className:"w-6 h-6",style:{color:a}})}),i&&u.jsxs("span",{className:`text-sm font-medium px-2 py-1 rounded ${i.isPositive?"text-[#28C76F] bg-[#28C76F]/10":"text-[#EA5455] bg-[#EA5455]/10"}`,children:[i.isPositive?"+":"",i.value]})]}),u.jsx("h3",{className:"text-[#A0A0A0] text-sm mb-1",children:e}),u.jsx("p",{className:"text-3xl font-bold text-white",children:t})]})}function fo({status:e,children:t}){const r={active:"bg-[#28C76F]/10 text-[#28C76F] border-[#28C76F]/20",late:"bg-[#FF9F43]/10 text-[#FF9F43] border-[#FF9F43]/20",suspended:"bg-[#EA5455]/10 text-[#EA5455] border-[#EA5455]/20",paid:"bg-[#28C76F]/10 text-[#28C76F] border-[#28C76F]/20",pending:"bg-[#FF9F43]/10 text-[#FF9F43] border-[#FF9F43]/20",overdue:"bg-[#EA5455]/10 text-[#EA5455] border-[#EA5455]/20"};return u.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${r[e]}`,children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-current mr-2"}),t||e.charAt(0).toUpperCase()+e.slice(1)]})}const Fh="id,name,room,tier_id,devices,status,contact,email,start_date,next_due_date,deposit_enabled,deposit_amount,account_username,account_password,account_status,created_at,updated_at";async function oN(){return We.from("clients").select(Fh).order("created_at",{ascending:!1}).returns()}async function lN(e){return We.from("clients").insert({name:e.name,room:e.room,tier_id:e.tier_id,devices:e.devices,status:e.status,contact:e.contact.trim()||null,email:e.email.trim()||null,start_date:e.start_date,deposit_enabled:e.deposit_enabled,deposit_amount:e.deposit_enabled?e.deposit_amount:0,account_username:e.account_username,account_password:e.account_password,account_status:"active"}).select(Fh).single().returns()}async function $h(e,t){const r={...t,account_status:"active"};return We.from("clients").update(r).eq("id",e).select(Fh).single().returns()}async function cN(e){return We.from("clients").delete().eq("id",e)}async function uN(){return We.from("clients").select("id,tier_id,status").returns()}async function dN(){return We.from("tiers").select("id,name,speed,device_limit,price,created_at,updated_at").order("price",{ascending:!0})}async function hN(e){return We.from("tiers").insert({name:e.name,speed:e.speed,device_limit:e.device_limit,price:e.price}).select("id,name,speed,device_limit,price,created_at,updated_at").single()}async function fN(e,t){return We.from("tiers").update(t).eq("id",e).select("id,name,speed,device_limit,price,created_at,updated_at").single()}async function mN(e){return We.from("tiers").delete().eq("id",e)}async function pN(e){return We.from("tiers").select("id, price, device_limit").eq("id",e).maybeSingle()}function gN(e,t){return t.filter(r=>r.tier_id===e&&r.status==="active").length}function vN(e,t){return{id:e.id,name:e.name,speed:e.speed,deviceLimit:e.device_limit,price:Number(e.price??0),subscribers:gN(e.id,t)}}function Ac(){const[e,t]=x.useState([]),[r,i]=x.useState([]),[a,l]=x.useState(!0),[c,d]=x.useState(null),f=x.useMemo(()=>e.map(y=>vN(y,r)),[e,r]),m=x.useCallback(async()=>{l(!0),d(null);const[y,S]=await Promise.all([dN(),uN()]);if(y.error){d(y.error.message),t([]),l(!1);return}t(y.data??[]),S.error?(console.error("Failed to fetch client counts:",S.error.message),i([])):i(S.data??[]),l(!1)},[]);x.useEffect(()=>{m()},[m]);const g=x.useCallback(async y=>{d(null);const{data:S,error:_}=await hN({name:y.name.trim(),speed:y.speed.trim(),device_limit:Number(y.deviceLimit)||1,price:Number(y.price)||0});return _?(d(_.message),{ok:!1}):(t(E=>[S,...E]),{ok:!0})},[]),w=x.useCallback(async(y,S)=>{d(null);const _={};S.name!==void 0&&(_.name=S.name.trim()),S.speed!==void 0&&(_.speed=S.speed.trim()),S.deviceLimit!==void 0&&(_.device_limit=Number(S.deviceLimit)||1),S.price!==void 0&&(_.price=Number(S.price)||0);const{data:E,error:C}=await fN(y,_);return C?(d(C.message),{ok:!1}):(t(j=>j.map(T=>T.id===y?E:T)),{ok:!0})},[]),b=x.useCallback(async y=>{d(null);const{error:S}=await mN(y);return S?(d(S.message),{ok:!1}):(t(_=>_.filter(E=>E.id!==y)),{ok:!0})},[]);return{tiers:f,loading:a,error:c,reload:m,add:g,edit:w,remove:b}}function yN(e,t=new Date){const r=new Date(e);if(Number.isNaN(r.getTime()))return"";const i=r.getDate(),a=(S,_)=>new Date(S,_+1,0).getDate();let l=t.getFullYear(),c=t.getMonth();const d=Math.min(i,a(l,c));let f=new Date(l,c,d);const m=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(new Date(f.getFullYear(),f.getMonth(),f.getDate())<=m){c+=1,c>11&&(c=0,l+=1);const S=Math.min(i,a(l,c));f=new Date(l,c,S)}const w=String(f.getMonth()+1).padStart(2,"0"),b=String(f.getDate()).padStart(2,"0"),y=f.getFullYear();return`${w}/${b}/${y}`}function wN(e){return e==="active"||e==="late"||e==="suspended"?e:"active"}function Ec(){const[e,t]=x.useState([]),[r,i]=x.useState(!0),[a,l]=x.useState(null),{tiers:c}=Ac(),d=x.useMemo(()=>{const b=new Map(c.map(y=>[y.id,y.name]));return e.map(y=>({id:y.id,name:y.name,room:y.room,tierId:y.tier_id,tier:b.get(y.tier_id)??"Unknown",devices:y.devices,status:wN(y.status),contact:y.contact??"",email:y.email??"",startDate:y.start_date,nextDueDate:y.next_due_date??"",dueDate:y.next_due_date?(()=>{const S=new Date(y.next_due_date),_=String(S.getMonth()+1).padStart(2,"0"),E=String(S.getDate()).padStart(2,"0"),C=S.getFullYear();return`${_}/${E}/${C}`})():yN(y.start_date),hasDeposit:y.deposit_enabled,depositAmount:y.deposit_amount??0,account:{username:y.account_username,password:y.account_password,status:"active"}}))},[e,c]),f=x.useCallback(async()=>{i(!0),l(null);const{data:b,error:y}=await oN();if(y){l(y.message),t([]),i(!1);return}t(b??[]),i(!1)},[]);x.useEffect(()=>{f()},[f]);const m=x.useCallback(async b=>{l(null);const{data:y,error:S}=await lN({name:b.name.trim(),room:b.room.trim(),tier_id:b.tierId,devices:b.devices,status:"active",contact:b.contact,email:b.email,start_date:b.startDate,deposit_enabled:b.hasDeposit,deposit_amount:b.depositAmount,account_username:b.username.trim(),account_password:b.password});return S?(l(S.message),{ok:!1}):(y&&t(_=>[y,..._]),{ok:!0})},[]),g=x.useCallback(async(b,y)=>{l(null);const S={};y.name!==void 0&&(S.name=y.name.trim()),y.room!==void 0&&(S.room=y.room.trim()),y.tierId!==void 0&&(S.tier_id=y.tierId),y.devices!==void 0&&(S.devices=y.devices),y.status!==void 0&&(S.status=y.status),y.contact!==void 0&&(S.contact=y.contact.trim()||null),y.email!==void 0&&(S.email=y.email.trim()||null),y.startDate!==void 0&&(S.start_date=y.startDate),y.hasDeposit!==void 0&&(S.deposit_enabled=y.hasDeposit),y.depositAmount!==void 0&&(S.deposit_amount=y.depositAmount),y.hasDeposit===!1&&(S.deposit_amount=0),y.username!==void 0&&(S.account_username=y.username.trim()),y.password!==void 0&&(S.account_password=y.password);const{data:_,error:E}=await $h(b,S);return E?(l(E.message),{ok:!1}):(_&&t(C=>C.map(j=>j.id===b?_:j)),{ok:!0})},[]),w=x.useCallback(async b=>{l(null);const{error:y}=await cN(b);return y?(l(y.message),{ok:!1}):(t(S=>S.filter(_=>_.id!==b)),{ok:!0})},[]);return{clients:d,loading:r,error:a,reload:f,add:m,edit:g,remove:w,tiers:c}}const bo="id,client_id,client_name,client_room,client_contact,client_email,invoice_number,billing_month,invoice_date,due_date,base_price,extra_device_charge,unregistered_overcharge,rebate,previous_balance,deposit_applied,total_amount,amount_paid,balance_due,payment_status,payment_date,paid_at,payment_method,created_at,updated_at",xN="id,client_id,client_name,client_room,client_contact,client_email,invoice_number,billing_month,invoice_date,due_date,base_price,extra_device_charge,unregistered_overcharge,rebate,previous_balance,deposit_applied,total_amount,amount_paid,balance_due,payment_status,payment_date,paid_at,payment_method,created_at,updated_at,clients(name,room,contact,email,tier_id)";async function Hy(e){return We.from("invoices").select(bo).eq("client_id",e).order("invoice_date",{ascending:!1}).returns()}async function Vy(e){const{data:t,error:r}=await We.from("invoices").select(bo).eq("client_id",e).order("due_date",{ascending:!1}).order("created_at",{ascending:!1}).limit(1).single();return r&&console.error("invoices.service.fetchLatestInvoiceByClient error:",{clientId:e,error:r}),{data:t,error:r}}async function Vg(e){const t={client_id:e.clientId,invoice_number:e.invoiceNumber,billing_month:e.billingMonth,invoice_date:e.invoiceDate,due_date:e.dueDate,base_price:e.basePrice,extra_device_charge:e.extraDeviceCharge??0,unregistered_overcharge:e.unregisteredOvercharge??0,rebate:e.rebate??0,previous_balance:e.previousBalance??0,deposit_applied:e.depositApplied??0,total_amount:e.totalAmount,payment_status:e.paymentStatus??"pending",payment_date:e.paymentDate??null,payment_method:e.paymentMethod??null,client_name:e.client_name??null,client_room:e.client_room??null,client_contact:e.client_contact??null,client_email:e.client_email??null,amount_paid:e.amount_paid??0,balance_due:e.balance_due??e.totalAmount??0};try{const r=Number(t.total_amount??0),i=Number(t.balance_due??r);(r<=0||i<=0)&&(t.balance_due=0,t.payment_status="paid",t.amount_paid=r,t.payment_date=t.payment_date??t.invoice_date??new Date().toISOString().slice(0,10),t.paid_at=t.paid_at??new Date().toISOString())}catch{}return We.from("invoices").insert(t).select(bo).single().returns()}async function bN(e,t){return We.from("invoices").update(t).eq("id",e).select(bo).single().returns()}async function qy(e){return We.from("invoices").delete().eq("id",e)}async function _N(e,t){return We.from("invoices").update(t).eq("id",e).select(bo).single().returns()}async function ch(e=50){return We.from("invoices").select(xN).order("invoice_date",{ascending:!1}).limit(e).returns()}async function Ky(e,t){try{const{data:r,error:i}=await We.from("invoices").select("id,balance_due").eq("client_id",e).order("invoice_date",{ascending:!1}).limit(1).maybeSingle();if(i)return console.error("computeClientPreviousBalance: fetch latest invoice error",i),0;const a=Number((r==null?void 0:r.balance_due)??0);return a<0?a:0}catch(r){return console.error("computeClientPreviousBalance unexpected error",r),0}}async function SN(e){const{data:t,error:r}=await We.from("payments").select("*, clients(id,name,room,contact,email)").eq("invoice_id",e).order("payment_date",{ascending:!1});return r&&console.error("payments.service.listPaymentsByInvoice error:",{invoiceId:e,error:r}),{data:t,error:r}}async function AN(e){return We.from("payments").select("*, clients(id,name,room,contact,email), invoices(id,invoice_number,invoice_date,due_date,base_price,extra_device_charge,unregistered_overcharge,rebate,previous_balance,deposit_applied,total_amount,amount_paid,balance_due,payment_status,payment_date,payment_method)").eq("invoice_id",e).order("payment_date",{ascending:!1})}async function EN(e,t){return We.from("payments").select("*").eq("client_id",e).eq("payment_type","advance").eq("payment_date",t).order("created_at",{ascending:!1})}async function jN(e){return We.from("payments").select("*, invoices(id,invoice_number,total_amount,amount_paid,balance_due)").eq("client_id",e).order("payment_date",{ascending:!1}).returns()}async function uh(e){var i;const t={client_id:e.client_id,invoice_id:e.invoice_id??null,payment_type:e.payment_type,amount:e.amount,payment_date:e.payment_date,payment_method:e.payment_method??null,notes:e.notes??null},r=await We.from("payments").insert(t).select("*").single();try{const a=(i=r.data)==null?void 0:i.invoice_id;a&&await Ks(a)}catch(a){console.error("createPayment: recomputeInvoiceFromPayments failed",a)}return r}async function Gy(e,t){var i;const r=await We.from("payments").update(t).eq("id",e).select("*").single();if(r.error)throw r.error;try{const a=((i=r.data)==null?void 0:i.invoice_id)??t.invoice_id;a&&await Ks(String(a))}catch(a){console.error("updatePayment: recomputeInvoiceFromPayments failed",a)}return r}async function Yy(e){var r;const t=await We.from("payments").delete().eq("id",e).select("*").single();if(t.error)throw t.error;try{const i=(r=t.data)==null?void 0:r.invoice_id;i&&await Ks(String(i))}catch(i){console.error("deletePayment: recomputeInvoiceFromPayments failed",i)}return t}async function NN(e){return We.from("payments").delete().eq("invoice_id",e)}async function kN(e){try{const{data:t,error:r}=await We.from("payments").select("amount").eq("invoice_id",e).in("payment_type",["full","partial"]);return r?(console.error("payments.service.sumPaymentsForInvoice error:",{invoiceId:e,error:r}),{sum:0,error:r}):{sum:(t??[]).reduce((a,l)=>a+Number(l.amount??0),0),error:null}}catch(t){return console.error("payments.service.sumPaymentsForInvoice unexpected error:",t),{sum:0,error:t}}}async function cc(){return We.from("payments").select("*, clients(id,name,room,contact,email), invoices(id,invoice_number,base_price,extra_device_charge,unregistered_overcharge,rebate,previous_balance,deposit_applied,total_amount,amount_paid,balance_due,payment_status,invoice_date,due_date)").order("payment_date",{ascending:!1}).order("created_at",{ascending:!1})}async function CN(e,t){try{const{data:r,error:i}=await We.from("payments").select("id,amount,payment_date,created_at,payment_type").eq("invoice_id",e).in("payment_type",["partial","full"]).neq("id",t.id).order("payment_date",{ascending:!0}).order("created_at",{ascending:!0});if(i)return console.error("payments.service.sumPreviousPaid error:",{invoiceId:e,currentPayment:t,error:i}),{sum:0,error:i};const a=r??[],l=t.payment_date??null,c=t.created_at??null,d=m=>{const g=m.payment_date??null,w=m.created_at??null;return l&&g?g<l?!0:g>l?!1:w&&c?w<c:!1:g&&!l||!g&&l?!1:!g&&!l&&w&&c?w<c:!1};return{sum:a.filter(m=>d(m)).reduce((m,g)=>m+Number(g.amount??0),0),error:null}}catch(r){return console.error("sumPreviousPaid unexpected error",r),{sum:0,error:r}}}async function Ks(e){try{const{data:t,error:r}=await We.from("payments").select("amount,payment_type,payment_date,payment_method").eq("invoice_id",e);if(r)return console.error("recomputeInvoiceFromPayments: failed to fetch payments",r),{error:r};const i=(t??[]).filter(b=>{const y=String((b==null?void 0:b.payment_type)??"").trim().toLowerCase();return y==="full"||y==="partial"}).reduce((b,y)=>b+Number(y.amount??0),0);try{console.log("[INV] recompute patch",{invoiceId:e,appliedSum:i})}catch{}const{data:a,error:l}=await We.from("invoices").select("id,total_amount").eq("id",e).limit(1).single();if(l)return console.error("recomputeInvoiceFromPayments: failed to fetch invoice",l),{error:l};const d=Number(a.total_amount??0)-i,f=d<=0?"paid":"pending",m=(t??[]).slice().sort((b,y)=>(y.payment_date||"").localeCompare(b.payment_date||""))[0],g={amount_paid:i,balance_due:d,payment_status:f};f==="paid"&&(g.payment_date=(m==null?void 0:m.payment_date)??null,g.payment_method=(m==null?void 0:m.payment_method)??null,g.paid_at=new Date().toISOString());const w=await _N(e,g);try{console.log("[INV] recompute result",{data:w.data,error:w.error})}catch{}try{typeof window<"u"&&window.dispatchEvent(new CustomEvent("invoices:updated",{detail:{invoiceId:e}}))}catch{}return{data:w.data??null,error:w.error??null}}catch(t){return console.error("recomputeInvoiceFromPayments unexpected error",t),{error:t}}}const RN=Object.freeze(Object.defineProperty({__proto__:null,createPayment:uh,deletePayment:Yy,deletePaymentsByInvoice:NN,listAdvancePaymentsForClientOnDate:EN,listPaymentsAll:cc,listPaymentsByClient:jN,listPaymentsByInvoice:SN,listPaymentsWithInvoice:AN,recomputeInvoiceFromPayments:Ks,sumPaymentsForInvoice:kN,sumPreviousPaid:CN,updatePayment:Gy},Symbol.toStringTag,{value:"Module"}));function Wl(e){return e?String(e).slice(0,7):""}function Hl(e){if(!e)return"";const t=String(e);return t.length===10?t+"T00:00:00":t}function PN(e){try{const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const i=Math.floor((new Date().getTime()-t.getTime())/1e3);return i<60?`${i}s ago`:i<3600?`${Math.floor(i/60)}m ago`:i<86400?`${Math.floor(i/3600)}h ago`:i<60*86400?`${Math.floor(i/86400)}d ago`:t.toLocaleDateString()}catch{return""}}function TN(){const{clients:e,loading:t}=Ec(),[r,i]=x.useState(!0),[a,l]=x.useState(null),[c,d]=x.useState(null);x.useEffect(()=>{let g=!0;return t||(async()=>{i(!0),l(null);try{const b=new Date,y=`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}`,[S,_]=await Promise.all([ch(500),cc()]),E=(S==null?void 0:S.data)??[],C=(_==null?void 0:_.data)??[],j=e.length,T=e.filter(V=>(V.status??"").toLowerCase()==="active").length,L=e.filter(V=>(V.status??"").toLowerCase()==="suspended").length,N=j-T-L,$=C.filter(V=>{const P=String((V==null?void 0:V.payment_type)??"").toLowerCase();return P!=="full"&&P!=="partial"?!1:Wl(V.payment_date??V.created_at??null)===y}).reduce((V,P)=>V+Number(P.amount??0),0),k=E.filter(V=>Number(V.balance_due??0)>0).length,z=new Date,W=new Date(z.getFullYear(),z.getMonth(),z.getDate()).getTime(),J=E.filter(V=>{if(Number(V.balance_due??0)<=0)return!1;const Z=V.due_date??null;if(!Z)return!1;const X=new Date(String(Z));return new Date(X.getFullYear(),X.getMonth(),X.getDate()).getTime()<W}).length,ae=E.filter(V=>Wl(V.invoice_date??V.created_at??null)===y),de={baseSubscriptions:ae.reduce((V,P)=>V+Number(P.base_price??0),0),extraDevices:ae.reduce((V,P)=>V+Number(P.extra_device_charge??0),0),overcharges:ae.reduce((V,P)=>V+Number(P.unregistered_overcharge??0),0)},fe=C.filter(V=>!0).map(V=>{var H;const P=((H=V.clients)==null?void 0:H.name)??V.client_name??"Unknown",Z=Number(V.amount??0),X=V.payment_method??"",R=Hl(V.payment_date??V.created_at??"");return{id:`p_${V.id}`,type:"payment",clientName:P,label:`Payment recorded  ${Z.toLocaleString()}${X?`  ${X}`:""}`,dateISO:R}}),le=E.map(V=>{var R;const P=((R=V.clients)==null?void 0:R.name)??V.client_name??"Unknown",Z=`Invoice created  ${V.invoice_number??"#"}  ${Number(V.total_amount??0).toLocaleString()}`,X=Hl(V.invoice_date??V.created_at??"");return{id:`i_${V.id}`,type:"invoice",clientName:P,label:Z,dateISO:X}}),te=fe.concat(le).filter(V=>V.dateISO).sort((V,P)=>(P.dateISO||"").localeCompare(V.dateISO||"")).slice(0,10),Q={totalClients:j,activeClients:T,suspendedClients:L,inactiveClients:N,monthlyRevenuePaid:Number($??0),pendingInvoicesCount:k,overdueInvoicesCount:J,revenueBreakdownMonth:de,recentActivity:te};g&&d(Q)}catch(b){console.error("useDashboard.load",b),g&&l(String((b==null?void 0:b.message)??b))}g&&i(!1)})(),()=>{g=!1}},[e,t]);const f=async()=>{i(!0),l(null);try{const g=new Date,w=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`,[b,y]=await Promise.all([ch(500),cc()]),S=(b==null?void 0:b.data)??[],_=(y==null?void 0:y.data)??[],E=_.filter(te=>{const Q=String((te==null?void 0:te.payment_type)??"").toLowerCase();return Q!=="full"&&Q!=="partial"?!1:Wl(te.payment_date??te.created_at??null)===w}).reduce((te,Q)=>te+Number(Q.amount??0),0),C=S.filter(te=>Wl(te.invoice_date??te.created_at??null)===w),j={baseSubscriptions:C.reduce((te,Q)=>te+Number(Q.base_price??0),0),extraDevices:C.reduce((te,Q)=>te+Number(Q.extra_device_charge??0),0),overcharges:C.reduce((te,Q)=>te+Number(Q.unregistered_overcharge??0),0)},T=_.map(te=>{var X;const Q=((X=te.clients)==null?void 0:X.name)??te.client_name??"Unknown",V=Number(te.amount??0),P=te.payment_method??"",Z=Hl(te.payment_date??te.created_at??"");return{id:`p_${te.id}`,type:"payment",clientName:Q,label:`Payment recorded  ${V.toLocaleString()}${P?`  ${P}`:""}`,dateISO:Z}}),L=S.map(te=>{var Z;const Q=((Z=te.clients)==null?void 0:Z.name)??te.client_name??"Unknown",V=`Invoice created  ${te.invoice_number??"#"}  ${Number(te.total_amount??0).toLocaleString()}`,P=Hl(te.invoice_date??te.created_at??"");return{id:`i_${te.id}`,type:"invoice",clientName:Q,label:V,dateISO:P}}),N=T.concat(L).filter(te=>te.dateISO).sort((te,Q)=>(Q.dateISO||"").localeCompare(te.dateISO||"")).slice(0,10),$=e.length,k=e.filter(te=>(te.status??"").toLowerCase()==="active").length,z=e.filter(te=>(te.status??"").toLowerCase()==="suspended").length,W=$-k-z,J=S.filter(te=>Number(te.balance_due??0)>0).length,ae=new Date,de=new Date(ae.getFullYear(),ae.getMonth(),ae.getDate()).getTime(),fe=S.filter(te=>{if(Number(te.balance_due??0)<=0)return!1;const V=te.due_date??null;if(!V)return!1;const P=new Date(String(V));return new Date(P.getFullYear(),P.getMonth(),P.getDate()).getTime()<de}).length,le={totalClients:$,activeClients:k,suspendedClients:z,inactiveClients:W,monthlyRevenuePaid:Number(E??0),pendingInvoicesCount:J,overdueInvoicesCount:fe,revenueBreakdownMonth:j,recentActivity:N};d(le)}catch(g){console.error("useDashboard.refresh",g),l(String((g==null?void 0:g.message)??g))}i(!1)},m=x.useMemo(()=>c?{...c,recentActivity:c.recentActivity.map(g=>({...g,relative:PN(g.dateISO)}))}:null,[c]);return{data:c,loading:r||t,error:a,refresh:f,formatted:m}}function ON(){const{data:e,loading:t,formatted:r}=TN();return x.useEffect(()=>{},[]),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:[u.jsx(Ga,{title:"Total Clients",value:t?"":String((e==null?void 0:e.totalClients)??0),icon:zy,trend:void 0,iconColor:"#F5C400"}),u.jsx(Ga,{title:"Active Connections",value:t?"":String((e==null?void 0:e.activeClients)??0),icon:lc,trend:void 0,iconColor:"#28C76F"}),u.jsx(Ga,{title:"Monthly Revenue",value:t?"":`${Number((e==null?void 0:e.monthlyRevenuePaid)??0).toLocaleString()}`,icon:Aj,trend:void 0,iconColor:"#F5C400"}),u.jsx(Ga,{title:"Pending Payments",value:t?"":String((e==null?void 0:e.pendingInvoicesCount)??0),icon:bj,iconColor:"#FF9F43"}),u.jsx(Ga,{title:"Overdue Accounts",value:t?"":String((e==null?void 0:e.overdueInvoicesCount)??0),icon:Hj,trend:void 0,iconColor:"#EA5455"})]}),u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-[#2A2A2A]",children:u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Recent Activity"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-[#161616]",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Client Name"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Event"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Date"})]})}),u.jsx("tbody",{className:"divide-y divide-[#2A2A2A]",children:((r==null?void 0:r.recentActivity)??[]).map((i,a)=>u.jsxs("tr",{className:"hover:bg-[#161616] transition-colors",children:[u.jsx("td",{className:"px-6 py-4 text-white",children:i.clientName}),u.jsx("td",{className:"px-6 py-4",children:u.jsx(fo,{status:i.type==="payment"?"paid":"pending",children:i.label})}),u.jsx("td",{className:"px-6 py-4 text-[#A0A0A0]",children:i.relative??i.dateISO})]},a))})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Connection Overview"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Active Connections"}),u.jsx("span",{className:"text-white font-semibold",children:t?"":String((e==null?void 0:e.activeClients)??0)})]}),u.jsx("div",{className:"w-full bg-[#161616] rounded-full h-2",children:u.jsx("div",{className:"bg-[#28C76F] h-2 rounded-full",style:{width:`${e?Math.round((e.activeClients??0)/Math.max(1,e.totalClients??1)*100):0}%`}})}),u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Suspended"}),u.jsx("span",{className:"text-white font-semibold",children:t?"":String((e==null?void 0:e.suspendedClients)??0)})]}),u.jsx("div",{className:"w-full bg-[#161616] rounded-full h-2",children:u.jsx("div",{className:"bg-[#EA5455] h-2 rounded-full",style:{width:`${e?Math.round((e.suspendedClients??0)/Math.max(1,e.totalClients??1)*100):0}%`}})}),u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Inactive"}),u.jsx("span",{className:"text-white font-semibold",children:t?"":String((e==null?void 0:e.inactiveClients)??0)})]}),u.jsx("div",{className:"w-full bg-[#161616] rounded-full h-2",children:u.jsx("div",{className:"bg-[#A0A0A0] h-2 rounded-full",style:{width:`${e?Math.round((e.inactiveClients??0)/Math.max(1,e.totalClients??1)*100):0}%`}})})]})]}),u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Revenue Breakdown"}),u.jsx("div",{className:"space-y-4",children:(()=>{const i=Number((e==null?void 0:e.revenueBreakdownMonth.baseSubscriptions)??0),a=Number((e==null?void 0:e.revenueBreakdownMonth.extraDevices)??0),l=Number((e==null?void 0:e.revenueBreakdownMonth.overcharges)??0),c=i+a+l||1,d=Math.round(i/c*100),f=Math.round(a/c*100),m=Math.round(l/c*100);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#161616] rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Base Subscriptions"}),u.jsx("p",{className:"text-white font-semibold text-lg",children:t?"":`${i.toLocaleString()}`})]}),u.jsx("div",{className:"text-[#28C76F] text-sm",children:t?"":`${d}%`})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#161616] rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Extra Devices"}),u.jsx("p",{className:"text-white font-semibold text-lg",children:t?"":`${a.toLocaleString()}`})]}),u.jsx("div",{className:"text-[#F5C400] text-sm",children:t?"":`${f}%`})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#161616] rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Overcharges"}),u.jsx("p",{className:"text-white font-semibold text-lg",children:t?"":`${l.toLocaleString()}`})]}),u.jsx("div",{className:"text-[#FF9F43] text-sm",children:t?"":`${m}%`})]})]})})()})]})]})]})}function dt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function DN(e,t){const r=x.createContext(t),i=l=>{const{children:c,...d}=l,f=x.useMemo(()=>d,Object.values(d));return u.jsx(r.Provider,{value:f,children:c})};i.displayName=e+"Provider";function a(l){const c=x.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[i,a]}function jc(e,t=[]){let r=[];function i(l,c){const d=x.createContext(c),f=r.length;r=[...r,c];const m=w=>{var C;const{scope:b,children:y,...S}=w,_=((C=b==null?void 0:b[e])==null?void 0:C[f])||d,E=x.useMemo(()=>S,Object.values(S));return u.jsx(_.Provider,{value:E,children:y})};m.displayName=l+"Provider";function g(w,b){var _;const y=((_=b==null?void 0:b[e])==null?void 0:_[f])||d,S=x.useContext(y);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${w}\` must be used within \`${l}\``)}return[m,g]}const a=()=>{const l=r.map(c=>x.createContext(c));return function(d){const f=(d==null?void 0:d[e])||l;return x.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return a.scopeName=e,[i,IN(a,...t)]}function IN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((d,{useScope:f,scopeName:m})=>{const w=f(l)[`__scope${m}`];return{...d,...w}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var Gt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},LN=Ev.useId||(()=>{}),MN=0;function Bi(e){const[t,r]=x.useState(LN());return Gt(()=>{r(i=>i??String(MN++))},[e]),e||(t?`radix-${t}`:"")}function _r(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},[])}function dh({prop:e,defaultProp:t,onChange:r=()=>{}}){const[i,a]=FN({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i,d=_r(r),f=x.useCallback(m=>{if(l){const w=typeof m=="function"?m(e):m;w!==e&&d(w)}else a(m)},[l,e,a,d]);return[c,f]}function FN({defaultProp:e,onChange:t}){const r=x.useState(e),[i]=r,a=x.useRef(i),l=_r(t);return x.useEffect(()=>{a.current!==i&&(l(i),a.current=i)},[i,a,l]),r}function $N(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e);x.useEffect(()=>{const i=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[r,t])}var UN="DismissableLayer",hh="dismissableLayer.update",zN="dismissableLayer.pointerDownOutside",BN="dismissableLayer.focusOutside",qg,Jy=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uh=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,m=x.useContext(Jy),[g,w]=x.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=x.useState({}),S=_t(t,k=>w(k)),_=Array.from(m.layers),[E]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(E),j=g?_.indexOf(g):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,L=j>=C,N=VN(k=>{const z=k.target,W=[...m.branches].some(J=>J.contains(z));!L||W||(a==null||a(k),c==null||c(k),k.defaultPrevented||d==null||d())},b),$=qN(k=>{const z=k.target;[...m.branches].some(J=>J.contains(z))||(l==null||l(k),c==null||c(k),k.defaultPrevented||d==null||d())},b);return $N(k=>{j===m.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},b),x.useEffect(()=>{if(g)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(qg=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Kg(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=qg)}},[g,b,r,m]),x.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Kg())},[g,m]),x.useEffect(()=>{const k=()=>y({});return document.addEventListener(hh,k),()=>document.removeEventListener(hh,k)},[]),u.jsx(ot.div,{...f,ref:S,style:{pointerEvents:T?L?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,$.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,N.onPointerDownCapture)})});Uh.displayName=UN;var WN="DismissableLayerBranch",HN=x.forwardRef((e,t)=>{const r=x.useContext(Jy),i=x.useRef(null),a=_t(t,i);return x.useEffect(()=>{const l=i.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),u.jsx(ot.div,{...e,ref:a})});HN.displayName=WN;function VN(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),i=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const l=d=>{if(d.target&&!i.current){let f=function(){Qy(zN,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}function qN(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),i=x.useRef(!1);return x.useEffect(()=>{const a=l=>{l.target&&!i.current&&Qy(BN,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Kg(){const e=new CustomEvent(hh);document.dispatchEvent(e)}function Qy(e,t,r,{discrete:i}){const a=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),i?nj(a,l):a.dispatchEvent(l)}var Ld="focusScope.autoFocusOnMount",Md="focusScope.autoFocusOnUnmount",Gg={bubbles:!1,cancelable:!0},KN="FocusScope",zh=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=e,[d,f]=x.useState(null),m=_r(a),g=_r(l),w=x.useRef(null),b=_t(t,_=>f(_)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let _=function(T){if(y.paused||!d)return;const L=T.target;d.contains(L)?w.current=L:ts(w.current,{select:!0})},E=function(T){if(y.paused||!d)return;const L=T.relatedTarget;L!==null&&(d.contains(L)||ts(w.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const N of T)N.removedNodes.length>0&&ts(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",E);const j=new MutationObserver(C);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",E),j.disconnect()}}},[i,d,y.paused]),x.useEffect(()=>{if(d){Jg.add(y);const _=document.activeElement;if(!d.contains(_)){const C=new CustomEvent(Ld,Gg);d.addEventListener(Ld,m),d.dispatchEvent(C),C.defaultPrevented||(GN(ZN(Xy(d)),{select:!0}),document.activeElement===_&&ts(d))}return()=>{d.removeEventListener(Ld,m),setTimeout(()=>{const C=new CustomEvent(Md,Gg);d.addEventListener(Md,g),d.dispatchEvent(C),C.defaultPrevented||ts(_??document.body,{select:!0}),d.removeEventListener(Md,g),Jg.remove(y)},0)}}},[d,m,g,y]);const S=x.useCallback(_=>{if(!r&&!i||y.paused)return;const E=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,C=document.activeElement;if(E&&C){const j=_.currentTarget,[T,L]=YN(j);T&&L?!_.shiftKey&&C===L?(_.preventDefault(),r&&ts(T,{select:!0})):_.shiftKey&&C===T&&(_.preventDefault(),r&&ts(L,{select:!0})):C===j&&_.preventDefault()}},[r,i,y.paused]);return u.jsx(ot.div,{tabIndex:-1,...c,ref:b,onKeyDown:S})});zh.displayName=KN;function GN(e,{select:t=!1}={}){const r=document.activeElement;for(const i of e)if(ts(i,{select:t}),document.activeElement!==r)return}function YN(e){const t=Xy(e),r=Yg(t,e),i=Yg(t.reverse(),e);return[r,i]}function Xy(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Yg(e,t){for(const r of e)if(!JN(r,{upTo:t}))return r}function JN(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QN(e){return e instanceof HTMLInputElement&&"select"in e}function ts(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&QN(e)&&t&&e.select()}}var Jg=XN();function XN(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Qg(e,t),e.unshift(t)},remove(t){var r;e=Qg(e,t),(r=e[0])==null||r.resume()}}}function Qg(e,t){const r=[...e],i=r.indexOf(t);return i!==-1&&r.splice(i,1),r}function ZN(e){return e.filter(t=>t.tagName!=="A")}var ek="Portal",Bh=x.forwardRef((e,t)=>{var d;const{container:r,...i}=e,[a,l]=x.useState(!1);Gt(()=>l(!0),[]);const c=r||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?OS.createPortal(u.jsx(ot.div,{...i,ref:t}),c):null});Bh.displayName=ek;function tk(e,t){return x.useReducer((r,i)=>t[r][i]??r,e)}var Nc=e=>{const{present:t,children:r}=e,i=nk(t),a=typeof r=="function"?r({present:i.isPresent}):x.Children.only(r),l=_t(i.ref,rk(a));return typeof r=="function"||i.isPresent?x.cloneElement(a,{ref:l}):null};Nc.displayName="Presence";function nk(e){const[t,r]=x.useState(),i=x.useRef({}),a=x.useRef(e),l=x.useRef("none"),c=e?"mounted":"unmounted",[d,f]=tk(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=Vl(i.current);l.current=d==="mounted"?m:"none"},[d]),Gt(()=>{const m=i.current,g=a.current;if(g!==e){const b=l.current,y=Vl(m);e?f("MOUNT"):y==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(g&&b!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Gt(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,w=y=>{const _=Vl(i.current).includes(y.animationName);if(y.target===t&&_&&(f("ANIMATION_END"),!a.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},b=y=>{y.target===t&&(l.current=Vl(i.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(m=>{m&&(i.current=getComputedStyle(m)),r(m)},[])}}function Vl(e){return(e==null?void 0:e.animationName)||"none"}function rk(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Fd=0;function Zy(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xg()),document.body.insertAdjacentElement("beforeend",e[1]??Xg()),Fd++,()=>{Fd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fd--}},[])}function Xg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tc="right-scroll-bar-position",nc="width-before-scroll-bar",sk="with-scroll-bars-hidden",ik="--removed-body-scroll-bar-size";function $d(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ak(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var a=r.value;a!==i&&(r.value=i,r.callback(i,a))}}}})[0];return r.callback=t,r.facade}var ok=typeof window<"u"?x.useLayoutEffect:x.useEffect,Zg=new WeakMap;function lk(e,t){var r=ak(null,function(i){return e.forEach(function(a){return $d(a,i)})});return ok(function(){var i=Zg.get(r);if(i){var a=new Set(i),l=new Set(e),c=r.current;a.forEach(function(d){l.has(d)||$d(d,null)}),l.forEach(function(d){a.has(d)||$d(d,c)})}Zg.set(r,e)},[e]),r}function ck(e){return e}function uk(e,t){t===void 0&&(t=ck);var r=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,i);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(i=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){i=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var g=c;c=[],g.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),r={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),r}}}};return a}function dk(e){e===void 0&&(e={});var t=uk(null);return t.options=Jn({async:!0,ssr:!1},e),t}var e0=function(e){var t=e.sideCar,r=Yi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Jn({},r))};e0.isSideCarExport=!0;function hk(e,t){return e.useMedium(t),e0}var t0=dk(),Ud=function(){},kc=x.forwardRef(function(e,t){var r=x.useRef(null),i=x.useState({onScrollCapture:Ud,onWheelCapture:Ud,onTouchMoveCapture:Ud}),a=i[0],l=i[1],c=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,g=e.enabled,w=e.shards,b=e.sideCar,y=e.noRelative,S=e.noIsolation,_=e.inert,E=e.allowPinchZoom,C=e.as,j=C===void 0?"div":C,T=e.gapMode,L=Yi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=b,$=lk([r,t]),k=Jn(Jn({},L),a);return x.createElement(x.Fragment,null,g&&x.createElement(N,{sideCar:t0,removeScrollBar:m,shards:w,noRelative:y,noIsolation:S,inert:_,setCallbacks:l,allowPinchZoom:!!E,lockRef:r,gapMode:T}),c?x.cloneElement(x.Children.only(d),Jn(Jn({},k),{ref:$})):x.createElement(j,Jn({},k,{className:f,ref:$}),d))});kc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kc.classNames={fullWidth:nc,zeroRight:tc};var fk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fk();return t&&e.setAttribute("nonce",t),e}function pk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vk=function(){var e=0,t=null;return{add:function(r){e==0&&(t=mk())&&(pk(t,r),gk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yk=function(){var e=vk();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},n0=function(){var e=yk(),t=function(r){var i=r.styles,a=r.dynamic;return e(i,a),null};return t},wk={left:0,top:0,right:0,gap:0},zd=function(e){return parseInt(e||"",10)||0},xk=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[zd(r),zd(i),zd(a)]},bk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wk;var t=xk(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},_k=n0(),Wi="data-scroll-locked",Sk=function(e,t,r,i){var a=e.left,l=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(sk,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(Wi,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tc,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(nc,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(tc," .").concat(tc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(nc," .").concat(nc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Wi,`] {
    `).concat(ik,": ").concat(d,`px;
  }
`)},ev=function(){var e=parseInt(document.body.getAttribute(Wi)||"0",10);return isFinite(e)?e:0},Ak=function(){x.useEffect(function(){return document.body.setAttribute(Wi,(ev()+1).toString()),function(){var e=ev()-1;e<=0?document.body.removeAttribute(Wi):document.body.setAttribute(Wi,e.toString())}},[])},Ek=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,a=i===void 0?"margin":i;Ak();var l=x.useMemo(function(){return bk(a)},[a]);return x.createElement(_k,{styles:Sk(l,!t,a,r?"":"!important")})},fh=!1;if(typeof window<"u")try{var ql=Object.defineProperty({},"passive",{get:function(){return fh=!0,!0}});window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{fh=!1}var Ri=fh?{passive:!1}:!1,jk=function(e){return e.tagName==="TEXTAREA"},r0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jk(e)&&r[t]==="visible")},Nk=function(e){return r0(e,"overflowY")},kk=function(e){return r0(e,"overflowX")},tv=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=s0(e,i);if(a){var l=i0(e,i),c=l[1],d=l[2];if(c>d)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},Ck=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},Rk=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},s0=function(e,t){return e==="v"?Nk(t):kk(t)},i0=function(e,t){return e==="v"?Ck(t):Rk(t)},Pk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Tk=function(e,t,r,i,a){var l=Pk(e,window.getComputedStyle(t).direction),c=l*i,d=r.target,f=t.contains(d),m=!1,g=c>0,w=0,b=0;do{if(!d)break;var y=i0(e,d),S=y[0],_=y[1],E=y[2],C=_-E-l*S;(S||C)&&s0(e,d)&&(w+=C,b+=S);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(w)<1||!g&&Math.abs(b)<1)&&(m=!0),m},Kl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nv=function(e){return[e.deltaX,e.deltaY]},rv=function(e){return e&&"current"in e?e.current:e},Ok=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Dk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ik=0,Pi=[];function Lk(e){var t=x.useRef([]),r=x.useRef([0,0]),i=x.useRef(),a=x.useState(Ik++)[0],l=x.useState(n0)[0],c=x.useRef(e);x.useEffect(function(){c.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=LS([e.lockRef.current],(e.shards||[]).map(rv),!0).filter(Boolean);return _.forEach(function(E){return E.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=x.useCallback(function(_,E){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var C=Kl(_),j=r.current,T="deltaX"in _?_.deltaX:j[0]-C[0],L="deltaY"in _?_.deltaY:j[1]-C[1],N,$=_.target,k=Math.abs(T)>Math.abs(L)?"h":"v";if("touches"in _&&k==="h"&&$.type==="range")return!1;var z=window.getSelection(),W=z&&z.anchorNode,J=W?W===$||W.contains($):!1;if(J)return!1;var ae=tv(k,$);if(!ae)return!0;if(ae?N=k:(N=k==="v"?"h":"v",ae=tv(k,$)),!ae)return!1;if(!i.current&&"changedTouches"in _&&(T||L)&&(i.current=N),!N)return!0;var de=i.current||N;return Tk(de,E,_,de==="h"?T:L)},[]),f=x.useCallback(function(_){var E=_;if(!(!Pi.length||Pi[Pi.length-1]!==l)){var C="deltaY"in E?nv(E):Kl(E),j=t.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&Ok(N.delta,C)})[0];if(j&&j.should){E.cancelable&&E.preventDefault();return}if(!j){var T=(c.current.shards||[]).map(rv).filter(Boolean).filter(function(N){return N.contains(E.target)}),L=T.length>0?d(E,T[0]):!c.current.noIsolation;L&&E.cancelable&&E.preventDefault()}}},[]),m=x.useCallback(function(_,E,C,j){var T={name:_,delta:E,target:C,should:j,shadowParent:Mk(C)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(L){return L!==T})},1)},[]),g=x.useCallback(function(_){r.current=Kl(_),i.current=void 0},[]),w=x.useCallback(function(_){m(_.type,nv(_),_.target,d(_,e.lockRef.current))},[]),b=x.useCallback(function(_){m(_.type,Kl(_),_.target,d(_,e.lockRef.current))},[]);x.useEffect(function(){return Pi.push(l),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Ri),document.addEventListener("touchmove",f,Ri),document.addEventListener("touchstart",g,Ri),function(){Pi=Pi.filter(function(_){return _!==l}),document.removeEventListener("wheel",f,Ri),document.removeEventListener("touchmove",f,Ri),document.removeEventListener("touchstart",g,Ri)}},[]);var y=e.removeScrollBar,S=e.inert;return x.createElement(x.Fragment,null,S?x.createElement(l,{styles:Dk(a)}):null,y?x.createElement(Ek,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Mk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Fk=hk(t0,Lk);var Wh=x.forwardRef(function(e,t){return x.createElement(kc,Jn({},e,{ref:t,sideCar:Fk}))});Wh.classNames=kc.classNames;var $k=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ti=new WeakMap,Gl=new WeakMap,Yl={},Bd=0,a0=function(e){return e&&(e.host||a0(e.parentNode))},Uk=function(e,t){return t.map(function(r){if(e.contains(r))return r;var i=a0(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zk=function(e,t,r,i){var a=Uk(t,Array.isArray(e)?e:[e]);Yl[r]||(Yl[r]=new WeakMap);var l=Yl[r],c=[],d=new Set,f=new Set(a),m=function(w){!w||d.has(w)||(d.add(w),m(w.parentNode))};a.forEach(m);var g=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(b){if(d.has(b))g(b);else try{var y=b.getAttribute(i),S=y!==null&&y!=="false",_=(Ti.get(b)||0)+1,E=(l.get(b)||0)+1;Ti.set(b,_),l.set(b,E),c.push(b),_===1&&S&&Gl.set(b,!0),E===1&&b.setAttribute(r,"true"),S||b.setAttribute(i,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return g(t),d.clear(),Bd++,function(){c.forEach(function(w){var b=Ti.get(w)-1,y=l.get(w)-1;Ti.set(w,b),l.set(w,y),b||(Gl.has(w)||w.removeAttribute(i),Gl.delete(w)),y||w.removeAttribute(r)}),Bd--,Bd||(Ti=new WeakMap,Ti=new WeakMap,Gl=new WeakMap,Yl={})}},o0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),a=$k(e);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),zk(i,a,r,"aria-hidden")):function(){return null}},Hh="Dialog",[l0]=jc(Hh),[Bk,zn]=l0(Hh),c0=e=>{const{__scopeDialog:t,children:r,open:i,defaultOpen:a,onOpenChange:l,modal:c=!0}=e,d=x.useRef(null),f=x.useRef(null),[m=!1,g]=dh({prop:i,defaultProp:a,onChange:l});return u.jsx(Bk,{scope:t,triggerRef:d,contentRef:f,contentId:Bi(),titleId:Bi(),descriptionId:Bi(),open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(w=>!w),[g]),modal:c,children:r})};c0.displayName=Hh;var u0="DialogTrigger",d0=x.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,a=zn(u0,r),l=_t(t,a.triggerRef);return u.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Kh(a.open),...i,ref:l,onClick:dt(e.onClick,a.onOpenToggle)})});d0.displayName=u0;var Vh="DialogPortal",[Wk,h0]=l0(Vh,{forceMount:void 0}),f0=e=>{const{__scopeDialog:t,forceMount:r,children:i,container:a}=e,l=zn(Vh,t);return u.jsx(Wk,{scope:t,forceMount:r,children:x.Children.map(i,c=>u.jsx(Nc,{present:r||l.open,children:u.jsx(Bh,{asChild:!0,container:a,children:c})}))})};f0.displayName=Vh;var uc="DialogOverlay",m0=x.forwardRef((e,t)=>{const r=h0(uc,e.__scopeDialog),{forceMount:i=r.forceMount,...a}=e,l=zn(uc,e.__scopeDialog);return l.modal?u.jsx(Nc,{present:i||l.open,children:u.jsx(Hk,{...a,ref:t})}):null});m0.displayName=uc;var Hk=x.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,a=zn(uc,r);return u.jsx(Wh,{as:qs,allowPinchZoom:!0,shards:[a.contentRef],children:u.jsx(ot.div,{"data-state":Kh(a.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Gs="DialogContent",p0=x.forwardRef((e,t)=>{const r=h0(Gs,e.__scopeDialog),{forceMount:i=r.forceMount,...a}=e,l=zn(Gs,e.__scopeDialog);return u.jsx(Nc,{present:i||l.open,children:l.modal?u.jsx(Vk,{...a,ref:t}):u.jsx(qk,{...a,ref:t})})});p0.displayName=Gs;var Vk=x.forwardRef((e,t)=>{const r=zn(Gs,e.__scopeDialog),i=x.useRef(null),a=_t(t,r.contentRef,i);return x.useEffect(()=>{const l=i.current;if(l)return o0(l)},[]),u.jsx(g0,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,l=>l.preventDefault())})}),qk=x.forwardRef((e,t)=>{const r=zn(Gs,e.__scopeDialog),i=x.useRef(!1),a=x.useRef(!1);return u.jsx(g0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(i.current||(d=r.triggerRef.current)==null||d.focus(),l.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:l=>{var f,m;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;((m=r.triggerRef.current)==null?void 0:m.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),g0=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=e,d=zn(Gs,r),f=x.useRef(null),m=_t(t,f);return Zy(),u.jsxs(u.Fragment,{children:[u.jsx(zh,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:l,children:u.jsx(Uh,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Kh(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Gk,{titleId:d.titleId}),u.jsx(Jk,{contentRef:f,descriptionId:d.descriptionId})]})]})}),qh="DialogTitle",v0=x.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,a=zn(qh,r);return u.jsx(ot.h2,{id:a.titleId,...i,ref:t})});v0.displayName=qh;var y0="DialogDescription",Kk=x.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,a=zn(y0,r);return u.jsx(ot.p,{id:a.descriptionId,...i,ref:t})});Kk.displayName=y0;var w0="DialogClose",x0=x.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,a=zn(w0,r);return u.jsx(ot.button,{type:"button",...i,ref:t,onClick:dt(e.onClick,()=>a.onOpenChange(!1))})});x0.displayName=w0;function Kh(e){return e?"open":"closed"}var b0="DialogTitleWarning",[IR,_0]=DN(b0,{contentName:Gs,titleName:qh,docsSlug:"dialog"}),Gk=({titleId:e})=>{const t=_0(b0),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Yk="DialogDescriptionWarning",Jk=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_0(Yk).contentName}}.`;return x.useEffect(()=>{var l;const a=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},Qk=c0,Xk=d0,Zk=f0,eC=m0,tC=p0,nC=v0,rC=x0;function os({...e}){return u.jsx(Qk,{"data-slot":"dialog",...e})}function S0({...e}){return u.jsx(Xk,{"data-slot":"dialog-trigger",...e})}function sC({...e}){return u.jsx(Zk,{"data-slot":"dialog-portal",...e})}function iC({className:e,...t}){return u.jsx(eC,{"data-slot":"dialog-overlay",className:rn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ls({className:e,children:t,...r}){return u.jsxs(sC,{"data-slot":"dialog-portal",children:[u.jsx(iC,{}),u.jsxs(tC,{"data-slot":"dialog-content",className:rn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,u.jsxs(rC,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(By,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function cs({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-header",className:rn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Gh({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-footer",className:rn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function us({className:e,...t}){return u.jsx(nC,{"data-slot":"dialog-title",className:rn("text-lg leading-none font-semibold",e),...t})}function sv(e,[t,r]){return Math.min(r,Math.max(t,e))}function aC(e){const t=e+"CollectionProvider",[r,i]=jc(t),[a,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=y=>{const{scope:S,children:_}=y,E=es.useRef(null),C=es.useRef(new Map).current;return u.jsx(a,{scope:S,itemMap:C,collectionRef:E,children:_})};c.displayName=t;const d=e+"CollectionSlot",f=es.forwardRef((y,S)=>{const{scope:_,children:E}=y,C=l(d,_),j=_t(S,C.collectionRef);return u.jsx(qs,{ref:j,children:E})});f.displayName=d;const m=e+"CollectionItemSlot",g="data-radix-collection-item",w=es.forwardRef((y,S)=>{const{scope:_,children:E,...C}=y,j=es.useRef(null),T=_t(S,j),L=l(m,_);return es.useEffect(()=>(L.itemMap.set(j,{ref:j,...C}),()=>void L.itemMap.delete(j))),u.jsx(qs,{[g]:"",ref:T,children:E})});w.displayName=m;function b(y){const S=l(e+"CollectionConsumer",y);return es.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((L,N)=>C.indexOf(L.ref.current)-C.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:w},b,i]}var oC=x.createContext(void 0);function lC(e){const t=x.useContext(oC);return e||t||"ltr"}const cC=["top","right","bottom","left"],hs=Math.min,fn=Math.max,dc=Math.round,Jl=Math.floor,rr=e=>({x:e,y:e}),uC={left:"right",right:"left",bottom:"top",top:"bottom"},dC={start:"end",end:"start"};function mh(e,t,r){return fn(e,hs(t,r))}function Sr(e,t){return typeof e=="function"?e(t):e}function Ar(e){return e.split("-")[0]}function Zi(e){return e.split("-")[1]}function Yh(e){return e==="x"?"y":"x"}function Jh(e){return e==="y"?"height":"width"}const hC=new Set(["top","bottom"]);function Qn(e){return hC.has(Ar(e))?"y":"x"}function Qh(e){return Yh(Qn(e))}function fC(e,t,r){r===void 0&&(r=!1);const i=Zi(e),a=Qh(e),l=Jh(a);let c=a==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=hc(c)),[c,hc(c)]}function mC(e){const t=hc(e);return[ph(e),t,ph(t)]}function ph(e){return e.replace(/start|end/g,t=>dC[t])}const iv=["left","right"],av=["right","left"],pC=["top","bottom"],gC=["bottom","top"];function vC(e,t,r){switch(e){case"top":case"bottom":return r?t?av:iv:t?iv:av;case"left":case"right":return t?pC:gC;default:return[]}}function yC(e,t,r,i){const a=Zi(e);let l=vC(Ar(e),r==="start",i);return a&&(l=l.map(c=>c+"-"+a),t&&(l=l.concat(l.map(ph)))),l}function hc(e){return e.replace(/left|right|bottom|top/g,t=>uC[t])}function wC(e){return{top:0,right:0,bottom:0,left:0,...e}}function A0(e){return typeof e!="number"?wC(e):{top:e,right:e,bottom:e,left:e}}function fc(e){const{x:t,y:r,width:i,height:a}=e;return{width:i,height:a,top:r,left:t,right:t+i,bottom:r+a,x:t,y:r}}function ov(e,t,r){let{reference:i,floating:a}=e;const l=Qn(t),c=Qh(t),d=Jh(c),f=Ar(t),m=l==="y",g=i.x+i.width/2-a.width/2,w=i.y+i.height/2-a.height/2,b=i[d]/2-a[d]/2;let y;switch(f){case"top":y={x:g,y:i.y-a.height};break;case"bottom":y={x:g,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:w};break;case"left":y={x:i.x-a.width,y:w};break;default:y={x:i.x,y:i.y}}switch(Zi(t)){case"start":y[c]-=b*(r&&m?-1:1);break;case"end":y[c]+=b*(r&&m?-1:1);break}return y}async function xC(e,t){var r;t===void 0&&(t={});const{x:i,y:a,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:w="floating",altBoundary:b=!1,padding:y=0}=Sr(t,e),S=A0(y),E=d[b?w==="floating"?"reference":"floating":w],C=fc(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(E)))==null||r?E:E.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:f})),j=w==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),L=await(l.isElement==null?void 0:l.isElement(T))?await(l.getScale==null?void 0:l.getScale(T))||{x:1,y:1}:{x:1,y:1},N=fc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:T,strategy:f}):j);return{top:(C.top-N.top+S.top)/L.y,bottom:(N.bottom-C.bottom+S.bottom)/L.y,left:(C.left-N.left+S.left)/L.x,right:(N.right-C.right+S.right)/L.x}}const bC=async(e,t,r)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y:w}=ov(m,i,f),b=i,y={},S=0;for(let E=0;E<d.length;E++){var _;const{name:C,fn:j}=d[E],{x:T,y:L,data:N,reset:$}=await j({x:g,y:w,initialPlacement:i,placement:b,strategy:a,middlewareData:y,rects:m,platform:{...c,detectOverflow:(_=c.detectOverflow)!=null?_:xC},elements:{reference:e,floating:t}});g=T??g,w=L??w,y={...y,[C]:{...y[C],...N}},$&&S<=50&&(S++,typeof $=="object"&&($.placement&&(b=$.placement),$.rects&&(m=$.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):$.rects),{x:g,y:w}=ov(m,b,f)),E=-1)}return{x:g,y:w,placement:b,strategy:a,middlewareData:y}},_C=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:a,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:m,padding:g=0}=Sr(e,t)||{};if(m==null)return{};const w=A0(g),b={x:r,y:i},y=Qh(a),S=Jh(y),_=await c.getDimensions(m),E=y==="y",C=E?"top":"left",j=E?"bottom":"right",T=E?"clientHeight":"clientWidth",L=l.reference[S]+l.reference[y]-b[y]-l.floating[S],N=b[y]-l.reference[y],$=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let k=$?$[T]:0;(!k||!await(c.isElement==null?void 0:c.isElement($)))&&(k=d.floating[T]||l.floating[S]);const z=L/2-N/2,W=k/2-_[S]/2-1,J=hs(w[C],W),ae=hs(w[j],W),de=J,fe=k-_[S]-ae,le=k/2-_[S]/2+z,te=mh(de,le,fe),Q=!f.arrow&&Zi(a)!=null&&le!==te&&l.reference[S]/2-(le<de?J:ae)-_[S]/2<0,V=Q?le<de?le-de:le-fe:0;return{[y]:b[y]+V,data:{[y]:te,centerOffset:le-te-V,...Q&&{alignmentOffset:V}},reset:Q}}}),SC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:g=!0,crossAxis:w=!0,fallbackPlacements:b,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...E}=Sr(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=Ar(a),j=Qn(d),T=Ar(d)===d,L=await(f.isRTL==null?void 0:f.isRTL(m.floating)),N=b||(T||!_?[hc(d)]:mC(d)),$=S!=="none";!b&&$&&N.push(...yC(d,_,S,L));const k=[d,...N],z=await f.detectOverflow(t,E),W=[];let J=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&W.push(z[C]),w){const le=fC(a,c,L);W.push(z[le[0]],z[le[1]])}if(J=[...J,{placement:a,overflows:W}],!W.every(le=>le<=0)){var ae,de;const le=(((ae=l.flip)==null?void 0:ae.index)||0)+1,te=k[le];if(te&&(!(w==="alignment"?j!==Qn(te):!1)||J.every(P=>Qn(P.placement)===j?P.overflows[0]>0:!0)))return{data:{index:le,overflows:J},reset:{placement:te}};let Q=(de=J.filter(V=>V.overflows[0]<=0).sort((V,P)=>V.overflows[1]-P.overflows[1])[0])==null?void 0:de.placement;if(!Q)switch(y){case"bestFit":{var fe;const V=(fe=J.filter(P=>{if($){const Z=Qn(P.placement);return Z===j||Z==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(Z=>Z>0).reduce((Z,X)=>Z+X,0)]).sort((P,Z)=>P[1]-Z[1])[0])==null?void 0:fe[0];V&&(Q=V);break}case"initialPlacement":Q=d;break}if(a!==Q)return{reset:{placement:Q}}}return{}}}};function lv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cv(e){return cC.some(t=>e[t]>=0)}const AC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:i}=t,{strategy:a="referenceHidden",...l}=Sr(e,t);switch(a){case"referenceHidden":{const c=await i.detectOverflow(t,{...l,elementContext:"reference"}),d=lv(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:cv(d)}}}case"escaped":{const c=await i.detectOverflow(t,{...l,altBoundary:!0}),d=lv(c,r.floating);return{data:{escapedOffsets:d,escaped:cv(d)}}}default:return{}}}}},E0=new Set(["left","top"]);async function EC(e,t){const{placement:r,platform:i,elements:a}=e,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=Ar(r),d=Zi(r),f=Qn(r)==="y",m=E0.has(c)?-1:1,g=l&&f?-1:1,w=Sr(t,e);let{mainAxis:b,crossAxis:y,alignmentAxis:S}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof S=="number"&&(y=d==="end"?S*-1:S),f?{x:y*g,y:b*m}:{x:b*m,y:y*g}}const jC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:a,y:l,placement:c,middlewareData:d}=t,f=await EC(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:c}}}}},NC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:a,platform:l}=t,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:C=>{let{x:j,y:T}=C;return{x:j,y:T}}},...m}=Sr(e,t),g={x:r,y:i},w=await l.detectOverflow(t,m),b=Qn(Ar(a)),y=Yh(b);let S=g[y],_=g[b];if(c){const C=y==="y"?"top":"left",j=y==="y"?"bottom":"right",T=S+w[C],L=S-w[j];S=mh(T,S,L)}if(d){const C=b==="y"?"top":"left",j=b==="y"?"bottom":"right",T=_+w[C],L=_-w[j];_=mh(T,_,L)}const E=f.fn({...t,[y]:S,[b]:_});return{...E,data:{x:E.x-r,y:E.y-i,enabled:{[y]:c,[b]:d}}}}}},kC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:a,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Sr(e,t),g={x:r,y:i},w=Qn(a),b=Yh(w);let y=g[b],S=g[w];const _=Sr(d,t),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const T=b==="y"?"height":"width",L=l.reference[b]-l.floating[T]+E.mainAxis,N=l.reference[b]+l.reference[T]-E.mainAxis;y<L?y=L:y>N&&(y=N)}if(m){var C,j;const T=b==="y"?"width":"height",L=E0.has(Ar(a)),N=l.reference[w]-l.floating[T]+(L&&((C=c.offset)==null?void 0:C[w])||0)+(L?0:E.crossAxis),$=l.reference[w]+l.reference[T]+(L?0:((j=c.offset)==null?void 0:j[w])||0)-(L?E.crossAxis:0);S<N?S=N:S>$&&(S=$)}return{[b]:y,[w]:S}}}},CC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:a,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...m}=Sr(e,t),g=await c.detectOverflow(t,m),w=Ar(a),b=Zi(a),y=Qn(a)==="y",{width:S,height:_}=l.floating;let E,C;w==="top"||w==="bottom"?(E=w,C=b===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(C=w,E=b==="end"?"top":"bottom");const j=_-g.top-g.bottom,T=S-g.left-g.right,L=hs(_-g[E],j),N=hs(S-g[C],T),$=!t.middlewareData.shift;let k=L,z=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=T),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(k=j),$&&!b){const J=fn(g.left,0),ae=fn(g.right,0),de=fn(g.top,0),fe=fn(g.bottom,0);y?z=S-2*(J!==0||ae!==0?J+ae:fn(g.left,g.right)):k=_-2*(de!==0||fe!==0?de+fe:fn(g.top,g.bottom))}await f({...t,availableWidth:z,availableHeight:k});const W=await c.getDimensions(d.floating);return S!==W.width||_!==W.height?{reset:{rects:!0}}:{}}}};function Cc(){return typeof window<"u"}function ea(e){return j0(e)?(e.nodeName||"").toLowerCase():"#document"}function pn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ar(e){var t;return(t=(j0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j0(e){return Cc()?e instanceof Node||e instanceof pn(e).Node:!1}function Fn(e){return Cc()?e instanceof Element||e instanceof pn(e).Element:!1}function ir(e){return Cc()?e instanceof HTMLElement||e instanceof pn(e).HTMLElement:!1}function uv(e){return!Cc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pn(e).ShadowRoot}const RC=new Set(["inline","contents"]);function _o(e){const{overflow:t,overflowX:r,overflowY:i,display:a}=$n(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!RC.has(a)}const PC=new Set(["table","td","th"]);function TC(e){return PC.has(ea(e))}const OC=[":popover-open",":modal"];function Rc(e){return OC.some(t=>{try{return e.matches(t)}catch{return!1}})}const DC=["transform","translate","scale","rotate","perspective"],IC=["transform","translate","scale","rotate","perspective","filter"],LC=["paint","layout","strict","content"];function Xh(e){const t=Zh(),r=Fn(e)?$n(e):e;return DC.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||IC.some(i=>(r.willChange||"").includes(i))||LC.some(i=>(r.contain||"").includes(i))}function MC(e){let t=fs(e);for(;ir(t)&&!Vi(t);){if(Xh(t))return t;if(Rc(t))return null;t=fs(t)}return null}function Zh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FC=new Set(["html","body","#document"]);function Vi(e){return FC.has(ea(e))}function $n(e){return pn(e).getComputedStyle(e)}function Pc(e){return Fn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fs(e){if(ea(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uv(e)&&e.host||ar(e);return uv(t)?t.host:t}function N0(e){const t=fs(e);return Vi(t)?e.ownerDocument?e.ownerDocument.body:e.body:ir(t)&&_o(t)?t:N0(t)}function mo(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=N0(e),l=a===((i=e.ownerDocument)==null?void 0:i.body),c=pn(a);if(l){const d=gh(c);return t.concat(c,c.visualViewport||[],_o(a)?a:[],d&&r?mo(d):[])}return t.concat(a,mo(a,[],r))}function gh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function k0(e){const t=$n(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=ir(e),l=a?e.offsetWidth:r,c=a?e.offsetHeight:i,d=dc(r)!==l||dc(i)!==c;return d&&(r=l,i=c),{width:r,height:i,$:d}}function ef(e){return Fn(e)?e:e.contextElement}function Hi(e){const t=ef(e);if(!ir(t))return rr(1);const r=t.getBoundingClientRect(),{width:i,height:a,$:l}=k0(t);let c=(l?dc(r.width):r.width)/i,d=(l?dc(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const $C=rr(0);function C0(e){const t=pn(e);return!Zh()||!t.visualViewport?$C:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function UC(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==pn(e)?!1:t}function Ys(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),l=ef(e);let c=rr(1);t&&(i?Fn(i)&&(c=Hi(i)):c=Hi(e));const d=UC(l,r,i)?C0(l):rr(0);let f=(a.left+d.x)/c.x,m=(a.top+d.y)/c.y,g=a.width/c.x,w=a.height/c.y;if(l){const b=pn(l),y=i&&Fn(i)?pn(i):i;let S=b,_=gh(S);for(;_&&i&&y!==S;){const E=Hi(_),C=_.getBoundingClientRect(),j=$n(_),T=C.left+(_.clientLeft+parseFloat(j.paddingLeft))*E.x,L=C.top+(_.clientTop+parseFloat(j.paddingTop))*E.y;f*=E.x,m*=E.y,g*=E.x,w*=E.y,f+=T,m+=L,S=pn(_),_=gh(S)}}return fc({width:g,height:w,x:f,y:m})}function Tc(e,t){const r=Pc(e).scrollLeft;return t?t.left+r:Ys(ar(e)).left+r}function R0(e,t){const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-Tc(e,r),a=r.top+t.scrollTop;return{x:i,y:a}}function zC(e){let{elements:t,rect:r,offsetParent:i,strategy:a}=e;const l=a==="fixed",c=ar(i),d=t?Rc(t.floating):!1;if(i===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},m=rr(1);const g=rr(0),w=ir(i);if((w||!w&&!l)&&((ea(i)!=="body"||_o(c))&&(f=Pc(i)),ir(i))){const y=Ys(i);m=Hi(i),g.x=y.x+i.clientLeft,g.y=y.y+i.clientTop}const b=c&&!w&&!l?R0(c,f):rr(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+g.x+b.x,y:r.y*m.y-f.scrollTop*m.y+g.y+b.y}}function BC(e){return Array.from(e.getClientRects())}function WC(e){const t=ar(e),r=Pc(e),i=e.ownerDocument.body,a=fn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=fn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let c=-r.scrollLeft+Tc(e);const d=-r.scrollTop;return $n(i).direction==="rtl"&&(c+=fn(t.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:d}}const dv=25;function HC(e,t){const r=pn(e),i=ar(e),a=r.visualViewport;let l=i.clientWidth,c=i.clientHeight,d=0,f=0;if(a){l=a.width,c=a.height;const g=Zh();(!g||g&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}const m=Tc(i);if(m<=0){const g=i.ownerDocument,w=g.body,b=getComputedStyle(w),y=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,S=Math.abs(i.clientWidth-w.clientWidth-y);S<=dv&&(l-=S)}else m<=dv&&(l+=m);return{width:l,height:c,x:d,y:f}}const VC=new Set(["absolute","fixed"]);function qC(e,t){const r=Ys(e,!0,t==="fixed"),i=r.top+e.clientTop,a=r.left+e.clientLeft,l=ir(e)?Hi(e):rr(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=a*l.x,m=i*l.y;return{width:c,height:d,x:f,y:m}}function hv(e,t,r){let i;if(t==="viewport")i=HC(e,r);else if(t==="document")i=WC(ar(e));else if(Fn(t))i=qC(t,r);else{const a=C0(e);i={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return fc(i)}function P0(e,t){const r=fs(e);return r===t||!Fn(r)||Vi(r)?!1:$n(r).position==="fixed"||P0(r,t)}function KC(e,t){const r=t.get(e);if(r)return r;let i=mo(e,[],!1).filter(d=>Fn(d)&&ea(d)!=="body"),a=null;const l=$n(e).position==="fixed";let c=l?fs(e):e;for(;Fn(c)&&!Vi(c);){const d=$n(c),f=Xh(c);!f&&d.position==="fixed"&&(a=null),(l?!f&&!a:!f&&d.position==="static"&&!!a&&VC.has(a.position)||_o(c)&&!f&&P0(e,c))?i=i.filter(g=>g!==c):a=d,c=fs(c)}return t.set(e,i),i}function GC(e){let{element:t,boundary:r,rootBoundary:i,strategy:a}=e;const c=[...r==="clippingAncestors"?Rc(t)?[]:KC(t,this._c):[].concat(r),i],d=c[0],f=c.reduce((m,g)=>{const w=hv(t,g,a);return m.top=fn(w.top,m.top),m.right=hs(w.right,m.right),m.bottom=hs(w.bottom,m.bottom),m.left=fn(w.left,m.left),m},hv(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function YC(e){const{width:t,height:r}=k0(e);return{width:t,height:r}}function JC(e,t,r){const i=ir(t),a=ar(t),l=r==="fixed",c=Ys(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=rr(0);function m(){f.x=Tc(a)}if(i||!i&&!l)if((ea(t)!=="body"||_o(a))&&(d=Pc(t)),i){const y=Ys(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else a&&m();l&&!i&&a&&m();const g=a&&!i&&!l?R0(a,d):rr(0),w=c.left+d.scrollLeft-f.x-g.x,b=c.top+d.scrollTop-f.y-g.y;return{x:w,y:b,width:c.width,height:c.height}}function Wd(e){return $n(e).position==="static"}function fv(e,t){if(!ir(e)||$n(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ar(e)===r&&(r=r.ownerDocument.body),r}function T0(e,t){const r=pn(e);if(Rc(e))return r;if(!ir(e)){let a=fs(e);for(;a&&!Vi(a);){if(Fn(a)&&!Wd(a))return a;a=fs(a)}return r}let i=fv(e,t);for(;i&&TC(i)&&Wd(i);)i=fv(i,t);return i&&Vi(i)&&Wd(i)&&!Xh(i)?r:i||MC(e)||r}const QC=async function(e){const t=this.getOffsetParent||T0,r=this.getDimensions,i=await r(e.floating);return{reference:JC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function XC(e){return $n(e).direction==="rtl"}const ZC={convertOffsetParentRelativeRectToViewportRelativeRect:zC,getDocumentElement:ar,getClippingRect:GC,getOffsetParent:T0,getElementRects:QC,getClientRects:BC,getDimensions:YC,getScale:Hi,isElement:Fn,isRTL:XC};function O0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function e2(e,t){let r=null,i;const a=ar(e);function l(){var d;clearTimeout(i),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:g,top:w,width:b,height:y}=m;if(d||t(),!b||!y)return;const S=Jl(w),_=Jl(a.clientWidth-(g+b)),E=Jl(a.clientHeight-(w+y)),C=Jl(g),T={rootMargin:-S+"px "+-_+"px "+-E+"px "+-C+"px",threshold:fn(0,hs(1,f))||1};let L=!0;function N($){const k=$[0].intersectionRatio;if(k!==f){if(!L)return c();k?c(!1,k):i=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!O0(m,e.getBoundingClientRect())&&c(),L=!1}try{r=new IntersectionObserver(N,{...T,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,T)}r.observe(e)}return c(!0),l}function t2(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,m=ef(e),g=a||l?[...m?mo(m):[],...mo(t)]:[];g.forEach(C=>{a&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const w=m&&d?e2(m,r):null;let b=-1,y=null;c&&(y=new ResizeObserver(C=>{let[j]=C;j&&j.target===m&&y&&(y.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(t)})),r()}),m&&!f&&y.observe(m),y.observe(t));let S,_=f?Ys(e):null;f&&E();function E(){const C=Ys(e);_&&!O0(_,C)&&r(),_=C,S=requestAnimationFrame(E)}return r(),()=>{var C;g.forEach(j=>{a&&j.removeEventListener("scroll",r),l&&j.removeEventListener("resize",r)}),w==null||w(),(C=y)==null||C.disconnect(),y=null,f&&cancelAnimationFrame(S)}}const n2=jC,r2=NC,s2=SC,i2=CC,a2=AC,mv=_C,o2=kC,l2=(e,t,r)=>{const i=new Map,a={platform:ZC,...r},l={...a.platform,_c:i};return bC(e,t,{...a,platform:l})};var c2=typeof document<"u",u2=function(){},rc=c2?x.useLayoutEffect:u2;function mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!mc(e[i],t[i]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){const l=a[i];if(!(l==="_owner"&&e.$$typeof)&&!mc(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function D0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pv(e,t){const r=D0(e);return Math.round(t*r)/r}function Hd(e){const t=x.useRef(e);return rc(()=>{t.current=e}),t}function d2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[g,w]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[b,y]=x.useState(i);mc(b,i)||y(i);const[S,_]=x.useState(null),[E,C]=x.useState(null),j=x.useCallback(P=>{P!==$.current&&($.current=P,_(P))},[]),T=x.useCallback(P=>{P!==k.current&&(k.current=P,C(P))},[]),L=l||S,N=c||E,$=x.useRef(null),k=x.useRef(null),z=x.useRef(g),W=f!=null,J=Hd(f),ae=Hd(a),de=Hd(m),fe=x.useCallback(()=>{if(!$.current||!k.current)return;const P={placement:t,strategy:r,middleware:b};ae.current&&(P.platform=ae.current),l2($.current,k.current,P).then(Z=>{const X={...Z,isPositioned:de.current!==!1};le.current&&!mc(z.current,X)&&(z.current=X,Gi.flushSync(()=>{w(X)}))})},[b,t,r,ae,de]);rc(()=>{m===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,w(P=>({...P,isPositioned:!1})))},[m]);const le=x.useRef(!1);rc(()=>(le.current=!0,()=>{le.current=!1}),[]),rc(()=>{if(L&&($.current=L),N&&(k.current=N),L&&N){if(J.current)return J.current(L,N,fe);fe()}},[L,N,fe,J,W]);const te=x.useMemo(()=>({reference:$,floating:k,setReference:j,setFloating:T}),[j,T]),Q=x.useMemo(()=>({reference:L,floating:N}),[L,N]),V=x.useMemo(()=>{const P={position:r,left:0,top:0};if(!Q.floating)return P;const Z=pv(Q.floating,g.x),X=pv(Q.floating,g.y);return d?{...P,transform:"translate("+Z+"px, "+X+"px)",...D0(Q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:X}},[r,d,Q.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:fe,refs:te,elements:Q,floatingStyles:V}),[g,fe,te,Q,V])}const h2=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:a}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?mv({element:i.current,padding:a}).fn(r):{}:i?mv({element:i,padding:a}).fn(r):{}}}},f2=(e,t)=>({...n2(e),options:[e,t]}),m2=(e,t)=>({...r2(e),options:[e,t]}),p2=(e,t)=>({...o2(e),options:[e,t]}),g2=(e,t)=>({...s2(e),options:[e,t]}),v2=(e,t)=>({...i2(e),options:[e,t]}),y2=(e,t)=>({...a2(e),options:[e,t]}),w2=(e,t)=>({...h2(e),options:[e,t]});var x2="Arrow",I0=x.forwardRef((e,t)=>{const{children:r,width:i=10,height:a=5,...l}=e;return u.jsx(ot.svg,{...l,ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});I0.displayName=x2;var b2=I0;function _2(e){const[t,r]=x.useState(void 0);return Gt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}var tf="Popper",[L0,M0]=jc(tf),[S2,F0]=L0(tf),$0=e=>{const{__scopePopper:t,children:r}=e,[i,a]=x.useState(null);return u.jsx(S2,{scope:t,anchor:i,onAnchorChange:a,children:r})};$0.displayName=tf;var U0="PopperAnchor",z0=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:i,...a}=e,l=F0(U0,r),c=x.useRef(null),d=_t(t,c);return x.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||c.current)}),i?null:u.jsx(ot.div,{...a,ref:d})});z0.displayName=U0;var nf="PopperContent",[A2,E2]=L0(nf),B0=x.forwardRef((e,t)=>{var ee,me,ye,Ce,F,I;const{__scopePopper:r,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:w="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:S,..._}=e,E=F0(nf,r),[C,j]=x.useState(null),T=_t(t,re=>j(re)),[L,N]=x.useState(null),$=_2(L),k=($==null?void 0:$.width)??0,z=($==null?void 0:$.height)??0,W=i+(l!=="center"?"-"+l:""),J=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ae=Array.isArray(m)?m:[m],de=ae.length>0,fe={padding:J,boundary:ae.filter(N2),altBoundary:de},{refs:le,floatingStyles:te,placement:Q,isPositioned:V,middlewareData:P}=d2({strategy:"fixed",placement:W,whileElementsMounted:(...re)=>t2(...re,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[f2({mainAxis:a+z,alignmentAxis:c}),f&&m2({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?p2():void 0,...fe}),f&&g2({...fe}),v2({...fe,apply:({elements:re,rects:Ve,availableWidth:Ze,availableHeight:ht})=>{const{width:jt,height:Bn}=Ve.reference,sn=re.floating.style;sn.setProperty("--radix-popper-available-width",`${Ze}px`),sn.setProperty("--radix-popper-available-height",`${ht}px`),sn.setProperty("--radix-popper-anchor-width",`${jt}px`),sn.setProperty("--radix-popper-anchor-height",`${Bn}px`)}}),L&&w2({element:L,padding:d}),k2({arrowWidth:k,arrowHeight:z}),b&&y2({strategy:"referenceHidden",...fe})]}),[Z,X]=V0(Q),R=_r(S);Gt(()=>{V&&(R==null||R())},[V,R]);const H=(ee=P.arrow)==null?void 0:ee.x,ne=(me=P.arrow)==null?void 0:me.y,ce=((ye=P.arrow)==null?void 0:ye.centerOffset)!==0,[ge,_e]=x.useState();return Gt(()=>{C&&_e(window.getComputedStyle(C).zIndex)},[C]),u.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:V?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Ce=P.transformOrigin)==null?void 0:Ce.x,(F=P.transformOrigin)==null?void 0:F.y].join(" "),...((I=P.hide)==null?void 0:I.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(A2,{scope:r,placedSide:Z,onArrowChange:N,arrowX:H,arrowY:ne,shouldHideArrow:ce,children:u.jsx(ot.div,{"data-side":Z,"data-align":X,..._,ref:T,style:{..._.style,animation:V?void 0:"none"}})})})});B0.displayName=nf;var W0="PopperArrow",j2={top:"bottom",right:"left",bottom:"top",left:"right"},H0=x.forwardRef(function(t,r){const{__scopePopper:i,...a}=t,l=E2(W0,i),c=j2[l.placedSide];return u.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:u.jsx(b2,{...a,ref:r,style:{...a.style,display:"block"}})})});H0.displayName=W0;function N2(e){return e!==null}var k2=e=>({name:"transformOrigin",options:e,fn(t){var E,C,j;const{placement:r,rects:i,middlewareData:a}=t,c=((E=a.arrow)==null?void 0:E.centerOffset)!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,g]=V0(r),w={start:"0%",center:"50%",end:"100%"}[g],b=(((C=a.arrow)==null?void 0:C.x)??0)+d/2,y=(((j=a.arrow)==null?void 0:j.y)??0)+f/2;let S="",_="";return m==="bottom"?(S=c?w:`${b}px`,_=`${-f}px`):m==="top"?(S=c?w:`${b}px`,_=`${i.floating.height+f}px`):m==="right"?(S=`${-f}px`,_=c?w:`${y}px`):m==="left"&&(S=`${i.floating.width+f}px`,_=c?w:`${y}px`),{data:{x:S,y:_}}}});function V0(e){const[t,r="center"]=e.split("-");return[t,r]}var C2=$0,R2=z0,P2=B0,T2=H0;function O2(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var D2="VisuallyHidden",q0=x.forwardRef((e,t)=>u.jsx(ot.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));q0.displayName=D2;var I2=[" ","Enter","ArrowUp","ArrowDown"],L2=[" ","Enter"],So="Select",[Oc,Dc,M2]=aC(So),[ta]=jc(So,[M2,M0]),Ic=M0(),[F2,ps]=ta(So),[$2,U2]=ta(So),K0=e=>{const{__scopeSelect:t,children:r,open:i,defaultOpen:a,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:m,name:g,autoComplete:w,disabled:b,required:y,form:S}=e,_=Ic(t),[E,C]=x.useState(null),[j,T]=x.useState(null),[L,N]=x.useState(!1),$=lC(m),[k=!1,z]=dh({prop:i,defaultProp:a,onChange:l}),[W,J]=dh({prop:c,defaultProp:d,onChange:f}),ae=x.useRef(null),de=E?S||!!E.closest("form"):!0,[fe,le]=x.useState(new Set),te=Array.from(fe).map(Q=>Q.props.value).join(";");return u.jsx(C2,{..._,children:u.jsxs(F2,{required:y,scope:t,trigger:E,onTriggerChange:C,valueNode:j,onValueNodeChange:T,valueNodeHasChildren:L,onValueNodeHasChildrenChange:N,contentId:Bi(),value:W,onValueChange:J,open:k,onOpenChange:z,dir:$,triggerPointerDownPosRef:ae,disabled:b,children:[u.jsx(Oc.Provider,{scope:t,children:u.jsx($2,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(Q=>{le(V=>new Set(V).add(Q))},[]),onNativeOptionRemove:x.useCallback(Q=>{le(V=>{const P=new Set(V);return P.delete(Q),P})},[]),children:r})}),de?u.jsxs(gw,{"aria-hidden":!0,required:y,tabIndex:-1,name:g,autoComplete:w,value:W,onChange:Q=>J(Q.target.value),disabled:b,form:S,children:[W===void 0?u.jsx("option",{value:""}):null,Array.from(fe)]},te):null]})})};K0.displayName=So;var G0="SelectTrigger",Y0=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:i=!1,...a}=e,l=Ic(r),c=ps(G0,r),d=c.disabled||i,f=_t(t,c.onTriggerChange),m=Dc(r),g=x.useRef("touch"),[w,b,y]=vw(_=>{const E=m().filter(T=>!T.disabled),C=E.find(T=>T.value===c.value),j=yw(E,_,C);j!==void 0&&c.onValueChange(j.value)}),S=_=>{d||(c.onOpenChange(!0),y()),_&&(c.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return u.jsx(R2,{asChild:!0,...l,children:u.jsx(ot.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":pw(c.value)?"":void 0,...a,ref:f,onClick:dt(a.onClick,_=>{_.currentTarget.focus(),g.current!=="mouse"&&S(_)}),onPointerDown:dt(a.onPointerDown,_=>{g.current=_.pointerType;const E=_.target;E.hasPointerCapture(_.pointerId)&&E.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(S(_),_.preventDefault())}),onKeyDown:dt(a.onKeyDown,_=>{const E=w.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&b(_.key),!(E&&_.key===" ")&&I2.includes(_.key)&&(S(),_.preventDefault())})})})});Y0.displayName=G0;var J0="SelectValue",Q0=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:a,children:l,placeholder:c="",...d}=e,f=ps(J0,r),{onValueNodeHasChildrenChange:m}=f,g=l!==void 0,w=_t(t,f.onValueNodeChange);return Gt(()=>{m(g)},[m,g]),u.jsx(ot.span,{...d,ref:w,style:{pointerEvents:"none"},children:pw(f.value)?u.jsx(u.Fragment,{children:c}):l})});Q0.displayName=J0;var z2="SelectIcon",X0=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:i,...a}=e;return u.jsx(ot.span,{"aria-hidden":!0,...a,ref:t,children:i||""})});X0.displayName=z2;var B2="SelectPortal",Z0=e=>u.jsx(Bh,{asChild:!0,...e});Z0.displayName=B2;var Js="SelectContent",ew=x.forwardRef((e,t)=>{const r=ps(Js,e.__scopeSelect),[i,a]=x.useState();if(Gt(()=>{a(new DocumentFragment)},[]),!r.open){const l=i;return l?Gi.createPortal(u.jsx(tw,{scope:e.__scopeSelect,children:u.jsx(Oc.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),l):null}return u.jsx(nw,{...e,ref:t})});ew.displayName=Js;var In=10,[tw,gs]=ta(Js),W2="SelectContentImpl",nw=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:g,arrowPadding:w,collisionBoundary:b,collisionPadding:y,sticky:S,hideWhenDetached:_,avoidCollisions:E,...C}=e,j=ps(Js,r),[T,L]=x.useState(null),[N,$]=x.useState(null),k=_t(t,ee=>L(ee)),[z,W]=x.useState(null),[J,ae]=x.useState(null),de=Dc(r),[fe,le]=x.useState(!1),te=x.useRef(!1);x.useEffect(()=>{if(T)return o0(T)},[T]),Zy();const Q=x.useCallback(ee=>{const[me,...ye]=de().map(I=>I.ref.current),[Ce]=ye.slice(-1),F=document.activeElement;for(const I of ee)if(I===F||(I==null||I.scrollIntoView({block:"nearest"}),I===me&&N&&(N.scrollTop=0),I===Ce&&N&&(N.scrollTop=N.scrollHeight),I==null||I.focus(),document.activeElement!==F))return},[de,N]),V=x.useCallback(()=>Q([z,T]),[Q,z,T]);x.useEffect(()=>{fe&&V()},[fe,V]);const{onOpenChange:P,triggerPointerDownPosRef:Z}=j;x.useEffect(()=>{if(T){let ee={x:0,y:0};const me=Ce=>{var F,I;ee={x:Math.abs(Math.round(Ce.pageX)-(((F=Z.current)==null?void 0:F.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((I=Z.current)==null?void 0:I.y)??0))}},ye=Ce=>{ee.x<=10&&ee.y<=10?Ce.preventDefault():T.contains(Ce.target)||P(!1),document.removeEventListener("pointermove",me),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ye,{capture:!0})}}},[T,P,Z]),x.useEffect(()=>{const ee=()=>P(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[P]);const[X,R]=vw(ee=>{const me=de().filter(F=>!F.disabled),ye=me.find(F=>F.ref.current===document.activeElement),Ce=yw(me,ee,ye);Ce&&setTimeout(()=>Ce.ref.current.focus())}),H=x.useCallback((ee,me,ye)=>{const Ce=!te.current&&!ye;(j.value!==void 0&&j.value===me||Ce)&&(W(ee),Ce&&(te.current=!0))},[j.value]),ne=x.useCallback(()=>T==null?void 0:T.focus(),[T]),ce=x.useCallback((ee,me,ye)=>{const Ce=!te.current&&!ye;(j.value!==void 0&&j.value===me||Ce)&&ae(ee)},[j.value]),ge=i==="popper"?vh:rw,_e=ge===vh?{side:d,sideOffset:f,align:m,alignOffset:g,arrowPadding:w,collisionBoundary:b,collisionPadding:y,sticky:S,hideWhenDetached:_,avoidCollisions:E}:{};return u.jsx(tw,{scope:r,content:T,viewport:N,onViewportChange:$,itemRefCallback:H,selectedItem:z,onItemLeave:ne,itemTextRefCallback:ce,focusSelectedItem:V,selectedItemText:J,position:i,isPositioned:fe,searchRef:X,children:u.jsx(Wh,{as:qs,allowPinchZoom:!0,children:u.jsx(zh,{asChild:!0,trapped:j.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:dt(a,ee=>{var me;(me=j.trigger)==null||me.focus({preventScroll:!0}),ee.preventDefault()}),children:u.jsx(Uh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:u.jsx(ge,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ee=>ee.preventDefault(),...C,..._e,onPlaced:()=>le(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:dt(C.onKeyDown,ee=>{const me=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!me&&ee.key.length===1&&R(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Ce=de().filter(F=>!F.disabled).map(F=>F.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const F=ee.target,I=Ce.indexOf(F);Ce=Ce.slice(I+1)}setTimeout(()=>Q(Ce)),ee.preventDefault()}})})})})})})});nw.displayName=W2;var H2="SelectItemAlignedPosition",rw=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:i,...a}=e,l=ps(Js,r),c=gs(Js,r),[d,f]=x.useState(null),[m,g]=x.useState(null),w=_t(t,k=>g(k)),b=Dc(r),y=x.useRef(!1),S=x.useRef(!0),{viewport:_,selectedItem:E,selectedItemText:C,focusSelectedItem:j}=c,T=x.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&_&&E&&C){const k=l.trigger.getBoundingClientRect(),z=m.getBoundingClientRect(),W=l.valueNode.getBoundingClientRect(),J=C.getBoundingClientRect();if(l.dir!=="rtl"){const F=J.left-z.left,I=W.left-F,re=k.left-I,Ve=k.width+re,Ze=Math.max(Ve,z.width),ht=window.innerWidth-In,jt=sv(I,[In,Math.max(In,ht-Ze)]);d.style.minWidth=Ve+"px",d.style.left=jt+"px"}else{const F=z.right-J.right,I=window.innerWidth-W.right-F,re=window.innerWidth-k.right-I,Ve=k.width+re,Ze=Math.max(Ve,z.width),ht=window.innerWidth-In,jt=sv(I,[In,Math.max(In,ht-Ze)]);d.style.minWidth=Ve+"px",d.style.right=jt+"px"}const ae=b(),de=window.innerHeight-In*2,fe=_.scrollHeight,le=window.getComputedStyle(m),te=parseInt(le.borderTopWidth,10),Q=parseInt(le.paddingTop,10),V=parseInt(le.borderBottomWidth,10),P=parseInt(le.paddingBottom,10),Z=te+Q+fe+P+V,X=Math.min(E.offsetHeight*5,Z),R=window.getComputedStyle(_),H=parseInt(R.paddingTop,10),ne=parseInt(R.paddingBottom,10),ce=k.top+k.height/2-In,ge=de-ce,_e=E.offsetHeight/2,ee=E.offsetTop+_e,me=te+Q+ee,ye=Z-me;if(me<=ce){const F=ae.length>0&&E===ae[ae.length-1].ref.current;d.style.bottom="0px";const I=m.clientHeight-_.offsetTop-_.offsetHeight,re=Math.max(ge,_e+(F?ne:0)+I+V),Ve=me+re;d.style.height=Ve+"px"}else{const F=ae.length>0&&E===ae[0].ref.current;d.style.top="0px";const re=Math.max(ce,te+_.offsetTop+(F?H:0)+_e)+ye;d.style.height=re+"px",_.scrollTop=me-ce+_.offsetTop}d.style.margin=`${In}px 0`,d.style.minHeight=X+"px",d.style.maxHeight=de+"px",i==null||i(),requestAnimationFrame(()=>y.current=!0)}},[b,l.trigger,l.valueNode,d,m,_,E,C,l.dir,i]);Gt(()=>T(),[T]);const[L,N]=x.useState();Gt(()=>{m&&N(window.getComputedStyle(m).zIndex)},[m]);const $=x.useCallback(k=>{k&&S.current===!0&&(T(),j==null||j(),S.current=!1)},[T,j]);return u.jsx(q2,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:$,children:u.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:u.jsx(ot.div,{...a,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});rw.displayName=H2;var V2="SelectPopperPosition",vh=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:i="start",collisionPadding:a=In,...l}=e,c=Ic(r);return u.jsx(P2,{...c,...l,ref:t,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vh.displayName=V2;var[q2,rf]=ta(Js,{}),yh="SelectViewport",sw=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:i,...a}=e,l=gs(yh,r),c=rf(yh,r),d=_t(t,l.onViewportChange),f=x.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Oc.Slot,{scope:r,children:u.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:dt(a.onScroll,m=>{const g=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:b}=c;if(b!=null&&b.current&&w){const y=Math.abs(f.current-g.scrollTop);if(y>0){const S=window.innerHeight-In*2,_=parseFloat(w.style.minHeight),E=parseFloat(w.style.height),C=Math.max(_,E);if(C<S){const j=C+y,T=Math.min(S,j),L=j-T;w.style.height=T+"px",w.style.bottom==="0px"&&(g.scrollTop=L>0?L:0,w.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});sw.displayName=yh;var iw="SelectGroup",[K2,G2]=ta(iw),Y2=x.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,a=Bi();return u.jsx(K2,{scope:r,id:a,children:u.jsx(ot.div,{role:"group","aria-labelledby":a,...i,ref:t})})});Y2.displayName=iw;var aw="SelectLabel",J2=x.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,a=G2(aw,r);return u.jsx(ot.div,{id:a.id,...i,ref:t})});J2.displayName=aw;var pc="SelectItem",[Q2,ow]=ta(pc),lw=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:i,disabled:a=!1,textValue:l,...c}=e,d=ps(pc,r),f=gs(pc,r),m=d.value===i,[g,w]=x.useState(l??""),[b,y]=x.useState(!1),S=_t(t,j=>{var T;return(T=f.itemRefCallback)==null?void 0:T.call(f,j,i,a)}),_=Bi(),E=x.useRef("touch"),C=()=>{a||(d.onValueChange(i),d.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Q2,{scope:r,value:i,disabled:a,textId:_,isSelected:m,onItemTextChange:x.useCallback(j=>{w(T=>T||((j==null?void 0:j.textContent)??"").trim())},[]),children:u.jsx(Oc.ItemSlot,{scope:r,value:i,disabled:a,textValue:g,children:u.jsx(ot.div,{role:"option","aria-labelledby":_,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:S,onFocus:dt(c.onFocus,()=>y(!0)),onBlur:dt(c.onBlur,()=>y(!1)),onClick:dt(c.onClick,()=>{E.current!=="mouse"&&C()}),onPointerUp:dt(c.onPointerUp,()=>{E.current==="mouse"&&C()}),onPointerDown:dt(c.onPointerDown,j=>{E.current=j.pointerType}),onPointerMove:dt(c.onPointerMove,j=>{var T;E.current=j.pointerType,a?(T=f.onItemLeave)==null||T.call(f):E.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(c.onPointerLeave,j=>{var T;j.currentTarget===document.activeElement&&((T=f.onItemLeave)==null||T.call(f))}),onKeyDown:dt(c.onKeyDown,j=>{var L;((L=f.searchRef)==null?void 0:L.current)!==""&&j.key===" "||(L2.includes(j.key)&&C(),j.key===" "&&j.preventDefault())})})})})});lw.displayName=pc;var Xa="SelectItemText",cw=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:a,...l}=e,c=ps(Xa,r),d=gs(Xa,r),f=ow(Xa,r),m=U2(Xa,r),[g,w]=x.useState(null),b=_t(t,C=>w(C),f.onItemTextChange,C=>{var j;return(j=d.itemTextRefCallback)==null?void 0:j.call(d,C,f.value,f.disabled)}),y=g==null?void 0:g.textContent,S=x.useMemo(()=>u.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:_,onNativeOptionRemove:E}=m;return Gt(()=>(_(S),()=>E(S)),[_,E,S]),u.jsxs(u.Fragment,{children:[u.jsx(ot.span,{id:f.textId,...l,ref:b}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Gi.createPortal(l.children,c.valueNode):null]})});cw.displayName=Xa;var uw="SelectItemIndicator",dw=x.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return ow(uw,r).isSelected?u.jsx(ot.span,{"aria-hidden":!0,...i,ref:t}):null});dw.displayName=uw;var wh="SelectScrollUpButton",hw=x.forwardRef((e,t)=>{const r=gs(wh,e.__scopeSelect),i=rf(wh,e.__scopeSelect),[a,l]=x.useState(!1),c=_t(t,i.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),a?u.jsx(mw,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});hw.displayName=wh;var xh="SelectScrollDownButton",fw=x.forwardRef((e,t)=>{const r=gs(xh,e.__scopeSelect),i=rf(xh,e.__scopeSelect),[a,l]=x.useState(!1),c=_t(t,i.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<m;l(g)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),a?u.jsx(mw,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});fw.displayName=xh;var mw=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:i,...a}=e,l=gs("SelectScrollButton",r),c=x.useRef(null),d=Dc(r),f=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>f(),[f]),Gt(()=>{var g;const m=d().find(w=>w.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[d]),u.jsx(ot.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:dt(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:dt(a.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:dt(a.onPointerLeave,()=>{f()})})}),X2="SelectSeparator",Z2=x.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return u.jsx(ot.div,{"aria-hidden":!0,...i,ref:t})});Z2.displayName=X2;var bh="SelectArrow",eR=x.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,a=Ic(r),l=ps(bh,r),c=gs(bh,r);return l.open&&c.position==="popper"?u.jsx(T2,{...a,...i,ref:t}):null});eR.displayName=bh;function pw(e){return e===""||e===void 0}var gw=x.forwardRef((e,t)=>{const{value:r,...i}=e,a=x.useRef(null),l=_t(t,a),c=O2(r);return x.useEffect(()=>{const d=a.current,f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==r&&g){const w=new Event("change",{bubbles:!0});g.call(d,r),d.dispatchEvent(w)}},[c,r]),u.jsx(q0,{asChild:!0,children:u.jsx("select",{...i,ref:l,defaultValue:r})})});gw.displayName="BubbleSelect";function vw(e){const t=_r(e),r=x.useRef(""),i=x.useRef(0),a=x.useCallback(c=>{const d=r.current+c;t(d),(function f(m){r.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=x.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,a,l]}function yw(e,t,r){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=tR(e,Math.max(l,0));a.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==r?f:void 0}function tR(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var nR=K0,rR=Y0,sR=Q0,iR=X0,aR=Z0,oR=ew,lR=sw,cR=lw,uR=cw,dR=dw,hR=hw,fR=fw;function Xn({...e}){return u.jsx(nR,{"data-slot":"select",...e})}function Zn({...e}){return u.jsx(sR,{"data-slot":"select-value",...e})}function er({className:e,size:t="default",children:r,...i}){return u.jsxs(rR,{"data-slot":"select-trigger","data-size":t,className:rn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[r,u.jsx(iR,{asChild:!0,children:u.jsx(Lh,{className:"size-4 opacity-50"})})]})}function tr({className:e,children:t,position:r="popper",...i}){return u.jsx(aR,{children:u.jsxs(oR,{"data-slot":"select-content",className:rn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:[u.jsx(mR,{}),u.jsx(lR,{className:rn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),u.jsx(pR,{})]})})}function at({className:e,children:t,...r}){return u.jsxs(cR,{"data-slot":"select-item",className:rn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(dR,{children:u.jsx(gj,{className:"size-4"})})}),u.jsx(uR,{children:t})]})}function mR({className:e,...t}){return u.jsx(hR,{"data-slot":"select-scroll-up-button",className:rn("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(wj,{className:"size-4"})})}function pR({className:e,...t}){return u.jsx(fR,{"data-slot":"select-scroll-down-button",className:rn("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(Lh,{className:"size-4"})})}function ds(e){if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";const r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),a=String(t.getFullYear()).slice(-2);return`${r}-${i}-${a}`}function gv(e,t=new Date){const r=new Date(e);if(Number.isNaN(r.getTime()))return"";const i=r.getDate();let a=t.getFullYear(),l=t.getMonth();const c=(S,_)=>new Date(S,_+1,0).getDate(),d=Math.min(i,c(a,l));let f=new Date(a,l,d);const m=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(new Date(f.getFullYear(),f.getMonth(),f.getDate())<=m){l+=1,l>11&&(l=0,a+=1);const S=Math.min(i,c(a,l));f=new Date(a,l,S)}const w=String(f.getMonth()+1).padStart(2,"0"),b=String(f.getDate()).padStart(2,"0"),y=f.getFullYear();return`${w}/${b}/${y}`}function gR(){var ye,Ce;const{clients:e,loading:t,error:r,add:i,edit:a,remove:l,tiers:c}=Ec(),[d,f]=x.useState(""),[m,g]=x.useState("all"),[w,b]=x.useState(!1),[y,S]=x.useState(1),[_,E]=x.useState({name:"",room:"",tierId:"",devices:"1",contact:"",email:"",startDate:"",hasDeposit:!1,depositAmount:0}),[C,j]=x.useState({username:"",password:"",status:"active"}),[T,L]=x.useState(!1),[N,$]=x.useState(null),[k,z]=x.useState(!1),[W,J]=x.useState(null),[ae,de]=x.useState(!1),[fe,le]=x.useState(""),te=x.useMemo(()=>gv(_.startDate),[_.startDate]),Q=x.useMemo(()=>e.filter(F=>{const I=F.name.toLowerCase().includes(d.toLowerCase())||F.room.toLowerCase().includes(d.toLowerCase()),re=m==="all"||F.tier===m;return I&&re}),[e,d,m]),V=x.useMemo(()=>c.map(F=>({id:F.id,name:F.name})),[c]),P=()=>{S(1),E({name:"",room:"",tierId:"",devices:"1",contact:"",email:"",startDate:"",hasDeposit:!1,depositAmount:0}),j({username:"",password:"",status:"active"})},Z=F=>{$(F),J(null),z(!1),de(!1),L(!0)},X=()=>{L(!1),$(null),J(null),z(!1),de(!1)},R=_.name.trim()!==""&&_.room.trim()!==""&&_.tierId.trim()!==""&&_.devices.trim()!==""&&_.startDate.trim()!==""&&(!_.hasDeposit||_.depositAmount>0),H=C.username.trim()!==""&&C.password.trim()!=="",ne=()=>{R&&S(2)},ce=async()=>{if(!R||!H)return;(await i({name:_.name.trim(),room:_.room.trim(),tierId:_.tierId,devices:Math.max(1,parseInt(_.devices||"1",10)),contact:_.contact.trim(),email:_.email.trim(),startDate:_.startDate,hasDeposit:_.hasDeposit,depositAmount:_.hasDeposit&&Number(_.depositAmount)||0,username:C.username.trim(),password:C.password})).ok&&(b(!1),P())},ge=()=>{N&&(z(!0),J(JSON.parse(JSON.stringify(N))),le(String(N.devices)))},_e=()=>{z(!1),J(null)},ee=async()=>{var I,re;if(!N||!W)return;(await a(N.id,{name:W.name,room:W.room,tierId:W.tierId,devices:Math.max(1,parseInt(fe||String(W.devices||1),10)),status:W.status,contact:W.contact,email:W.email,startDate:W.startDate,hasDeposit:W.hasDeposit,depositAmount:W.hasDeposit&&Number(W.depositAmount)||0,username:((I=W.account)==null?void 0:I.username)||"",password:((re=W.account)==null?void 0:re.password)||""})).ok&&(z(!1),J(null),$(null),L(!1))},me=async()=>{if(!N)return;(await l(N.id)).ok&&X()};return u.jsxs("div",{className:"space-y-6",children:[t&&u.jsx("div",{className:"text-center text-[#A0A0A0] py-8",children:"Loading clients..."}),r&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg",children:["Error: ",r]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[u.jsxs("div",{className:"flex flex-1 gap-4 w-full md:w-auto",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Mh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#A0A0A0]"}),u.jsx(Re,{type:"search",placeholder:"Search clients or rooms...",value:d,onChange:F=>f(F.target.value),className:"pl-10 bg-[#161616] border-[#2A2A2A] text-white placeholder:text-[#A0A0A0] focus:border-[#F5C400]"})]}),u.jsxs(Xn,{value:m,onValueChange:g,children:[u.jsx(er,{"aria-label":"Filter by tier",className:"w-40 bg-[#161616] border-[#2A2A2A] text-white",children:u.jsx(Zn,{placeholder:"All Tiers"})}),u.jsxs(tr,{children:[u.jsx(at,{value:"all",children:"All Tiers"}),u.jsx(at,{value:"Basic",children:"Basic"}),u.jsx(at,{value:"Standard",children:"Standard"}),u.jsx(at,{value:"Premium",children:"Premium"})]})]})]}),u.jsxs(os,{open:w,onOpenChange:F=>{b(F),F||P()},children:[u.jsx(S0,{asChild:!0,children:u.jsxs(Be,{className:"bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F] font-semibold",children:[u.jsx(Uy,{className:"w-4 h-4 mr-2"}),"Add Client"]})}),u.jsxs(ls,{className:"bg-[#1E1E1E] border-[#2A2A2A] text-white max-w-2xl",children:[u.jsx(cs,{children:u.jsx(us,{className:"text-2xl text-white",children:y===1?"Add New Client":"Create Client Account"})}),y===1&&u.jsxs("form",{className:"space-y-4 mt-4",onSubmit:F=>{F.preventDefault(),ne()},children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"name",className:"text-white",children:"Client Name"}),u.jsx(Re,{id:"name",placeholder:"Enter full name",value:_.name,onChange:F=>E(I=>({...I,name:F.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"room",className:"text-white",children:"Room Number"}),u.jsx(Re,{id:"room",placeholder:"e.g., Room 101",value:_.room,onChange:F=>E(I=>({...I,room:F.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"contact",className:"text-white",children:"Contact Number"}),u.jsx(Re,{id:"contact",placeholder:"0917-123-4567",value:_.contact,onChange:F=>E(I=>({...I,contact:F.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"email",className:"text-white",children:"Email Address"}),u.jsx(Re,{id:"email",type:"email",placeholder:"email@example.com",value:_.email,onChange:F=>E(I=>({...I,email:F.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"startDate",className:"text-white",children:"Start Date"}),u.jsx(Re,{id:"startDate",type:"date",value:_.startDate,onChange:F=>E(I=>({...I,startDate:F.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"dueDate",className:"text-white",children:"Due Date (Auto)"}),u.jsx(Re,{id:"dueDate",type:"text",value:te,readOnly:!0,className:"bg-[#161616] border-[#2A2A2A] text-white opacity-80"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{id:"tierLabel",className:"text-white",children:"Internet Tier"}),u.jsxs(Xn,{value:_.tierId,onValueChange:F=>E(I=>({...I,tierId:F})),children:[u.jsx(er,{"aria-label":"Internet tier","aria-labelledby":"tierLabel",className:"bg-[#161616] border-[#2A2A2A] text-white",children:u.jsx(Zn,{placeholder:"Select tier"})}),u.jsx(tr,{children:V.map(F=>u.jsx(at,{value:F.id,children:F.name},F.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"devices",className:"text-white",children:"Device Count"}),u.jsx(Re,{id:"devices",type:"number",value:_.devices,onChange:F=>{const I=F.target.value;(I===""||/^\d+$/.test(I))&&E(re=>({...re,devices:I}))},className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"border-t border-[#2A2A2A] pt-4 space-y-3",children:[u.jsxs(xe,{className:"flex items-center gap-3 text-white cursor-pointer",children:[u.jsx("input",{id:"hasDeposit",type:"checkbox",checked:_.hasDeposit,onChange:F=>{const I=F.target.checked;E(re=>({...re,hasDeposit:I,depositAmount:I?re.depositAmount:0}))},"aria-label":"Has deposit"}),"Has deposit?"]}),_.hasDeposit&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"depositAmount",className:"text-white",children:"Deposit Amount"}),u.jsx(Re,{id:"depositAmount",type:"number",inputMode:"numeric",placeholder:"Enter deposit amount",value:String(_.depositAmount),onChange:F=>E(I=>({...I,depositAmount:Number(F.target.value)||0})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(Be,{type:"button",variant:"outline",onClick:()=>b(!1),className:"flex-1 border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",children:"Cancel"}),u.jsx(Be,{type:"submit",disabled:!R,className:"flex-1 bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F]",children:"Next"})]})]}),y===2&&u.jsxs("form",{className:"space-y-4 mt-4",onSubmit:F=>{F.preventDefault(),ce()},children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"username",className:"text-white",children:"Username"}),u.jsx(Re,{id:"username",placeholder:"Enter username",value:C.username,onChange:F=>j(I=>({...I,username:F.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"password",className:"text-white",children:"Password"}),u.jsx(Re,{id:"password",type:"password",placeholder:"Enter password",value:C.password,onChange:F=>j(I=>({...I,password:F.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(Be,{type:"button",variant:"outline",onClick:()=>S(1),className:"flex-1 border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",children:"Back"}),u.jsx(Be,{type:"submit",disabled:!H,className:"flex-1 bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F]",children:"Save"})]})]})]})]})]}),u.jsx("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-[#161616]",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Client Name"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Room / Unit"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Internet Tier"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Devices"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Due Date"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-[#2A2A2A]",children:Q.map(F=>u.jsxs("tr",{className:"hover:bg-[#161616] transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-white font-medium",children:F.name}),u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:F.email})]})}),u.jsx("td",{className:"px-6 py-4 text-white",children:F.room}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"text-[#F5C400] font-medium",children:F.tier})}),u.jsx("td",{className:"px-6 py-4 text-white",children:F.devices}),u.jsx("td",{className:"px-6 py-4 text-white",children:ds(F.dueDate)}),u.jsx("td",{className:"px-6 py-4",children:u.jsx(fo,{status:F.status})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs(Be,{size:"sm",variant:"outline",className:"border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",onClick:()=>Z(F),type:"button",children:[u.jsx(Fy,{className:"w-4 h-4 mr-2"}),"View Details"]})})]},F.id))})]})})}),u.jsx(os,{open:T,onOpenChange:F=>F?null:X(),children:u.jsxs(ls,{className:"bg-[#1E1E1E] border-[#2A2A2A] text-white max-w-2xl",children:[u.jsx(cs,{children:u.jsx(us,{className:"text-white",children:k?"Edit Client":"Client Details"})}),N&&u.jsxs(u.Fragment,{children:[!k&&u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Client Name"}),u.jsx("p",{className:"text-white font-semibold",children:N.name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Room / Unit"}),u.jsx("p",{className:"text-white font-semibold",children:N.room})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Contact"}),u.jsx("p",{className:"text-white",children:N.contact||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Email"}),u.jsx("p",{className:"text-white",children:N.email||"-"})]})]}),u.jsxs("div",{className:"border-t border-[#2A2A2A] pt-4 grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Tier"}),u.jsx("p",{className:"text-white",children:N.tier})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Devices"}),u.jsx("p",{className:"text-white",children:N.devices})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Start Date"}),u.jsx("p",{className:"text-white",children:ds(N.startDate)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Due Date"}),u.jsx("p",{className:"text-white",children:ds(N.dueDate)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Status"}),u.jsx(fo,{status:N.status})]})]}),u.jsxs("div",{className:"border-t border-[#2A2A2A] pt-4",children:[u.jsx("p",{className:"text-white font-semibold mb-2",children:"Deposit"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Has deposit"}),u.jsx("span",{className:"text-white",children:N.hasDeposit?"Yes":"No"})]}),N.hasDeposit&&u.jsxs("div",{className:"flex items-center justify-between mt-2",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Deposit amount"}),u.jsxs("span",{className:"text-white",children:["",N.depositAmount]})]})]}),u.jsxs("div",{className:"border-t border-[#2A2A2A] pt-4",children:[u.jsx("p",{className:"text-white font-semibold mb-2",children:"Account"}),N.account?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Username"}),u.jsx("span",{className:"text-white",children:N.account.username})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"viewPassword",className:"text-[#A0A0A0] text-sm",children:"Password"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Re,{id:"viewPassword",type:ae?"text":"password",readOnly:!0,value:N.account.password,className:"bg-[#161616] border-[#2A2A2A] text-white"}),u.jsx(Be,{type:"button",variant:"outline",className:"border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",onClick:()=>de(F=>!F),"aria-label":ae?"Hide password":"Show password",children:ae?"Hide":"Show"})]})]})]}):u.jsx("p",{className:"text-[#A0A0A0]",children:"No account yet."})]}),u.jsxs("div",{className:"pt-2 flex gap-3",children:[u.jsx(Be,{type:"button",variant:"outline",className:"flex-1 border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",onClick:ge,children:"Edit"}),u.jsx(Be,{type:"button",variant:"outline",className:"flex-1 border-[#2A2A2A] text-[#EA5455] hover:bg-[#EA5455]/10",onClick:me,children:"Delete"}),u.jsx(Be,{type:"button",className:"flex-1 bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F]",onClick:X,children:"Close"})]})]}),k&&W&&u.jsxs("form",{className:"space-y-4 mt-2",onSubmit:F=>{F.preventDefault(),ee()},children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editName",className:"text-white",children:"Client Name"}),u.jsx(Re,{id:"editName",value:W.name,onChange:F=>J(I=>I&&{...I,name:F.target.value}),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editRoom",className:"text-white",children:"Room Number"}),u.jsx(Re,{id:"editRoom",value:W.room,onChange:F=>J(I=>I&&{...I,room:F.target.value}),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editContact",className:"text-white",children:"Contact"}),u.jsx(Re,{id:"editContact",value:W.contact,onChange:F=>J(I=>I&&{...I,contact:F.target.value}),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editEmail",className:"text-white",children:"Email"}),u.jsx(Re,{id:"editEmail",type:"email",value:W.email,onChange:F=>J(I=>I&&{...I,email:F.target.value}),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editStartDate",className:"text-white",children:"Start Date"}),u.jsx(Re,{id:"editStartDate",type:"date",value:W.startDate,onChange:F=>J(I=>I&&{...I,startDate:F.target.value}),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editDueDate",className:"text-white",children:"Due Date (Auto)"}),u.jsx(Re,{id:"editDueDate",readOnly:!0,value:gv(W.startDate),className:"bg-[#161616] border-[#2A2A2A] text-white opacity-80"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Tier"}),u.jsxs(Xn,{value:W.tierId,onValueChange:F=>J(I=>I&&{...I,tierId:F}),children:[u.jsx(er,{"aria-label":"Edit tier",className:"bg-[#161616] border-[#2A2A2A] text-white",children:u.jsx(Zn,{placeholder:"Select tier"})}),u.jsx(tr,{children:V.map(F=>u.jsx(at,{value:F.id,children:F.name},F.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editDevices",className:"text-white",children:"Devices"}),u.jsx(Re,{id:"editDevices",type:"number",value:fe,onChange:F=>{const I=F.target.value;if((I===""||/^\d+$/.test(I))&&(le(I),I!=="")){const re=parseInt(I,10);J(Ve=>Ve&&{...Ve,devices:re})}},className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Client Status"}),u.jsxs(Xn,{value:W.status,onValueChange:F=>J(I=>I&&{...I,status:F}),children:[u.jsx(er,{"aria-label":"Edit status",className:"bg-[#161616] border-[#2A2A2A] text-white",children:u.jsx(Zn,{placeholder:"Select status"})}),u.jsxs(tr,{children:[u.jsx(at,{value:"active",children:"Active"}),u.jsx(at,{value:"late",children:"Late"}),u.jsx(at,{value:"suspended",children:"Suspended"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Deposit"}),u.jsxs("div",{className:"space-y-3 border border-[#2A2A2A] rounded-lg p-3",children:[u.jsxs(xe,{className:"flex items-center gap-3 text-white cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:W.hasDeposit,onChange:F=>J(I=>I&&{...I,hasDeposit:F.target.checked,depositAmount:F.target.checked?I.depositAmount:0}),"aria-label":"Edit has deposit"}),"Has deposit?"]}),W.hasDeposit&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editDepositAmount",className:"text-white",children:"Deposit Amount"}),u.jsx(Re,{id:"editDepositAmount",type:"number",placeholder:"Enter deposit amount",value:String(W.depositAmount),onChange:F=>J(I=>I&&{...I,depositAmount:Number(F.target.value)||0}),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]})]})]}),u.jsxs("div",{className:"border-t border-[#2A2A2A] pt-4 space-y-3",children:[u.jsx("p",{className:"text-white font-semibold",children:"Account"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editUsername",className:"text-white",children:"Username"}),u.jsx(Re,{id:"editUsername",value:((ye=W.account)==null?void 0:ye.username)||"",onChange:F=>J(I=>{var re;return I&&{...I,account:{username:F.target.value,password:((re=I.account)==null?void 0:re.password)||"",status:"active"}}}),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editPassword",className:"text-white",children:"Password"}),u.jsx(Re,{id:"editPassword",type:"text",value:((Ce=W.account)==null?void 0:Ce.password)||"",onChange:F=>J(I=>{var re;return I&&{...I,account:{username:((re=I.account)==null?void 0:re.username)||"",password:F.target.value,status:"active"}}}),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx(Be,{type:"button",variant:"outline",onClick:_e,className:"flex-1 border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",children:"Cancel"}),u.jsx(Be,{type:"submit",className:"flex-1 bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F]",children:"Save"})]})]})]})]})}),u.jsx("div",{className:"flex items-center justify-between text-[#A0A0A0] text-sm",children:u.jsxs("p",{children:["Showing ",Q.length," of ",e.length," clients"]})})]})}function vR(){const{tiers:e,loading:t,error:r,add:i,edit:a,remove:l}=Ac(),[c,d]=x.useState(!1),[f,m]=x.useState("newest"),[g,w]=x.useState(!1),[b,y]=x.useState(!1),[S,_]=x.useState(""),[E,C]=x.useState(""),[j,T]=x.useState("1"),[L,N]=x.useState(""),[$,k]=x.useState(!1),[z,W]=x.useState(null),[J,ae]=x.useState(!1),[de,fe]=x.useState(""),[le,te]=x.useState(""),[Q,V]=x.useState("1"),[P,Z]=x.useState(""),[X,R]=x.useState(!1),[H,ne]=x.useState(null),ce=()=>{_(""),C(""),T("1"),N("")},ge=F=>{W(F.id),fe(F.name??""),te(F.speed??""),V(String(F.deviceLimit??1)),Z(String(F.price??0)),k(!0)},_e=async F=>{if(F.preventDefault(),!S.trim()||!E.trim())return;const I=Math.max(1,Number(j||1)),re=Math.max(0,Number(L||0));y(!0);const Ve=await i({name:S.trim(),speed:E.trim(),deviceLimit:I,price:re});y(!1),Ve.ok&&(w(!1),ce())},ee=async F=>{if(F.preventDefault(),!z||!de.trim()||!le.trim())return;const I=Math.max(1,Number(Q||1)),re=Math.max(0,Number(P||0));ae(!0);const Ve=await a(z,{name:de.trim(),speed:le.trim(),deviceLimit:I,price:re});ae(!1),Ve.ok&&(k(!1),W(null))},me=x.useMemo(()=>{const F=[...e];switch(f){case"name_asc":F.sort((I,re)=>I.name.localeCompare(re.name));break;case"price_asc":F.sort((I,re)=>(Number(I.price)||0)-(Number(re.price)||0));break;case"price_desc":F.sort((I,re)=>(Number(re.price)||0)-(Number(I.price)||0));break;case"devices_asc":F.sort((I,re)=>(I.deviceLimit||0)-(re.deviceLimit||0));break;case"devices_desc":F.sort((I,re)=>(re.deviceLimit||0)-(I.deviceLimit||0));break}return F},[e,f]),ye=x.useMemo(()=>c?me:me.slice(0,4),[me,c]),Ce=x.useMemo(()=>e.reduce((F,I)=>F+(I.subscribers??0),0),[e]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-white mb-1",children:"Internet Tier Plans"}),u.jsx("p",{className:"text-[#A0A0A0]",children:"Manage your service packages and pricing"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[u.jsxs("div",{className:"min-w-[220px]",children:[u.jsx(xe,{className:"text-white text-xs mb-2 block",children:"Rearrange"}),u.jsxs(Xn,{value:f,onValueChange:F=>m(F),children:[u.jsx(er,{className:"bg-[#161616] border-[#2A2A2A] text-white","aria-label":"Rearrange tiers",children:u.jsx(Zn,{placeholder:"Choose order"})}),u.jsxs(tr,{className:"bg-[#1E1E1E] border-[#2A2A2A] text-white",children:[u.jsx(at,{value:"newest",children:"Newest (default)"}),u.jsx(at,{value:"name_asc",children:"Name (AZ)"}),u.jsx(at,{value:"price_asc",children:"Price (Low  High)"}),u.jsx(at,{value:"price_desc",children:"Price (High  Low)"}),u.jsx(at,{value:"devices_asc",children:"Device Limit (Low  High)"}),u.jsx(at,{value:"devices_desc",children:"Device Limit (High  Low)"})]})]})]}),u.jsxs(os,{open:g,onOpenChange:F=>{w(F),F||ce()},children:[u.jsx(S0,{asChild:!0,children:u.jsxs(Be,{className:"bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F] font-semibold",children:[u.jsx(Uy,{className:"w-4 h-4 mr-2"}),"Add Tier"]})}),u.jsxs(ls,{className:"bg-[#1E1E1E] border-[#2A2A2A] text-white",children:[u.jsx(cs,{children:u.jsx(us,{className:"text-2xl text-white",children:"Add New Tier"})}),r&&u.jsx("div",{className:"rounded-md border border-[#EA5455]/40 bg-[#EA5455]/10 px-4 py-3 text-sm text-[#EA5455]",children:r}),u.jsxs("form",{className:"space-y-4 mt-4",onSubmit:_e,children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"tierName",className:"text-white",children:"Tier Name"}),u.jsx(Re,{id:"tierName",placeholder:"e.g., Premium Plus",value:S,onChange:F=>_(F.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"speed",className:"text-white",children:"Speed Allocation"}),u.jsx(Re,{id:"speed",placeholder:"e.g., Up to 100 Mbps",value:E,onChange:F=>C(F.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"devices",className:"text-white",children:"Device Limit"}),u.jsx(Re,{id:"devices",type:"number",min:1,value:j,onChange:F=>T(F.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"price",className:"text-white",children:"Monthly Price ()"}),u.jsx(Re,{id:"price",type:"number",min:0,value:L,onChange:F=>N(F.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(Be,{type:"button",variant:"outline",onClick:()=>w(!1),className:"flex-1 border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",children:"Cancel"}),u.jsx(Be,{type:"submit",disabled:b||!S.trim()||!E.trim(),className:"flex-1 bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F] disabled:opacity-70",children:b?"Adding...":"Add Tier"})]})]})]})]})]})]}),u.jsx(os,{open:$,onOpenChange:F=>{k(F),F||W(null)},children:u.jsxs(ls,{className:"bg-[#1E1E1E] border-[#2A2A2A] text-white",children:[u.jsx(cs,{children:u.jsx(us,{className:"text-2xl text-white",children:"Edit Tier"})}),r&&u.jsx("div",{className:"rounded-md border border-[#EA5455]/40 bg-[#EA5455]/10 px-4 py-3 text-sm text-[#EA5455]",children:r}),u.jsxs("form",{className:"space-y-4 mt-4",onSubmit:ee,children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editTierName",className:"text-white",children:"Tier Name"}),u.jsx(Re,{id:"editTierName",value:de,onChange:F=>fe(F.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editSpeed",className:"text-white",children:"Speed Allocation"}),u.jsx(Re,{id:"editSpeed",value:le,onChange:F=>te(F.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editDevices",className:"text-white",children:"Device Limit"}),u.jsx(Re,{id:"editDevices",type:"number",min:1,value:Q,onChange:F=>V(F.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{htmlFor:"editPrice",className:"text-white",children:"Monthly Price ()"}),u.jsx(Re,{id:"editPrice",type:"number",min:0,value:P,onChange:F=>Z(F.target.value),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(Be,{type:"button",variant:"outline",onClick:()=>k(!1),className:"flex-1 border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",children:"Cancel"}),u.jsx(Be,{type:"submit",disabled:J||!de.trim()||!le.trim(),className:"flex-1 bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F] disabled:opacity-70",children:J?"Saving...":"Save Changes"})]})]})]})}),u.jsx(os,{open:X,onOpenChange:F=>{R(F),F||ne(null)},children:u.jsxs(ls,{className:"bg-[#1E1E1E] border-[#2A2A2A] text-white",children:[u.jsx(cs,{children:u.jsx(us,{className:"text-xl text-white",children:"Delete Tier"})}),u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-[#EA5455]/20 flex items-center justify-center mx-auto",children:u.jsx(Wg,{className:"w-6 h-6 text-[#EA5455]"})}),u.jsxs("p",{className:"text-[#A0A0A0] text-center",children:["Are you sure you want to delete"," ",u.jsx("span",{className:"text-white font-semibold",children:H==null?void 0:H.name}),"?"]}),u.jsx("p",{className:"text-sm text-[#EA5455] text-center",children:"This action cannot be undone."}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx(Be,{variant:"outline",onClick:()=>R(!1),className:"flex-1 border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",children:"Cancel"}),u.jsx(Be,{onClick:async()=>{H&&(await l(H.id),R(!1),ne(null))},className:"flex-1 bg-[#EA5455] hover:bg-[#EA5455]/90 text-white",children:"Delete"})]})]})]})}),r&&u.jsx("div",{className:"rounded-md border border-[#EA5455]/40 bg-[#EA5455]/10 px-4 py-3 text-sm text-[#EA5455]",children:r}),t&&u.jsx("div",{className:"text-sm text-[#A0A0A0]",children:"Loading tiers..."}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-[#A0A0A0]",children:["Showing ",ye.length," of ",me.length]}),me.length>4&&u.jsx(Be,{variant:"outline",className:"border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",onClick:()=>d(F=>!F),children:c?"Show less":"Show all"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ye.map(F=>u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl overflow-hidden hover:border-[#F5C400]/30 transition-all",children:[u.jsxs("div",{className:"bg-gradient-to-br from-[#F5C400] to-[#F5C400]/80 p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#0F0F0F]/20 backdrop-blur-sm flex items-center justify-center",children:u.jsx(lc,{className:"w-6 h-6 text-[#0F0F0F]"})}),u.jsxs("div",{className:"px-3 py-1 bg-[#0F0F0F]/20 backdrop-blur-sm rounded-full text-[#0F0F0F] text-xs font-semibold",children:[F.subscribers," Active"]})]}),u.jsx("h3",{className:"text-2xl font-bold text-[#0F0F0F] mb-1",children:F.name}),u.jsx("p",{className:"text-[#0F0F0F]/70 font-medium",children:F.speed})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsxs("span",{className:"text-4xl font-bold text-white",children:["",F.price]}),u.jsx("span",{className:"text-[#A0A0A0]",children:"/month"})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-[#2A2A2A]",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Speed"}),u.jsx("span",{className:"text-white font-semibold",children:F.speed})]}),u.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-[#2A2A2A]",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Device Limit"}),u.jsxs("span",{className:"text-white font-semibold",children:[F.deviceLimit," devices"]})]})]}),u.jsxs("div",{className:"flex gap-2 pt-4",children:[u.jsxs(Be,{variant:"outline",className:"flex-1 border-[#2A2A2A] text-[#F5C400] hover:bg-[#F5C400]/10",onClick:()=>ge(F),children:[u.jsx(zj,{className:"w-4 h-4 mr-2"}),"Edit"]}),u.jsx(Be,{variant:"outline",className:"border-[#2A2A2A] text-[#EA5455] hover:bg-[#EA5455]/10",onClick:()=>{ne({id:F.id,name:F.name}),R(!0)},children:u.jsx(Wg,{className:"w-4 h-4"})})]})]})]},F.id))}),u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tier Overview"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-1",children:"Total Tiers"}),u.jsx("p",{className:"text-3xl font-bold text-white",children:e.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-1",children:"Total Subscribers"}),u.jsx("p",{className:"text-3xl font-bold text-white",children:Ce})]})]})]})]})}function vv(e){return String(e).padStart(2,"0")}function Ql(e){return`${e.getFullYear()}-${vv(e.getMonth()+1)}-${vv(e.getDate())}`}function yR(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function wR(){const{tiers:e}=Ac(),[t,r]=x.useState(!1),[i,a]=x.useState(null),l=x.useCallback(async f=>{r(!0);const m=await Hy(f);if(r(!1),m.error)throw m.error;return m.data??[]},[]),c=x.useCallback(async(f,m)=>{var w,b,y;r(!0),a(null);try{const S=new Date;let _=yR(S);const E=await Vy(f.id);if(E&&E.data){const ee=E.data,[me,ye]=String(ee.billing_month).split("-");let Ce=Number(me||new Date().getFullYear()),F=Number(ye||new Date().getMonth()+1);F+=1,F>12&&(F=1,Ce+=1),_=`${Ce}-${String(F).padStart(2,"0")}`;const I=(re,Ve)=>{const Ze=new Date(re);return Ze.setMonth(Ze.getMonth()+Ve),`${Ze.getFullYear()}-${String(Ze.getMonth()+1).padStart(2,"0")}-${String(Ze.getDate()).padStart(2,"0")}`};var g=ee.due_date?I(ee.due_date,1):Ql(new Date)}else{const[ee,me]=_.split("-").map(Number),Ce=new Date(f.startDate).getDate(),F=new Date(ee,me,0).getDate(),I=Math.min(Ce,F),re=new Date(ee,me-1,I);var g=Ql(re)}const C=30;let j=0,T=0;const L=e.find(ee=>ee.id===f.tierId);if(L)j=Number(L.price??0),T=Number(L.deviceLimit??0);else{const ee=await pN(f.tierId);if(ee!=null&&ee.error)throw ee.error;j=Number(((w=ee==null?void 0:ee.data)==null?void 0:w.price)??0),T=Number(((b=ee==null?void 0:ee.data)==null?void 0:b.device_limit)??0)}const N=Number(f.devices??0),$=Math.max(0,N-T),k=$*C,z=j,W=m.unregisteredOvercharge??0,J=m.rebate??0,ae=m.previousBalance!==void 0&&m.previousBalance!==null?m.previousBalance:await Ky(f.id),de=m.depositApplied??0,fe=z+k+W-J+ae-de,le=()=>{const ee=new Date,me=ee.getFullYear(),ye=String(ee.getMonth()+1).padStart(2,"0"),Ce=String(ee.getDate()).padStart(2,"0"),F=String(Math.floor(Math.random()*1e4)).padStart(4,"0");return`NGS-${me}${ye}${Ce}-${F}`};let te=m.invoiceNumber??le();const Q={clientId:f.id,invoiceNumber:te,billingMonth:_,invoiceDate:Ql(S),dueDate:g,basePrice:z,extraDeviceCharge:k,unregisteredOvercharge:W,rebate:J,previousBalance:ae,depositApplied:de,totalAmount:fe,paymentStatus:"pending",client_name:f.name,client_room:f.room,client_contact:f.contact,client_email:f.email,amount_paid:0,balance_due:fe};console.log("EXTRA DEVICE DEBUG",{clientDevices:f.devices,tierDeviceLimit:T,extraDevices:$,extraDeviceCharge:k}),console.log("INVOICE DEBUG BEFORE_CREATE",{extra_device_charge:Q.extraDeviceCharge,total_amount:Q.totalAmount,payload:Q});let V=await Vg(Q);if(V.error&&/unique/i.test(V.error.message)&&(te=le(),Q.invoiceNumber=te,V=await Vg(Q)),V.error)throw V.error;console.log("INVOICE DEBUG CREATED",{data:V.data,error:V.error,returned_extra_device_charge:(y=V.data)==null?void 0:y.extra_device_charge});const P=V.data,Z=new Date(P.due_date);let X=Z.getFullYear(),R=Z.getMonth()+1;R>11&&(R=0,X+=1);const H=new Date(X,R+1,0),ne=new Date(P.due_date??P.invoice_date??new Date),ce=Math.min(ne.getDate(),H.getDate()),ge=new Date(X,R,ce),_e=Ql(ge);return await $h(f.id,{next_due_date:_e}),r(!1),{ok:!0,invoice:P}}catch(S){return a((S==null?void 0:S.message)??String(S)),r(!1),{ok:!1,error:S}}},[e]),d=x.useCallback(async f=>{r(!0),a(null);try{const m=await qy(f);if(r(!1),m.error)throw m.error;return{ok:!0}}catch(m){return a((m==null?void 0:m.message)??String(m)),r(!1),{ok:!1,error:m}}},[]);return{loading:t,error:i,fetchForClient:l,createInvoiceForClient:c,removeInvoice:d}}async function xR(e=50){const t=await ch(e);if(t.error)throw t.error;return t.data??[]}const bR="modulepreload",_R=function(e){return"/"+e},yv={},qi=function(t,r,i){let a=Promise.resolve();if(r&&r.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(r.map(m=>{if(m=_R(m),m in yv)return;yv[m]=!0;const g=m.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":bR,g||(b.as="script"),b.crossOrigin="",b.href=m,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((y,S)=>{b.addEventListener("load",y),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};function ww(e){const{invoice:t,clientName:r,clientRoom:i,clientContact:a,clientEmail:l}=e,c=m=>`${Number(m??0).toLocaleString()}`,d=()=>{const m=Number(t.rebate??0);return m>0?`-${m.toLocaleString()}`:`${m.toLocaleString()}`},f=()=>{const m=Number(t.depositApplied??0);return m>0?`-${m.toLocaleString()}`:`${m.toLocaleString()}`};return u.jsx("div",{style:{background:"#0f0f0f",padding:18,borderRadius:12,width:"fit-content",maxWidth:"100%"},children:u.jsxs("div",{style:{background:"#ffffff",color:"#000000",borderRadius:12,padding:22,width:640,maxWidth:"100%",boxSizing:"border-box",fontFamily:'ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"'},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:16,alignItems:"center"},children:[u.jsx("div",{children:u.jsx("img",{src:Sc,alt:"NexGio Logo",style:{height:48,width:"auto",display:"block"}})}),u.jsxs("div",{style:{textAlign:"right"},children:[u.jsx("div",{style:{fontWeight:700,fontSize:18},children:"NexGio Solutions"}),u.jsxs("div",{style:{color:"#4B5563",fontSize:14,marginTop:2},children:["Invoice #",t.invoiceNumber||"-"]})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:18,marginTop:14,fontSize:14,lineHeight:1.6},children:[u.jsxs("div",{children:[u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Invoice Date: "}),u.jsx("span",{style:{fontWeight:600},children:ds(t.invoiceDate)})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Due Date: "}),u.jsx("span",{style:{fontWeight:600},children:ds(t.dueDate)})]})]}),u.jsxs("div",{children:[u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Client: "}),u.jsx("span",{style:{fontWeight:600},children:r||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Room: "}),u.jsx("span",{style:{fontWeight:600},children:i||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Contact: "}),u.jsx("span",{style:{fontWeight:600},children:a||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Email: "}),u.jsx("span",{style:{fontWeight:600},children:l||"-"})]})]})]}),u.jsx("div",{style:{marginTop:16,borderTop:"1px solid #111827"}}),u.jsxs("div",{style:{marginTop:16,fontSize:16},children:[u.jsx(Oi,{label:"Base Price",value:c(t.basePrice)}),u.jsx(Oi,{label:"Extra Device Charge",value:c(t.extraDeviceCharge)}),u.jsx(Oi,{label:"Unregistered Overcharge",value:c(t.unregisteredOvercharge)}),u.jsx(Oi,{label:"Rebate",value:d()}),u.jsx(Oi,{label:"Previous Balance",value:c(t.previousBalance)}),u.jsx(Oi,{label:"Deposit Applied",value:f()})]}),u.jsx("div",{style:{marginTop:14,borderTop:"1px solid #111827"}}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:14},children:u.jsxs("div",{style:{textAlign:"right"},children:[u.jsx("div",{style:{color:"#4B5563",fontSize:14},children:"Total"}),u.jsx("div",{style:{fontWeight:800,fontSize:32,marginTop:2},children:c(t.totalAmount)})]})}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:u.jsxs("div",{style:{color:"#111827",fontSize:14},children:["Status: ",u.jsx("span",{style:{fontWeight:700},children:t.paymentStatus||"pending"})]})})]})})}function Oi(e){return u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0"},children:[u.jsx("div",{children:e.label}),u.jsx("div",{children:e.value})]})}async function SR(e,t,r,i,a){const l=(await qi(async()=>{const{default:b}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:b}},[])).default,{createRoot:c}=await qi(async()=>{const{createRoot:b}=await Promise.resolve().then(()=>Av);return{createRoot:b}},void 0),d=document.createElement("div");d.style.position="fixed",d.style.left="-10000px",d.style.top="0",d.style.width="800px",d.style.zIndex="-1",document.body.appendChild(d);const f=c(d);f.render(u.jsx(ww,{invoice:e,clientName:t,clientRoom:r,clientContact:i,clientEmail:a})),await new Promise(b=>setTimeout(b,50));const m=d.firstElementChild;if(!m)throw f.unmount(),document.body.removeChild(d),new Error("Failed to render invoice for PNG export.");const g=await l(m,{scale:3,backgroundColor:null,useCORS:!0,scrollY:-window.scrollY}),w=await new Promise((b,y)=>{g.toBlob(S=>S?b(S):y(new Error("toBlob failed")),"image/png")});return f.unmount(),document.body.removeChild(d),w}function wv(e){if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";const r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),a=String(t.getFullYear()).slice(-2);return`${r}-${i}-${a}`}function AR(e){const t=typeof e=="string"?new Date(e):e;if(Number.isNaN(t.getTime()))return"";const r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),a=String(t.getFullYear());return`${r}-${i}-${a}`}function ER(){const{clients:e,reload:t}=Ec(),{createInvoiceForClient:r,loading:i}=wR(),{tiers:a}=Ac(),[l,c]=x.useState(""),[d,f]=x.useState(""),[m]=x.useState(new Date().toISOString().split("T")[0]),[g,w]=x.useState(new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]),[b,y]=x.useState("0"),[S,_]=x.useState("0"),[E,C]=x.useState(null),[j,T]=x.useState(0),[L,N]=x.useState(!1),[$,k]=x.useState(!1),[z,W]=x.useState("0"),[J,ae]=x.useState(null),[de,fe]=x.useState(null),[le,te]=x.useState(!1),[Q,V]=x.useState({}),P=x.useMemo(()=>e.find(I=>I.id===d)??null,[d,e]);x.useEffect(()=>{if(!P)return;w(P.dueDate),C(null),T(0),Ky(P.id).then(re=>{T(re)}).catch(()=>{T(0)});const I=(P.depositAmount??0)>0;N(I),k(!1),W("0"),y("0"),_("0"),l||ee()},[d,P]);const Z=(()=>{const I=a.find(Bn=>Bn.id===(P==null?void 0:P.tierId)),re=(I==null?void 0:I.price)??0,Ve=Number((P==null?void 0:P.devices)??0),Ze=Number((I==null?void 0:I.deviceLimit)??0),ht=Math.max(0,Ve-Ze),jt=ht*30;return{basePrice:re,registeredExtraDevices:ht,extraDeviceCharge:jt,previousBalance:j,depositBalance:(P==null?void 0:P.depositAmount)??0}})(),X=E!==null?Number(E||0):Z.previousBalance,R=L?Z.depositBalance:0,H=Number(b||0),ne=Number(S||0),ce=Z.basePrice+Z.extraDeviceCharge+H-ne+X;x.useEffect(()=>{if(!P)return;if(!$){W("0");return}const I=Math.min(R,ce);W(String(I))},[$,R,ce,P]);const ge=$?Math.min(Math.max(0,Number(z||0)),R):0,_e=Math.max(0,ce-ge),ee=()=>{const I=new Date,re=I.getFullYear(),Ve=String(I.getMonth()+1).padStart(2,"0"),Ze=String(I.getDate()).padStart(2,"0"),ht=String(Math.floor(Math.random()*1e4)).padStart(4,"0"),jt=`NGS-${re}${Ve}${Ze}-${ht}`;return c(jt),jt},me=async()=>{var Ve;if(!P)return;fe(null);const I=l||ee(),re=await r(P,{invoiceNumber:I,unregisteredOvercharge:H,rebate:ne,previousBalance:X,depositApplied:ge,paymentMethod:null});if(re.ok){if(fe("Invoice created successfully"),ge>0)try{const Ze=Number(P.depositAmount??0),ht=Math.max(Ze-ge,0);await $h(P.id,{deposit_amount:ht})}catch(Ze){console.error("Failed to update client deposit:",Ze)}t(),ae(re.invoice??null),c("")}else fe(`Failed: ${((Ve=re.error)==null?void 0:Ve.message)??"unknown"}`)},ye=async()=>{var I;if(J)try{const re=await bN(String(J.id),Q);if(re!=null&&re.error){fe(`Update failed: ${((I=re.error)==null?void 0:I.message)??"unknown"}`);return}ae(re.data??J),te(!1),fe("Invoice updated")}catch(re){fe(`Update failed: ${(re==null?void 0:re.message)??String(re)}`)}};function Ce(){if(!P)return null;const I=a.find(sn=>sn.id===P.tierId),re=(I==null?void 0:I.price)??0,Ve=Number(P.devices??0),Ze=Number((I==null?void 0:I.deviceLimit)??0),jt=Math.max(0,Ve-Ze)*30,Bn=re+jt+H-ne+X-ge;return{id:String((J==null?void 0:J.id)??""),clientId:P.id,invoiceNumber:l||(J==null?void 0:J.invoice_number)||"",billingMonth:(J==null?void 0:J.billing_month)??new Date().toISOString().slice(0,7),invoiceDate:m,dueDate:g,basePrice:re,extraDeviceCharge:jt,unregisteredOvercharge:H,rebate:ne,previousBalance:X,depositApplied:ge,totalAmount:Bn,paymentStatus:(J==null?void 0:J.payment_status)??"pending",paymentDate:(J==null?void 0:J.payment_date)??null,paymentMethod:(J==null?void 0:J.payment_method)??null,createdAt:(J==null?void 0:J.created_at)??void 0,updatedAt:(J==null?void 0:J.updated_at)??void 0}}const F=async()=>{const I=Ce();if(!(!I||!P))try{fe("Generating PNG...");const re=await SR(I,P.name,P.room,P.contact??"-",P.email??"-"),Ve=URL.createObjectURL(re),Ze=document.createElement("a");Ze.href=Ve,Ze.download=`invoice-${I.invoiceNumber||"draft"}.png`,Ze.click(),setTimeout(()=>URL.revokeObjectURL(Ve),1e3),fe("PNG exported successfully")}catch(re){fe(`Export failed: ${re instanceof Error?re.message:String(re)}`)}};return u.jsxs("div",{className:"space-y-6 max-w-7xl",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-white mb-1",children:"Invoice Generation"}),u.jsx("p",{className:"text-[#A0A0A0]",children:"Create and manage client invoices"})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[u.jsx($y,{className:"w-5 h-5 text-[#F5C400]"})," Client Information"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Select Client"}),u.jsxs(Xn,{value:d,onValueChange:f,children:[u.jsx(er,{"aria-label":"Select client",className:"bg-[#161616] border-[#2A2A2A] text-white",children:u.jsx(Zn,{placeholder:"Choose a client"})}),u.jsx(tr,{children:e.map(I=>u.jsxs(at,{value:I.id,children:[I.name," - ",I.room]},I.id))})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-[#2A2A2A]",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-1",children:"Room Number"}),u.jsx("p",{className:"text-white font-medium",children:(P==null?void 0:P.room)??"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-1",children:"Client Name"}),u.jsx("p",{className:"text-white font-medium",children:(P==null?void 0:P.name)??"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-1",children:"Contact"}),u.jsx("p",{className:"text-white font-medium",children:(P==null?void 0:P.contact)??"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-1",children:"Email"}),u.jsx("p",{className:"text-white font-medium",children:(P==null?void 0:P.email)??"-"})]})]})]})]}),u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Invoice Number"}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Re,{value:l,readOnly:!0,placeholder:"Auto-generated invoice #",className:"bg-[#161616] border-[#2A2A2A] text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Invoice Date"}),u.jsxs("div",{children:[u.jsx(Re,{type:"date",value:m,readOnly:!0,className:"hidden"}),u.jsx("p",{className:"text-white font-medium",children:wv(m)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Due Date"}),u.jsxs("div",{children:[u.jsx(Re,{type:"date",value:g,readOnly:!0,className:"hidden"}),u.jsx("p",{className:"text-white font-medium",children:wv(g)})]})]})]}),u.jsx("div",{className:"pt-2",children:u.jsx(fo,{status:"pending",children:"Pending Payment"})})]})]}),u.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[u.jsx(Be,{onClick:me,className:"flex-1 bg-[#F5C400] text-black hover:opacity-90",disabled:!P||i,type:"button",children:"Save Invoice"}),u.jsxs(Be,{onClick:F,variant:"outline",className:"flex-1 border-[#2A2A2A] text-white",disabled:!P,type:"button",children:[u.jsx(My,{className:"mr-2"})," Save as Image"]})]}),de&&u.jsx("p",{className:"text-sm text-[#A0A0A0]",children:de})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Charges Breakdown"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Base Price"}),u.jsxs("span",{className:"text-white",children:["",Z.basePrice]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("span",{className:"text-[#A0A0A0]",children:["Extra Devices (",Z.registeredExtraDevices,")"]}),u.jsxs("span",{className:"text-white",children:["",Z.extraDeviceCharge]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 gap-3",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Unregistered Overcharge"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:""}),u.jsx(Re,{id:"unregisteredOvercharge",type:"number",inputMode:"numeric",value:b,onChange:I=>y(I.target.value),className:"w-32 bg-[#161616] border-[#2A2A2A] text-white text-right",disabled:!P})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 gap-3",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Rebate"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:""}),u.jsx(Re,{id:"rebate",type:"number",inputMode:"numeric",value:S,onChange:I=>_(I.target.value),className:"w-32 bg-[#161616] border-[#2A2A2A] text-white text-right",disabled:!P})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 gap-3",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Previous Balance"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:""}),u.jsx(Re,{type:"number",inputMode:"numeric",value:E!==null?E:String(X),onChange:I=>C(I.target.value),className:"w-32 bg-[#161616] border-[#2A2A2A] text-white text-right",disabled:!P})]})]}),u.jsxs("div",{className:"border-t border-[#2A2A2A] pt-4 mt-2 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Deposit"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{id:"hasDeposit","aria-label":"Has deposit",type:"checkbox",checked:L,onChange:I=>{N(I.target.checked),k(!1),W("0")},disabled:!P}),u.jsx(xe,{htmlFor:"hasDeposit",className:"text-white cursor-pointer",children:"Has deposit"})]})]}),L&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Deposit Balance"}),u.jsxs("span",{className:"text-white",children:["",R]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(xe,{htmlFor:"useDepositAsPayment",className:"text-[#A0A0A0] cursor-pointer",children:"Use deposit as payment"}),u.jsx("input",{id:"useDepositAsPayment","aria-label":"Use deposit as payment",type:"checkbox",checked:$,onChange:I=>k(I.target.checked),disabled:!P})]}),$&&u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Deposit Applied"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:""}),u.jsx(Re,{type:"number",inputMode:"numeric",value:z,onChange:I=>W(I.target.value),className:"w-32 bg-[#161616] border-[#2A2A2A] text-white text-right",disabled:!P})]})]})]})]}),u.jsx("div",{className:"border-t-2 border-[#F5C400] pt-4 mt-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-lg font-semibold text-white",children:"Total Amount"}),u.jsxs("span",{className:"text-3xl font-bold text-[#F5C400]",children:["",_e]})]})})]})]})})]}),u.jsx(os,{open:le,onOpenChange:te,children:u.jsxs(ls,{className:"bg-[#1E1E1E] border-[#2A2A2A] text-white max-w-2xl",children:[u.jsx(cs,{children:u.jsx(us,{children:"Edit Invoice"})}),u.jsxs("div",{className:"space-y-3 p-2",children:[u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Invoice Number"}),u.jsx(Re,{value:Q.invoice_number??"",onChange:I=>V(re=>({...re,invoice_number:I.target.value}))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Invoice Date"}),u.jsx(Re,{type:"date",value:Q.invoice_date??"",onChange:I=>V(re=>({...re,invoice_date:I.target.value}))})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Due Date"}),u.jsx(Re,{type:"date",value:Q.due_date??"",onChange:I=>V(re=>({...re,due_date:I.target.value}))})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Base Price"}),u.jsx(Re,{type:"number",value:String(Q.base_price??0),onChange:I=>V(re=>({...re,base_price:Number(I.target.value)}))})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Unregistered Overcharge"}),u.jsx(Re,{type:"number",value:String(Q.unregistered_overcharge??0),onChange:I=>V(re=>({...re,unregistered_overcharge:Number(I.target.value)}))})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Rebate"}),u.jsx(Re,{type:"number",value:String(Q.rebate??0),onChange:I=>V(re=>({...re,rebate:Number(I.target.value)}))})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Previous Balance"}),u.jsx(Re,{type:"number",value:String(Q.previous_balance??0),onChange:I=>V(re=>({...re,previous_balance:Number(I.target.value)}))})]})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Deposit Applied"}),u.jsx(Re,{type:"number",value:String(Q.deposit_applied??0),onChange:I=>V(re=>({...re,deposit_applied:Number(I.target.value)}))})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Total Amount"}),u.jsx(Re,{type:"number",value:String(Q.total_amount??0),onChange:I=>V(re=>({...re,total_amount:Number(I.target.value)}))})]})]}),u.jsx(Gh,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Be,{onClick:ye,className:"bg-[#F5C400] text-black",children:"Save"}),u.jsx(Be,{variant:"outline",onClick:()=>te(!1),children:"Cancel"})]})})]})})]})}const jR=[];function NR(){const[e,t]=x.useState(jR),[r,i]=x.useState(""),[a,l]=x.useState("all"),[c,d]=x.useState(!1),[f,m]=x.useState(null),g=x.useRef(null),w=async()=>{try{const N=await xR(100);console.log("[INV-HISTORY] fetched invoices",{count:(N||[]).length,sample:(N||[])[0]});const $=(N||[]).map((k,z)=>{var de,fe,le,te;const W=Number(k.total_amount??0),J=k.amount_paid!==null&&k.amount_paid!==void 0?Number(k.amount_paid):Math.max(0,W-Number(k.balance_due??W)),ae=Number(k.balance_due??W-J);return{id:z+1,clientName:((de=k.clients)==null?void 0:de.name)??k.client_name??String(k.client_id??"-"),clientRoom:((fe=k.clients)==null?void 0:fe.room)??k.client_room??"-",clientContact:((le=k.clients)==null?void 0:le.contact)??k.client_contact??"-",clientEmail:((te=k.clients)==null?void 0:te.email)??k.client_email??"-",invoiceNumber:k.invoice_number??String(k.id??""),invoiceId:String(k.invoice_id??k.id??""),amount:W,amountPaid:J,balance:ae,date:k.invoice_date??"",dueDate:k.due_date??"",method:k.payment_method??"",status:Number(k.balance_due??0)<=0?"paid":k.payment_status??"pending",details:{basePrice:Number(k.base_price??0),extraDeviceCharge:Number(k.extra_device_charge??0),unregisteredOvercharge:Number(k.unregistered_overcharge??0),rebate:Number(k.rebate??0),previousBalance:Number(k.previous_balance??0),depositApplied:Number(k.deposit_applied??0),total:W}}});t($)}catch(N){console.error("Failed to reload invoices",N)}};x.useEffect(()=>{let N=!0;(async()=>N&&await w())();const $=()=>void w();return window.addEventListener("invoices:updated",$),()=>{N=!1,window.removeEventListener("invoices:updated",$)}},[]);function b(N){var $;return{id:String(N.invoiceId??N.id),clientId:N.clientName,invoiceNumber:N.invoiceNumber,billingMonth:(($=N.date)==null?void 0:$.slice(0,7))??new Date().toISOString().slice(0,7),invoiceDate:N.date,dueDate:N.dueDate,basePrice:N.details.basePrice,extraDeviceCharge:N.details.extraDeviceCharge,unregisteredOvercharge:N.details.unregisteredOvercharge,rebate:N.details.rebate,previousBalance:N.details.previousBalance,depositApplied:N.details.depositApplied,totalAmount:N.details.total,paymentStatus:N.status,paymentDate:N.date,paymentMethod:N.method}}const y=async()=>{if(f!=null&&f.invoiceId&&confirm("Delete this invoice?"))try{const N=await qy(String(f.invoiceId));if(N!=null&&N.error){alert("Failed to delete invoice");return}d(!1),m(null),await w()}catch(N){console.error(N),alert("Failed to delete invoice")}},S=N=>{m(N),d(!0)},_=async()=>{if(!(!g.current||!f))try{const N=(await qi(async()=>{const{default:W}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:W}},[])).default,$=g.current.cloneNode(!0);$.style.position="fixed",$.style.left="-99999px",$.style.top="0",$.style.width="720px",$.style.maxWidth="720px",$.style.background="#ffffff",$.style.padding="0",$.style.overflow="hidden",$.style.zIndex="999999",document.body.appendChild($);const k=await N($,{scale:3,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!1});document.body.removeChild($);const z=document.createElement("a");z.download=`${f.invoiceNumber}.png`,z.href=k.toDataURL("image/png"),z.click()}catch(N){console.error("PNG export failed:",N),alert("Failed to export image.")}},E=e.filter(N=>{const $=N.clientName.toLowerCase().includes(r.toLowerCase())||N.invoiceNumber.toLowerCase().includes(r.toLowerCase()),k=a==="all"||N.status===a;return $&&k}),C=E.reduce((N,$)=>N+Number($.amountPaid??0),0),j=E.filter(N=>Number(N.amountPaid??0)>0).length,T=e.filter(N=>N.status==="pending").reduce((N,$)=>N+$.amount,0),L=e.filter(N=>N.status==="overdue").reduce((N,$)=>N+$.amount,0);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-2",children:"Total Paid"}),u.jsxs("p",{className:"text-3xl font-bold text-[#28C76F]",children:["",C.toLocaleString()]}),u.jsxs("p",{className:"text-[#A0A0A0] text-sm mt-2",children:[j," transactions"]})]}),u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-2",children:"Pending"}),u.jsxs("p",{className:"text-3xl font-bold text-[#FF9F43]",children:["",T.toLocaleString()]}),u.jsxs("p",{className:"text-[#A0A0A0] text-sm mt-2",children:[e.filter(N=>N.status==="pending").length," transactions"]})]}),u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsx("p",{className:"text-[#A0A0A0] text-sm mb-2",children:"Overdue"}),u.jsxs("p",{className:"text-3xl font-bold text-[#EA5455]",children:["",L.toLocaleString()]}),u.jsxs("p",{className:"text-[#A0A0A0] text-sm mt-2",children:[e.filter(N=>N.status==="overdue").length," transactions"]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-1/2",children:[u.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#A0A0A0]",children:u.jsx(Mh,{className:"w-4 h-4"})}),u.jsx(Re,{"aria-label":"Search invoices",placeholder:"Search by client or invoice",value:r,onChange:N=>i(N.target.value),className:"pl-10 bg-[#161616] border-[#2A2A2A] text-white placeholder:text-[#A0A0A0]"})]}),u.jsxs(Xn,{value:a,onValueChange:l,children:[u.jsx(er,{className:"w-full md:w-48 bg-[#161616] border-[#2A2A2A] text-white",children:u.jsx(Zn,{placeholder:"All Status"})}),u.jsxs(tr,{children:[u.jsx(at,{value:"all",children:"All Status"}),u.jsx(at,{value:"paid",children:"Paid"}),u.jsx(at,{value:"pending",children:"Pending"}),u.jsx(at,{value:"overdue",children:"Overdue"})]})]})]}),u.jsx("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-[#161616]",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Client Name"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Invoice Number"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Amount"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Paid"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Balance"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0] min-w-[160px]",children:"Due Date"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-[#A0A0A0]",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-[#2A2A2A]",children:E.map(N=>u.jsxs("tr",{className:"hover:bg-[#161616] transition-colors",children:[u.jsx("td",{className:"px-6 py-4 text-white font-medium",children:N.clientName}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-[#F5C400] text-sm",children:N.invoiceNumber})}),u.jsxs("td",{className:"px-6 py-4 text-white font-semibold",children:["",N.amount.toLocaleString()]}),u.jsxs("td",{className:"px-6 py-4 text-white font-semibold",children:["",N.amountPaid.toLocaleString()]}),u.jsxs("td",{className:"px-6 py-4 text-white font-semibold",children:["",N.balance.toLocaleString()]}),u.jsx("td",{className:"px-6 py-4 text-[#A0A0A0] whitespace-nowrap min-w-[160px]",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mj,{className:"w-4 h-4"}),N.dueDate?ds(N.dueDate):"-"]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx(fo,{status:N.status})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"flex gap-2",children:u.jsxs(Be,{variant:"outline",className:"border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",onClick:()=>S(N),children:[u.jsx(Fy,{className:"w-4 h-4 mr-2"}),"View Invoice"]})})})]},N.id))})]})})}),u.jsx(os,{open:c,onOpenChange:d,children:u.jsxs(ls,{className:`
            bg-[#1E1E1E] border-[#2A2A2A] text-white
            w-[95vw] max-w-[980px]
            max-h-[92vh]
            overflow-hidden
          `,children:[u.jsxs(cs,{className:"flex items-center justify-between",children:[u.jsxs(us,{className:"text-white",children:["Invoice Details",f?` - ${f.invoiceNumber}`:""]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Be,{variant:"outline",onClick:()=>{const N=String((f==null?void 0:f.invoiceId)??"");N&&(window.location.href=`/dashboard/invoice?invoice=${N}`)},className:"border-[#2A2A2A] text-white",children:"Edit"}),u.jsx(Be,{variant:"outline",onClick:()=>{const N=String((f==null?void 0:f.invoiceId)??"");N&&(window.location.href=`/dashboard/payments-entry?invoice=${N}`)},className:"border-[#2A2A2A] text-white",children:"Record Payment"})]})]}),u.jsx("div",{className:"overflow-y-auto pr-1",style:{maxHeight:"70vh"},children:f&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{ref:g,style:{width:1800,height:"100%",background:"#222",borderRadius:16,boxShadow:"0 0 24px #0004",display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto",padding:24},children:u.jsx(ww,{invoice:b(f),clientName:f.clientName,clientRoom:f.clientRoom,clientContact:f.clientContact,clientEmail:f.clientEmail})})}),u.jsxs(Be,{onClick:_,className:"w-full border-[#2A2A2A] text-white hover:bg-[#2A2A2A]",variant:"outline",type:"button",children:[u.jsx(My,{className:"w-4 h-4 mr-2"})," Download as Image (PNG)"]})]})}),u.jsxs(Gh,{children:[u.jsx(Be,{variant:"destructive",onClick:y,children:"Delete Invoice"}),u.jsx(Be,{variant:"outline",onClick:()=>d(!1),children:"Close"})]})]})}),u.jsxs("div",{className:"flex items-center justify-between text-[#A0A0A0] text-sm",children:[u.jsxs("p",{children:["Showing ",E.length," of ",e.length," transactions"]}),u.jsxs("p",{children:["Total: ",E.reduce((N,$)=>N+$.amount,0).toLocaleString()]})]})]})}function xw(e){var W,J,ae,de,fe,le,te,Q,V,P,Z,X;const{receipt:t,clientName:r,clientRoom:i,clientContact:a,clientEmail:l,previousPaid:c}=e,d=R=>`${Number(R??0).toLocaleString()}`,f=t!=null&&t.payment_date?ds(t.payment_date):"-",m=((W=t==null?void 0:t.invoices)==null?void 0:W.invoice_number)??"Advance/No Invoice",g=(t==null?void 0:t.payment_type)??"-",w=(t==null?void 0:t.payment_method)??"-",b=(t==null?void 0:t.amount)??0,y=(t==null?void 0:t.notes)??"-",S=Number(((J=t==null?void 0:t.invoices)==null?void 0:J.total_amount)??0),_=Number(((ae=t==null?void 0:t.invoices)==null?void 0:ae.amount_paid)??0),E=typeof((de=t==null?void 0:t.invoices)==null?void 0:de.balance_due)<"u"?Number(t.invoices.balance_due):Math.max(S-_,0),C=((fe=t==null?void 0:t.invoices)==null?void 0:fe.payment_status)??"pending",j=Number(((le=t==null?void 0:t.invoices)==null?void 0:le.base_price)??0),T=Number(((te=t==null?void 0:t.invoices)==null?void 0:te.extra_device_charge)??0),L=Number(((Q=t==null?void 0:t.invoices)==null?void 0:Q.unregistered_overcharge)??0),N=Number(((V=t==null?void 0:t.invoices)==null?void 0:V.rebate)??0),$=Number(((P=t==null?void 0:t.invoices)==null?void 0:P.previous_balance)??0),k=Number(((Z=t==null?void 0:t.invoices)==null?void 0:Z.deposit_applied)??0),z=Number(((X=t==null?void 0:t.invoices)==null?void 0:X.total_amount)??0);return u.jsx("div",{style:{background:"#0f0f0f",padding:18,borderRadius:12,width:"fit-content",maxWidth:"100%"},children:u.jsxs("div",{style:{background:"#ffffff",color:"#000000",borderRadius:12,padding:22,width:640,maxWidth:"100%",boxSizing:"border-box",fontFamily:'ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"'},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:16,alignItems:"center"},children:[u.jsx("div",{children:u.jsx("img",{src:Sc,alt:"NexGio Logo",style:{height:48,width:"auto",display:"block"}})}),u.jsxs("div",{style:{textAlign:"right"},children:[u.jsx("div",{style:{fontWeight:700,fontSize:18},children:"NexGio Solutions"}),u.jsxs("div",{style:{color:"#4B5563",fontSize:14,marginTop:2},children:["Receipt #",(t==null?void 0:t.id)??"-"]})]})]}),u.jsx("div",{style:{marginTop:14,fontSize:14,lineHeight:1.6},children:u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:18},children:[u.jsxs("div",{children:[u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Client: "}),u.jsx("span",{style:{fontWeight:600},children:r||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Room: "}),u.jsx("span",{style:{fontWeight:600},children:i||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Contact: "}),u.jsx("span",{style:{fontWeight:600},children:a||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Email: "}),u.jsx("span",{style:{fontWeight:600},children:l||"-"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Payment Date: "}),u.jsx("span",{style:{fontWeight:600},children:f})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Payment Method: "}),u.jsx("span",{style:{fontWeight:600},children:w})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#4B5563"},children:"Payment Type: "}),u.jsx("span",{style:{fontWeight:600},children:g})]})]})]})}),u.jsx("div",{style:{marginTop:16,borderTop:"1px solid #111827"}}),u.jsxs("div",{style:{marginTop:16,fontSize:16},children:[u.jsx("div",{style:{fontWeight:700,fontSize:16,marginBottom:8},children:"Breakdown"}),u.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Invoice Charges"}),u.jsx(Kt,{label:"Base Price",value:d(j)}),u.jsx(Kt,{label:"Extra Device Charge",value:d(T)}),u.jsx(Kt,{label:"Unregistered Overcharge",value:d(L)}),u.jsx(Kt,{label:"Rebate",value:d(N)}),u.jsx(Kt,{label:"Previous Balance",value:d($)}),u.jsx(Kt,{label:"Deposit Applied",value:d(k)}),u.jsx(Kt,{label:"Total Amount",value:d(z)}),u.jsx("div",{style:{height:8}}),u.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Payment Details"}),u.jsx(Kt,{label:"Invoice",value:m}),u.jsx(Kt,{label:"Payment Type",value:g}),u.jsx(Kt,{label:"Previous Paid",value:d(c??0)}),u.jsx(Kt,{label:"Amount Paid",value:d(b)}),u.jsx(Kt,{label:"Payment Date",value:f}),u.jsx(Kt,{label:"Payment Method",value:w}),u.jsx(Kt,{label:"Remaining Balance",value:d(E)}),u.jsx(Kt,{label:"Notes",value:y})]}),u.jsx("div",{style:{marginTop:14,borderTop:"1px solid #111827"}}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:14},children:u.jsxs("div",{style:{textAlign:"right"},children:[u.jsx("div",{style:{color:"#4B5563",fontSize:14},children:"Status"}),u.jsx("div",{style:{fontWeight:800,fontSize:18,marginTop:2},children:C})]})})]})})}function Kt(e){return u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0"},children:[u.jsx("div",{children:e.label}),u.jsx("div",{children:e.value})]})}async function kR(e,t,r,i,a,l=0){const c=(await qi(async()=>{const{default:y}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:y}},[])).default,{createRoot:d}=await qi(async()=>{const{createRoot:y}=await Promise.resolve().then(()=>Av);return{createRoot:y}},void 0),f=document.createElement("div");f.style.position="fixed",f.style.left="-10000px",f.style.top="0",f.style.width="720px",f.style.zIndex="-1",document.body.appendChild(f);const m=d(f);m.render(u.jsx(xw,{receipt:e,clientName:t,clientRoom:r,clientContact:i,clientEmail:a,previousPaid:l})),await new Promise(y=>setTimeout(y,50));const g=f.firstElementChild;if(!g)throw m.unmount(),document.body.removeChild(f),new Error("Failed to render receipt for PNG export.");const w=await c(g,{scale:3,backgroundColor:"#ffffff",useCORS:!0,scrollY:-window.scrollY}),b=await new Promise((y,S)=>{w.toBlob(_=>_?y(_):S(new Error("toBlob failed")),"image/png")});return m.unmount(),document.body.removeChild(f),b}function CR(){var E,C,j,T,L;const[e,t]=x.useState([]),[r,i]=x.useState(!1),[a,l]=x.useState(null),[c,d]=x.useState(0),[f,m]=x.useState(!1),[g,w]=x.useState({}),b=async()=>{i(!0);try{const N=await cc();if(N!=null&&N.error)throw N.error;t((N==null?void 0:N.data)??[])}catch(N){console.error("ReceiptHistory.load",N)}i(!1)};x.useEffect(()=>{b()},[]);const y=async N=>{l(N),m(!1),w({amount:N.amount,payment_date:N.payment_date??"",payment_method:N.payment_method??"",notes:N.notes??"",payment_type:N.payment_type??""});try{if(N!=null&&N.invoice_id){const{sum:$,error:k}=await(await qi(async()=>{const{sumPreviousPaid:z}=await Promise.resolve().then(()=>RN);return{sumPreviousPaid:z}},void 0)).sumPreviousPaid(String(N.invoice_id),{id:N.id,payment_date:N.payment_date??null,created_at:N.created_at??null});d(k?0:Number($??0))}else d(0)}catch($){console.error("openReceipt.sumPreviousPaid",$),d(0)}},S=async()=>{if(a)try{if(await Gy(String(a.id),g),a.invoice_id){const N=await Ks(String(a.invoice_id));if(N!=null&&N.error)throw N.error}await b(),m(!1)}catch(N){console.error(N),alert((N==null?void 0:N.message)??"Failed to update payment")}},_=async()=>{if(a&&confirm("Delete this payment?"))try{if(await Yy(String(a.id)),a.invoice_id){const N=await Ks(String(a.invoice_id));if(N!=null&&N.error)throw N.error}await b(),l(null)}catch(N){console.error(N),alert((N==null?void 0:N.message)??"Failed to delete payment")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Receipt History"}),u.jsx("div",{children:u.jsx(Be,{onClick:b,variant:"outline",children:"Refresh"})})]}),u.jsx("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-[#161616]",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Client"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Invoice"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Type"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Amount"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Date"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Method"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-[#A0A0A0]",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-[#2A2A2A]",children:e.map(N=>{var $,k;return u.jsxs("tr",{className:"hover:bg-[#161616]",children:[u.jsx("td",{className:"px-6 py-4 text-white",children:(($=N.clients)==null?void 0:$.name)??N.client_id}),u.jsx("td",{className:"px-6 py-4 text-[#F5C400]",children:((k=N.invoices)==null?void 0:k.invoice_number)??"Advance/No Invoice"}),u.jsx("td",{className:"px-6 py-4 text-white",children:N.payment_type}),u.jsxs("td",{className:"px-6 py-4 text-white",children:["",Number(N.amount).toLocaleString()]}),u.jsx("td",{className:"px-6 py-4 text-[#A0A0A0]",children:N.payment_date?ds(N.payment_date):"-"}),u.jsx("td",{className:"px-6 py-4 text-[#A0A0A0]",children:N.payment_method??"-"}),u.jsx("td",{className:"px-6 py-4",children:u.jsx(Be,{variant:"outline",onClick:()=>y(N),children:"View Receipt"})})]},N.id)})})]})})}),u.jsx(os,{open:!!a,onOpenChange:N=>{N||l(null)},children:u.jsxs(ls,{className:`\r
            bg-[#1E1E1E] border-[#2A2A2A] text-white\r
            w-[95vw] max-w-[980px]\r
            max-h-[92vh]\r
            overflow-hidden\r
          `,children:[u.jsx(cs,{children:u.jsxs(us,{children:["Receipt ",((E=a==null?void 0:a.invoices)==null?void 0:E.invoice_number)??"(Advance)"]})}),u.jsx("div",{className:"overflow-y-auto pr-1",style:{maxHeight:"70vh"},children:a&&u.jsx("div",{className:"space-y-4",children:u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{style:{width:720,height:"100%",background:"#222",borderRadius:16,boxShadow:"0 0 24px #0004",display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto",padding:24},children:u.jsx(xw,{receipt:a,clientName:(C=a==null?void 0:a.clients)==null?void 0:C.name,clientRoom:(j=a==null?void 0:a.clients)==null?void 0:j.room,clientContact:(T=a==null?void 0:a.clients)==null?void 0:T.contact,clientEmail:(L=a==null?void 0:a.clients)==null?void 0:L.email,previousPaid:c})})})})}),u.jsx(Gh,{children:u.jsx("div",{className:"flex gap-2",children:f?u.jsxs(u.Fragment,{children:[u.jsx(Be,{onClick:S,className:"bg-[#F5C400] text-black",children:"Save"}),u.jsx(Be,{variant:"outline",onClick:()=>{m(!1),w({})},children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Be,{onClick:()=>m(!0),className:"bg-[#F5C400] text-black",children:"Edit"}),u.jsx(Be,{onClick:async()=>{var N,$,k,z;if(a)try{const W=await kR(a,((N=a==null?void 0:a.clients)==null?void 0:N.name)??"",(($=a==null?void 0:a.clients)==null?void 0:$.room)??"",((k=a==null?void 0:a.clients)==null?void 0:k.contact)??"",((z=a==null?void 0:a.clients)==null?void 0:z.email)??"",c),J=URL.createObjectURL(W),ae=document.createElement("a");ae.href=J,ae.download=`receipt-${(a==null?void 0:a.id)??"unknown"}.png`,document.body.appendChild(ae),ae.click(),ae.remove(),URL.revokeObjectURL(J)}catch(W){console.error("exportReceipt failed",W),alert("Failed to export receipt image.")}},className:"bg-[#10B981] text-white",children:"Save as Image"}),u.jsx(Be,{variant:"destructive",onClick:_,children:"Delete"}),u.jsx(Be,{variant:"outline",onClick:()=>l(null),children:"Close"})]})})})]})})]})}function RR(){const{clients:e,reload:t}=Ec(),[r,i]=x.useState(""),a=x.useMemo(()=>e.filter(R=>R.room.toLowerCase().includes(r.toLowerCase())),[e,r]),[l,c]=x.useState(null),d=e.find(R=>R.id===l)??null,[f,m]=x.useState([]),[g,w]=x.useState(null),[b,y]=x.useState("full"),[S,_]=x.useState("0"),[E,C]=x.useState("Cash");function j(R){if(!R)return"";const[H,ne,ce]=R.split("-");return!H||!ne||!ce?"":`${ne}-${ce}-${H}`}function T(R){const H=(R||"").trim();if(!/^\d{2}-\d{2}-\d{4}$/.test(H))return"";const[ne,ce,ge]=H.split("-");return`${ge}-${ne}-${ce}`}const[L,N]=x.useState(j(new Date().toISOString().slice(0,10))),[$,k]=x.useState(""),[z,W]=x.useState(null),J=async R=>{try{const ce=((await Hy(R)).data??[]).filter(ge=>Number(ge.balance_due??0)>0||ge.payment_status!=="paid");m(ce),ce.length?w(ce[0].id):w(null)}catch(H){console.error(H),m([])}},ae=async R=>{c(R),await J(R)};x.useEffect(()=>{const R=g?f.find(H=>H.id===g)??null:null;if(b==="full"&&R){const H=Math.max(Number(R.balance_due??R.total_amount??0),0);_(String(H))}},[g,b,f]);const de=R=>`${R.toFixed(2)}`,fe=async()=>{if(W(null),!d)return W("Select a client");try{const R=g?f.find(H=>H.id===g)??null:null;if(R){const H=Number(S||0);if(H<=0)return W("Payment amount must be > 0");const ne=f.find(ye=>ye.id===R.id)??R,ce=Number(ne.balance_due??ne.total_amount??0),ge=H>=ce?"full":"partial",_e=T(L);if(!_e)return W("Invalid date. Use MM-DD-YYYY");const ee=await uh({client_id:d.id,invoice_id:R.id,payment_type:String(ge).trim().toLowerCase(),amount:H,payment_date:_e,payment_method:E,notes:$});if(ee!=null&&ee.error){console.error("createPayment failed",ee.error),W(ee.error.message??"Failed to record payment");return}const me=await Ks(R.id);if(me!=null&&me.error){const ye=me.error;console.error("recomputeInvoiceFromPayments failed",ye),W((ye==null?void 0:ye.message)||"Payment recorded but invoice recompute failed");return}W(H>=ce?"Payment recorded (may be overpayment)":"Partial payment recorded")}else{if(Number(S||0)<=0)return W("Amount must be > 0");const H=T(L);if(!H)return W("Invalid date. Use MM-DD-YYYY");const ne=await uh({client_id:l,payment_type:"advance",amount:Number(S||0),payment_date:H,payment_method:E,notes:$});if(ne!=null&&ne.error){console.error("createPayment failed",ne.error),W(ne.error.message??"Failed to record payment");return}W("Advance/credit recorded for client")}await t(),l&&await J(l)}catch(R){console.error(R),W((R==null?void 0:R.message)??"Failed to record payment")}},le=g?f.find(R=>R.id===g)??null:null,te=Number((le==null?void 0:le.total_amount)??0),Q=Number((le==null?void 0:le.amount_paid)??0),V=Math.max(te-Q,0),[P,Z]=x.useState(0);x.useEffect(()=>{let R=!0;return(async()=>{if(!d)return Z(0);try{const ne=await Vy(d.id);if(ne!=null&&ne.error)return Z(0);const ce=(ne==null?void 0:ne.data)??null,ge=Number((ce==null?void 0:ce.balance_due)??0);R&&Z(ge<0?ge:0)}catch{R&&Z(0)}})(),()=>{R=!1}},[d]);const X=(d==null?void 0:d.depositAmount)??0;return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Payments Entry"}),u.jsx("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-4",children:u.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[u.jsx("div",{className:"col-span-4 border-r border-[#2A2A2A] pr-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",htmlFor:"roomSearch",children:"Search by Room"}),u.jsx(Re,{id:"roomSearch","aria-label":"Search clients by room",value:r,onChange:R=>i(R.target.value),placeholder:"Type room number...",className:"bg-[#161616] text-white"})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Select Client"}),u.jsxs(Xn,{value:l??"",onValueChange:R=>void ae(R||""),children:[u.jsx(er,{className:"bg-[#161616] text-white",children:u.jsx(Zn,{placeholder:"Choose client"})}),u.jsx(tr,{children:a.map(R=>u.jsxs(at,{value:R.id,children:[R.name,"  ",R.room]},R.id))})]})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Invoices (pending)"}),u.jsxs("div",{className:"space-y-2 max-h-64 overflow-auto",children:[f.length===0&&u.jsx("p",{className:"text-sm text-[#A0A0A0]",children:"No pending invoices"}),f.map(R=>u.jsxs("button",{onClick:()=>w(R.id),className:`w-full text-left p-2 rounded-md ${g===R.id?"bg-[#2A2A2A]":"bg-transparent"}`,children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("div",{className:"text-white",children:R.invoice_number}),u.jsx("div",{className:"text-[#A0A0A0]",children:de(Number(R.balance_due??R.total_amount??0))})]}),u.jsxs("div",{className:"text-sm text-[#808080]",children:["Due: ",AR(R.due_date)]})]},R.id))]})]})]})}),u.jsxs("div",{className:"col-span-8 pl-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-[#161616] rounded-md p-4",children:[u.jsx("p",{className:"text-sm text-[#A0A0A0]",children:"Invoice"}),u.jsx("p",{className:"text-white font-medium",children:(le==null?void 0:le.invoice_number)??"(no invoice selected)"}),u.jsx("p",{className:"text-sm text-[#A0A0A0]",children:"Client"}),u.jsx("p",{className:"text-white",children:(d==null?void 0:d.name)??"-"}),u.jsx("p",{className:"text-sm text-[#A0A0A0]",children:d?d.status==="active"?"Active":"Inactive":""})]}),u.jsxs("div",{className:"bg-[#161616] rounded-md p-4",children:[u.jsx("p",{className:"text-sm text-[#A0A0A0]",children:"Summary"}),u.jsxs("div",{className:"mt-2 space-y-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Total Amount"}),u.jsx("span",{className:"text-white",children:de(te)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Paid Amount"}),u.jsx("span",{className:"text-white",children:de(Q)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Balance Due"}),u.jsx("span",{className:"text-white",children:de(V)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Previous Balance"}),u.jsx("span",{className:"text-white",children:de(P)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[#A0A0A0]",children:"Deposit"}),u.jsx("span",{className:"text-white",children:de(X)})]})]})]})]}),u.jsxs("div",{className:"mt-4 bg-[#161616] rounded-md p-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Payment Type"}),u.jsxs(Xn,{value:b,onValueChange:R=>y(R),children:[u.jsx(er,{className:"bg-[#161616] text-white",children:u.jsx(Zn,{})}),u.jsxs(tr,{children:[u.jsx(at,{value:"full",children:"Full"}),u.jsx(at,{value:"partial",children:"Partial"})]})]})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Amount"}),u.jsx(Re,{type:"number",value:S,onChange:R=>_(R.target.value),className:"bg-[#161616] text-white"})]}),u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Payment Date"}),u.jsx(Re,{type:"text",inputMode:"numeric",placeholder:"MM-DD-YYYY",value:L,onChange:R=>N(R.target.value),className:"bg-[#161616] text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[u.jsxs("div",{children:[u.jsx(xe,{className:"text-white",children:"Method"}),u.jsxs(Xn,{value:E,onValueChange:C,children:[u.jsx(er,{className:"bg-[#161616] text-white",children:u.jsx(Zn,{})}),u.jsxs(tr,{children:[u.jsx(at,{value:"Cash",children:"Cash"}),u.jsx(at,{value:"GCash",children:"GCash"}),u.jsx(at,{value:"Bank Transfer",children:"Bank Transfer"})]})]})]}),u.jsx("div",{})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx(xe,{className:"text-white",children:"Notes"}),u.jsx(Re,{value:$,onChange:R=>k(R.target.value),className:"bg-[#161616] text-white"})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx(Be,{onClick:fe,className:"w-full bg-[#F5C400] text-black",children:"Save Payment"}),z&&u.jsx("p",{className:"text-sm text-[#A0A0A0] mt-2",children:z})]})]})]})]})})]})}function PR(){const{profile:e,loading:t,saveProfile:r,changePassword:i}=Wy(),[a,l]=x.useState({username:"",admin_full_name:"",email:"",admin_phone:"",admin_role:""}),[c,d]=x.useState(null);x.useEffect(()=>{e&&l({username:e.username??"",admin_full_name:e.admin_full_name??"",email:e.email??"",admin_phone:e.admin_phone??"",admin_role:e.admin_role??""})},[e]);const[f,m]=x.useState({currentPassword:"",newPassword:""}),[g,w]=x.useState(null),b=async()=>{d("saving");try{const S=(a.username??"").trim();if(!S){d("error: Username is required");return}const _=await r({username:S,admin_full_name:a.admin_full_name,admin_phone:a.admin_phone,admin_role:a.admin_role,email:a.email});if(!_.ok)throw new Error(_.error??"Unknown error");d("saved"),setTimeout(()=>d(null),2e3)}catch(S){d(`error: ${(S==null?void 0:S.message)??String(S)}`)}},y=async()=>{w("saving");try{if(!f.newPassword||f.newPassword.length<6)throw new Error("New password must be at least 6 characters");const S=await i(f.currentPassword,f.newPassword);if(!S.ok)throw new Error(S.error??"Unknown error");w("changed"),m({currentPassword:"",newPassword:""}),setTimeout(()=>w(null),2e3)}catch(S){w(`error: ${(S==null?void 0:S.message)??String(S)}`)}};return u.jsx("div",{className:"space-y-6 max-w-4xl",children:u.jsxs("div",{className:"bg-[#1E1E1E] border border-[#2A2A2A] rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"p-3 rounded-lg bg-[#F5C400]/10",children:u.jsx(qj,{className:"w-6 h-6 text-[#F5C400]"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Admin Profile Settings"}),u.jsx("p",{className:"text-[#A0A0A0] text-sm",children:"Manage your account information"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Full Name"}),u.jsx(Re,{value:a.admin_full_name,onChange:S=>l(_=>({..._,admin_full_name:S.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Username"}),u.jsx(Re,{value:a.username,onChange:S=>l(_=>({..._,username:S.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Email Address"}),u.jsx(Re,{type:"email",value:a.email,onChange:S=>l(_=>({..._,email:S.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Phone Number"}),u.jsx(Re,{value:a.admin_phone,onChange:S=>l(_=>({..._,admin_phone:S.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Role"}),u.jsx(Re,{value:a.admin_role,readOnly:!0,className:"bg-[#161616] border-[#2A2A2A] text-white"})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(xe,{className:"text-white",children:"Change Password"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Re,{type:"password",placeholder:"Current password",value:f.currentPassword,onChange:S=>m(_=>({..._,currentPassword:S.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"}),u.jsx(Re,{type:"password",placeholder:"New password",value:f.newPassword,onChange:S=>m(_=>({..._,newPassword:S.target.value})),className:"bg-[#161616] border-[#2A2A2A] text-white"})]})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[u.jsx("div",{className:"text-sm text-[#A0A0A0]",children:c??g??(t?"loading...":"")}),u.jsx(Be,{onClick:b,className:"bg-[#F5C400] hover:bg-[#F5C400]/90 text-[#0F0F0F]",children:"Save Profile Changes"}),u.jsx(Be,{onClick:y,className:"bg-[#2B8AEB] hover:bg-[#2B8AEB]/90 text-white",children:"Change Password"})]})]})]})})}const TR=_S([{path:"/",element:u.jsx(aj,{})},{path:"/services",element:u.jsx(Zj,{})},{path:"/dashboard",element:u.jsx(mE,{children:u.jsx(aN,{})}),children:[{index:!0,element:u.jsx(ON,{}),handle:{title:"Dashboard"}},{path:"clients",element:u.jsx(gR,{}),handle:{title:"Client List"}},{path:"tiers",element:u.jsx(vR,{}),handle:{title:"Internet Tiers"}},{path:"invoice",element:u.jsx(ER,{}),handle:{title:"Invoice Generation"}},{path:"payments",element:u.jsx(NR,{}),handle:{title:"Invoice History"}},{path:"receipts",element:u.jsx(CR,{}),handle:{title:"Receipt History"}},{path:"payments-entry",element:u.jsx(RR,{}),handle:{title:"Payments Entry"}},{path:"settings",element:u.jsx(PR,{}),handle:{title:"Settings"}}]}]);function OR(){return u.jsx(DS,{router:TR})}Sv.createRoot(document.getElementById("root")).render(u.jsx(OR,{}));
